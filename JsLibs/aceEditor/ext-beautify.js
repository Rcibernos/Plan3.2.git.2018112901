define("ace/ext/beautify/php_rules",["require","exports","module","ace/token_iterator"],function(c,a,b){var d=c("ace/token_iterator").TokenIterator;a.newLines=[{type:"support.php_tag",value:"<?php"},{type:"support.php_tag",value:"<?"},{type:"support.php_tag",value:"?>"},{type:"paren.lparen",value:"{",indent:true},{type:"paren.rparen",breakBefore:true,value:"}",indent:false},{type:"paren.rparen",breakBefore:true,value:"})",indent:false,dontBreak:true},{type:"comment"},{type:"text",value:";"},{type:"text",value:":",context:"php"},{type:"keyword",value:"case",indent:true,dontBreak:true},{type:"keyword",value:"default",indent:true,dontBreak:true},{type:"keyword",value:"break",indent:false,dontBreak:true},{type:"punctuation.doctype.end",value:">"},{type:"meta.tag.punctuation.end",value:">"},{type:"meta.tag.punctuation.begin",value:"<",blockTag:true,indent:true,dontBreak:true},{type:"meta.tag.punctuation.begin",value:"</",indent:false,breakBefore:true,dontBreak:true},{type:"punctuation.operator",value:";"}];a.spaces=[{type:"xml-pe",prepend:true},{type:"entity.other.attribute-name",prepend:true},{type:"storage.type",value:"var",append:true},{type:"storage.type",value:"function",append:true},{type:"keyword.operator",value:"="},{type:"keyword",value:"as",prepend:true,append:true},{type:"keyword",value:"function",append:true},{type:"support.function",next:/[^\(]/,append:true},{type:"keyword",value:"or",append:true,prepend:true},{type:"keyword",value:"and",append:true,prepend:true},{type:"keyword",value:"case",append:true},{type:"keyword.operator",value:"||",append:true,prepend:true},{type:"keyword.operator",value:"&&",append:true,prepend:true}];a.singleTags=["!doctype","area","base","br","hr","input","img","link","meta"];a.transform=function(l,o,g){var v=l.getCurrentToken();var p=a.newLines;var t=a.spaces;var s=a.singleTags;var f="";var k=0;var h=false;var u;var m;var n={};var q;var r={};var e=false;var w="";while(v!==null){console.log(v);if(!v){v=l.stepForward();continue}if(v.type=="support.php_tag"&&v.value!="?>"){g="php"}else{if(v.type=="support.php_tag"&&v.value=="?>"){g="html"}else{if(v.type=="meta.tag.name.style"&&g!="css"){g="css"}else{if(v.type=="meta.tag.name.style"&&g=="css"){g="html"}else{if(v.type=="meta.tag.name.script"&&g!="js"){g="js"}else{if(v.type=="meta.tag.name.script"&&g=="js"){g="html"}}}}}}r=l.stepForward();if(r&&r.type.indexOf("meta.tag.name")==0){q=r.value}if(n.type=="support.php_tag"&&n.value=="<?="){h=true}if(v.type=="meta.tag.name"){v.value=v.value.toLowerCase()}if(v.type=="text"){v.value=v.value.trim()}if(!v.value){v=r;continue}w=v.value;for(var j in t){if(v.type==t[j].type&&(!t[j].value||v.value==t[j].value)&&(r&&(!t[j].next||t[j].next.test(r.value)))){if(t[j].prepend){w=" "+v.value}if(t[j].append){w+=" "}}}if(v.type.indexOf("meta.tag.name")==0){u=v.value}e=false;for(j in p){if(v.type==p[j].type&&(!p[j].value||v.value==p[j].value)&&(!p[j].blockTag||s.indexOf(q)===-1)&&(!p[j].context||p[j].context===g)){if(p[j].indent===false){k--}if(p[j].breakBefore&&(!p[j].prev||p[j].prev.test(n.value))){f+="\n";e=true;for(j=0;j<k;j++){f+="\t"}}break}}if(h===false){for(j in p){if(n.type==p[j].type&&(!p[j].value||n.value==p[j].value)&&(!p[j].blockTag||s.indexOf(u)===-1)&&(!p[j].context||p[j].context===g)){if(p[j].indent===true){k++}if(!p[j].dontBreak&&!e){f+="\n";for(j=0;j<k;j++){f+="\t"}}break}}}f+=w;if(n.type=="support.php_tag"&&n.value=="?>"){h=false}m=u;n=v;v=r;if(v===null){break}}return f}});define("ace/ext/beautify",["require","exports","module","ace/token_iterator","ace/ext/beautify/php_rules"],function(d,a,b){var e=d("ace/token_iterator").TokenIterator;var c=d("./beautify/php_rules").transform;a.beautify=function(i){var h=new e(i,0,0);var j=h.getCurrentToken();var g=i.$modeId.split("/").pop();var f=c(h,g);i.doc.setValue(f)};a.commands=[{name:"beautify",exec:function(f){a.beautify(f.session)},bindKey:"Ctrl-Shift-B"}]});(function(){window.require(["ace/ext/beautify"],function(){})})();