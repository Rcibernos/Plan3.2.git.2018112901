define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],function(n,f,i){var l=n("./lib/oop");var e=n("./lib/event_emitter").EventEmitter;var h=n("./lib/lang");var m=n("./range").Range;var a=n("./anchor").Anchor;var g=n("./keyboard/hash_handler").HashHandler;var q=n("./tokenizer").Tokenizer;var c=m.comparePoints;var o=function(){this.snippetMap={};this.snippetNameMap={}};(function(){l.implement(this,e);this.getTokenizer=function(){function s(v,t,u){v=v.substr(1);if(/^\d+$/.test(v)&&!u.inFormatString){return[{tabstopId:parseInt(v,10)}]}return[{text:v}]}function r(t){return"(?:[^\\\\"+t+"]|\\\\.)"}o.$tokenizer=new q({start:[{regex:/:/,onMatch:function(v,u,t){if(t.length&&t[0].expectIf){t[0].expectIf=false;t[0].elseBranch=t[0];return[t[0]]}return":"}},{regex:/\\./,onMatch:function(w,v,u){var t=w[1];if(t=="}"&&u.length){w=t}else{if("`$\\".indexOf(t)!=-1){w=t}else{if(u.inFormatString){if(t=="n"){w="\n"}else{if(t=="t"){w="\n"}else{if("ulULE".indexOf(t)!=-1){w={changeCase:t,local:t>"a"}}}}}}}return[w]}},{regex:/}/,onMatch:function(v,u,t){return[t.length?t.shift():v]}},{regex:/\$(?:\d+|\w+)/,onMatch:s},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(w,v,u){var x=s(w.substr(1),v,u);u.unshift(x[0]);return x},next:"snippetVar"},{regex:/\n/,token:"newline",merge:false}],snippetVar:[{regex:"\\|"+r("\\|")+"*\\|",onMatch:function(v,u,t){t[0].choices=v.slice(1,-1).split(",")},next:"start"},{regex:"/("+r("/")+"+)/(?:("+r("/")+"*)/)(\\w*):?",onMatch:function(w,u,t){var v=t[0];v.fmtString=w;w=this.splitRegex.exec(w);v.guard=w[1];v.fmt=w[2];v.flag=w[3];return""},next:"start"},{regex:"`"+r("`")+"*`",onMatch:function(v,u,t){t[0].code=v.splice(1,-1);return""},next:"start"},{regex:"\\?",onMatch:function(v,u,t){if(t[0]){t[0].expectIf=true}},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+r("/")+"+)/",token:"regex"},{regex:"",onMatch:function(v,u,t){t.inFormatString=true},next:"start"}]});o.prototype.getTokenizer=function(){return o.$tokenizer};return o.$tokenizer};this.tokenizeTmSnippet=function(s,r){return this.getTokenizer().getLineTokens(s,r).tokens.map(function(t){return t.value||t})};this.$getDefaultValue=function(t,v){if(/^[A-Z]\d+$/.test(v)){var u=v.substr(1);return(this.variables[v[0]+"__"]||{})[u]}if(/^\d+$/.test(v)){return(this.variables.__||{})[v]}v=v.replace(/^TM_/,"");if(!t){return}var x=t.session;switch(v){case"CURRENT_WORD":var w=x.getWordRange();case"SELECTION":case"SELECTED_TEXT":return x.getTextRange(w);case"CURRENT_LINE":return x.getLine(t.getCursorPosition().row);case"PREV_LINE":return x.getLine(t.getCursorPosition().row-1);case"LINE_INDEX":return t.getCursorPosition().column;case"LINE_NUMBER":return t.getCursorPosition().row+1;case"SOFT_TABS":return x.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return x.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}};this.variables={};this.getVariableValue=function(r,s){if(this.variables.hasOwnProperty(s)){return this.variables[s](r,s)||""}return this.$getDefaultValue(r,s)||""};this.tmStrFormat=function(y,s,t){var u=s.flag||"";var x=s.guard;x=new RegExp(x,u.replace(/[^gi]/,""));var v=this.tokenizeTmSnippet(s.fmt,"formatString");var r=this;var w=y.replace(x,function(){r.variables.__=arguments;var A=r.resolveVariables(v,t);var B="E";for(var C=0;C<A.length;C++){var z=A[C];if(typeof z=="object"){A[C]="";if(z.changeCase&&z.local){var D=A[C+1];if(D&&typeof D=="string"){if(z.changeCase=="u"){A[C]=D[0].toUpperCase()}else{A[C]=D[0].toLowerCase()}A[C+1]=D.substr(1)}}else{if(z.changeCase){B=z.changeCase}}}else{if(B=="U"){A[C]=z.toUpperCase()}else{if(B=="L"){A[C]=z.toLowerCase()}}}}return A.join("")});this.variables.__=null;return w};this.resolveVariables=function(w,s){var v=[];for(var u=0;u<w.length;u++){var r=w[u];if(typeof r=="string"){v.push(r)}else{if(typeof r!="object"){continue}else{if(r.skip){t(r)}else{if(r.processed<u){continue}else{if(r.text){var x=this.getVariableValue(s,r.text);if(x&&r.fmtString){x=this.tmStrFormat(x,r)}r.processed=u;if(r.expectIf==null){if(x){v.push(x);t(r)}}else{if(x){r.skip=r.elseBranch}else{t(r)}}}else{if(r.tabstopId!=null){v.push(r)}else{if(r.changeCase!=null){v.push(r)}}}}}}}}function t(y){var z=w.indexOf(y,u+1);if(z!=-1){u=z}}return v};this.insertSnippetForSelection=function(v,H){var u=v.getCursorPosition();var C=v.session.getLine(u.row);var K=v.session.getTabString();var B=C.match(/^\s*/)[0];if(u.column<B.length){B=B.slice(0,u.column)}H=H.replace(/\r/g,"");var M=this.tokenizeTmSnippet(H);M=this.resolveVariables(M,v);M=M.map(function(O){if(O=="\n"){return O+B}if(typeof O=="string"){return O.replace(/\t/g,K)}return O});var J=[];M.forEach(function(S,O){if(typeof S!="object"){return}var Q=S.tabstopId;var T=J[Q];if(!T){T=J[Q]=[];T.index=Q;T.value=""}if(T.indexOf(S)!==-1){return}T.push(S);var P=M.indexOf(S,O+1);if(P===-1){return}var U=M.slice(O+1,P);var R=U.some(function(V){return typeof V==="object"});if(R&&!T.value){T.value=U}else{if(U.length&&(!T.value||typeof T.value!=="string")){T.value=U.join("")}}});J.forEach(function(O){O.length=0});var x={};function t(S){var O=[];for(var P=0;P<S.length;P++){var R=S[P];if(typeof R=="object"){if(x[R.tabstopId]){continue}var Q=S.lastIndexOf(R,P-1);R=O[Q]||{tabstopId:R.tabstopId}}O[P]=R}return O}for(var y=0;y<M.length;y++){var D=M[y];if(typeof D!="object"){continue}var A=D.tabstopId;var z=M.indexOf(D,y+1);if(x[A]){if(x[A]===D){x[A]=null}continue}var N=J[A];var r=typeof N.value=="string"?[N.value]:t(N.value);r.unshift(y+1,Math.max(0,z-y));r.push(D);x[A]=D;M.splice.apply(M,r);if(N.indexOf(D)===-1){N.push(D)}}var F=0,s=0;var L="";M.forEach(function(P){if(typeof P==="string"){var O=P.split("\n");if(O.length>1){s=O[O.length-1].length;F+=O.length-1}else{s+=P.length}L+=P}else{if(!P.start){P.start={row:F,column:s}}else{P.end={row:F,column:s}}}});var E=v.getSelectionRange();var w=v.session.replace(E,L);var I=new p(v);var G=v.inVirtualSelectionMode&&v.selection.index;I.addTabstops(J,E.start,w,G)};this.insertSnippet=function(r,t){var s=this;if(r.inVirtualSelectionMode){return s.insertSnippetForSelection(r,t)}r.forEachSelection(function(){s.insertSnippetForSelection(r,t)},null,{keepOrder:true});if(r.tabstopManager){r.tabstopManager.tabNext()}};this.$getScope=function(s){var t=s.session.$mode.$id||"";t=t.split("/").pop();if(t==="html"||t==="php"){if(t==="php"&&!s.session.$mode.inlinePhp){t="html"}var r=s.getCursorPosition();var u=s.session.getState(r.row);if(typeof u==="object"){u=u[0]}if(u.substring){if(u.substring(0,3)=="js-"){t="javascript"}else{if(u.substring(0,4)=="css-"){t="css"}else{if(u.substring(0,4)=="php-"){t="php"}}}}}return t};this.getActiveScopes=function(r){var s=this.$getScope(r);var t=[s];var u=this.snippetMap;if(u[s]&&u[s].includeScopes){t.push.apply(t,u[s].includeScopes)}t.push("_");return t};this.expandWithTab=function(r,s){var u=this;var t=r.forEachSelection(function(){return u.expandSnippetForSelection(r,s)},null,{keepOrder:true});if(t&&r.tabstopManager){r.tabstopManager.tabNext()}return t};this.expandSnippetForSelection=function(u,w){var t=u.getCursorPosition();var v=u.session.getLine(t.row);var s=v.substring(0,t.column);var r=v.substr(t.column);var y=this.snippetMap;var x;this.getActiveScopes(u).some(function(z){var A=y[z];if(A){x=this.findMatchingSnippet(A,s,r)}return !!x},this);if(!x){return false}if(w&&w.dryRun){return true}u.session.doc.removeInLine(t.row,t.column-x.replaceBefore.length,t.column+x.replaceAfter.length);this.variables.M__=x.matchBefore;this.variables.T__=x.matchAfter;this.insertSnippetForSelection(u,x.content);this.variables.M__=this.variables.T__=null;return true};this.findMatchingSnippet=function(w,t,r){for(var u=w.length;u--;){var v=w[u];if(v.startRe&&!v.startRe.test(t)){continue}if(v.endRe&&!v.endRe.test(r)){continue}if(!v.startRe&&!v.endRe){continue}v.matchBefore=v.startRe?v.startRe.exec(t):[""];v.matchAfter=v.endRe?v.endRe.exec(r):[""];v.replaceBefore=v.triggerRe?v.triggerRe.exec(t)[0]:"";v.replaceAfter=v.endTriggerRe?v.endTriggerRe.exec(r)[0]:"";return v}};this.snippetMap={};this.snippetNameMap={};this.register=function(x,t){var v=this.snippetMap;var w=this.snippetNameMap;var u=this;if(!x){x=[]}function y(z){if(z&&!/^\^?\(.*\)\$?$|^\\b$/.test(z)){z="(?:"+z+")"}return z||""}function s(B,z,A){B=y(B);z=y(z);if(A){B=z+B;if(B&&B[B.length-1]!="$"){B=B+"$"}}else{B=B+z;if(B&&B[0]!="^"){B="^"+B}}return new RegExp(B)}function r(B){if(!B.scope){B.scope=t||"_"}t=B.scope;if(!v[t]){v[t]=[];w[t]={}}var z=w[t];if(B.name){var A=z[B.name];if(A){u.unregister(A)}z[B.name]=B}v[t].push(B);if(B.tabTrigger&&!B.trigger){if(!B.guard&&/^\w/.test(B.tabTrigger)){B.guard="\\b"}B.trigger=h.escapeRegExp(B.tabTrigger)}if(!B.trigger&&!B.guard&&!B.endTrigger&&!B.endGuard){return}B.startRe=s(B.trigger,B.guard,true);B.triggerRe=new RegExp(B.trigger,"",true);B.endRe=s(B.endTrigger,B.endGuard,true);B.endTriggerRe=new RegExp(B.endTrigger,"",true)}if(x&&x.content){r(x)}else{if(Array.isArray(x)){x.forEach(r)}}this._signal("registerSnippets",{scope:t})};this.unregister=function(v,s){var t=this.snippetMap;var u=this.snippetNameMap;function r(z){var y=u[z.scope||s];if(y&&y[z.name]){delete y[z.name];var x=t[z.scope||s];var w=x&&x.indexOf(z);if(w>=0){x.splice(w,1)}}}if(v.content){r(v)}else{if(Array.isArray(v)){v.forEach(r)}}};this.parseSnippetFile=function(y){y=y.replace(/\r/g,"");var u=[],x={};var w=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;var v;while(v=w.exec(y)){if(v[1]){try{x=JSON.parse(v[1]);u.push(x)}catch(r){}}if(v[4]){x.content=v[4].replace(/^\t/gm,"");u.push(x);x={}}else{var t=v[2],z=v[3];if(t=="regex"){var s=/\/((?:[^\/\\]|\\.)*)|$/g;x.guard=s.exec(z)[1];x.trigger=s.exec(z)[1];x.endTrigger=s.exec(z)[1];x.endGuard=s.exec(z)[1]}else{if(t=="snippet"){x.tabTrigger=z.match(/^\S*/)[0];if(!x.name){x.name=z}}else{x[t]=z}}}}return u};this.getSnippetByName=function(s,r){var u=this.snippetNameMap;var t;this.getActiveScopes(r).some(function(v){var w=u[v];if(w){t=w[s]}return !!t},this);return t}}).call(o.prototype);var p=function(r){if(r.tabstopManager){return r.tabstopManager}r.tabstopManager=this;this.$onChange=this.onChange.bind(this);this.$onChangeSelection=h.delayedCall(this.onChangeSelection.bind(this)).schedule;this.$onChangeSession=this.onChangeSession.bind(this);this.$onAfterExec=this.onAfterExec.bind(this);this.attach(r)};(function(){this.attach=function(r){this.index=0;this.ranges=[];this.tabstops=[];this.$openTabstops=null;this.selectedTabstop=null;this.editor=r;this.editor.on("change",this.$onChange);this.editor.on("changeSelection",this.$onChangeSelection);this.editor.on("changeSession",this.$onChangeSession);this.editor.commands.on("afterExec",this.$onAfterExec);this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)};this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this);this.ranges=null;this.tabstops=null;this.selectedTabstop=null;this.editor.removeListener("change",this.$onChange);this.editor.removeListener("changeSelection",this.$onChangeSelection);this.editor.removeListener("changeSession",this.$onChangeSession);this.editor.commands.removeListener("afterExec",this.$onAfterExec);this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);this.editor.tabstopManager=null;this.editor=null};this.onChange=function(v){var t=v;var z=v.action[0]=="r";var D=v.start;var w=v.end;var E=D.row;var x=w.row;var A=x-E;var u=w.column-D.column;if(z){A=-A;u=-u}if(!this.$inChange&&z){var F=this.selectedTabstop;var s=F&&!F.some(function(G){return c(G.start,D)<=0&&c(G.end,w)>=0});if(s){return this.detach()}}var C=this.ranges;for(var y=0;y<C.length;y++){var B=C[y];if(B.end.row<D.row){continue}if(z&&c(D,B.start)<0&&c(w,B.end)>0){this.removeRange(B);y--;continue}if(B.start.row==E&&B.start.column>D.column){B.start.column+=u}if(B.end.row==E&&B.end.column>=D.column){B.end.column+=u}if(B.start.row>=E){B.start.row+=A}if(B.end.row>=E){B.end.row+=A}if(c(B.start,B.end)>0){this.removeRange(B)}}if(!C.length){this.detach()}};this.updateLinkedFields=function(){var w=this.selectedTabstop;if(!w||!w.hasLinkedRanges){return}this.$inChange=true;var u=this.editor.session;var v=u.getTextRange(w.firstNonLinked);for(var s=w.length;s--;){var t=w[s];if(!t.linked){continue}var r=f.snippetManager.tmStrFormat(v,t.original);u.replace(t,r)}this.$inChange=false};this.onAfterExec=function(r){if(r.command&&!r.command.readOnly){this.updateLinkedFields()}};this.onChangeSelection=function(){if(!this.editor){return}var w=this.editor.selection.lead;var r=this.editor.selection.anchor;var v=this.editor.selection.isEmpty();for(var u=this.ranges.length;u--;){if(this.ranges[u].linked){continue}var t=this.ranges[u].contains(w.row,w.column);var s=v||this.ranges[u].contains(r.row,r.column);if(t&&s){return}}this.detach()};this.onChangeSession=function(){this.detach()};this.tabNext=function(r){var t=this.tabstops.length;var s=this.index+(r||1);s=Math.min(Math.max(s,1),t);if(s==t){s=0}this.selectTabstop(s);if(s===0){this.detach()}};this.selectTabstop=function(s){this.$openTabstops=null;var u=this.tabstops[this.index];if(u){this.addTabstopMarkers(u)}this.index=s;u=this.tabstops[this.index];if(!u||!u.length){return}this.selectedTabstop=u;if(!this.editor.inVirtualSelectionMode){var t=this.editor.multiSelect;t.toSingleRange(u.firstNonLinked.clone());for(var r=u.length;r--;){if(u.hasLinkedRanges&&u[r].linked){continue}t.addRange(u[r].clone(),true)}if(t.ranges[0]){t.addRange(t.ranges[0].clone())}}else{this.editor.selection.setRange(u.firstNonLinked)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)};this.addTabstops=function(x,w,s){if(!this.$openTabstops){this.$openTabstops=[]}if(!x[0]){var u=m.fromPoints(s,s);k(u.start,w);k(u.end,w);x[0]=[u];x[0].index=0}var t=this.index;var r=[t+1,0];var v=this.ranges;x.forEach(function(D,A){var y=this.$openTabstops[A]||D;for(var z=D.length;z--;){var B=D[z];var C=m.fromPoints(B.start,B.end||B.start);j(C.start,w);j(C.end,w);C.original=B;C.tabstop=y;v.push(C);if(y!=D){y.unshift(C)}else{y[z]=C}if(B.fmtString){C.linked=true;y.hasLinkedRanges=true}else{if(!y.firstNonLinked){y.firstNonLinked=C}}}if(!y.firstNonLinked){y.hasLinkedRanges=false}if(y===D){r.push(y);this.$openTabstops[A]=y}this.addTabstopMarkers(y)},this);if(r.length>2){if(this.tabstops.length){r.push(r.splice(2,1)[0])}this.tabstops.splice.apply(this.tabstops,r)}};this.addTabstopMarkers=function(s){var r=this.editor.session;s.forEach(function(t){if(!t.markerId){t.markerId=r.addMarker(t,"ace_snippet-marker","text")}})};this.removeTabstopMarkers=function(s){var r=this.editor.session;s.forEach(function(t){r.removeMarker(t.markerId);t.markerId=null})};this.removeRange=function(s){var r=s.tabstop.indexOf(s);s.tabstop.splice(r,1);r=this.ranges.indexOf(s);this.ranges.splice(r,1);this.editor.session.removeMarker(s.markerId);if(!s.tabstop.length){r=this.tabstops.indexOf(s.tabstop);if(r!=-1){this.tabstops.splice(r,1)}if(!this.tabstops.length){this.detach()}}};this.keyboardHandler=new g();this.keyboardHandler.bindKeys({Tab:function(r){if(f.snippetManager&&f.snippetManager.expandWithTab(r)){return}r.tabstopManager.tabNext(1)},"Shift-Tab":function(r){r.tabstopManager.tabNext(-1)},Esc:function(r){r.tabstopManager.detach()},Return:function(r){return false}})}).call(p.prototype);var b={};b.onChange=a.prototype.onChange;b.setPosition=function(s,r){this.pos.row=s;this.pos.column=r};b.update=function(t,s,r){this.$insertRight=r;this.pos=t;this.onChange(s)};var j=function(s,r){if(s.row==0){s.column+=r.column}s.row+=r.row};var k=function(r,s){if(r.row==s.row){r.column-=s.column}r.row-=s.row};n("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}");f.snippetManager=new o();var d=n("./editor").Editor;(function(){this.insertSnippet=function(r,s){return f.snippetManager.insertSnippet(this,r,s)};this.expandSnippet=function(r){return f.snippetManager.expandWithTab(this,r)}}).call(d.prototype)});define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(k,f,h){var j=k("../virtual_renderer").VirtualRenderer;var d=k("../editor").Editor;var i=k("../range").Range;var e=k("../lib/event");var g=k("../lib/lang");var c=k("../lib/dom");var a=function(m){var n=new j(m);n.$maxLines=4;var l=new d(n);l.setHighlightActiveLine(false);l.setShowPrintMargin(false);l.renderer.setShowGutter(false);l.renderer.setHighlightGutterLine(false);l.$mouseHandler.$focusWaitTimout=0;l.$highlightTagPending=true;return l};var b=function(r){var m=c.createElement("div");var s=new a(m);if(r){r.appendChild(m)}m.style.display="none";s.renderer.content.style.cursor="default";s.renderer.setStyle("ace_autocomplete");s.setOption("displayIndentGuides",false);s.setOption("dragDelay",150);var q=function(){};s.focus=q;s.$isFocused=true;s.renderer.$cursorLayer.restartTimer=q;s.renderer.$cursorLayer.element.style.opacity=0;s.renderer.$maxLines=8;s.renderer.$keepTextAreaAtCursor=false;s.setHighlightActiveLine(false);s.session.highlight("");s.session.$searchHighlight.clazz="ace_highlight-marker";s.on("mousedown",function(v){var w=v.getDocumentPosition();s.selection.moveToPosition(w);t.start.row=t.end.row=w.row;v.stop()});var p;var o=new i(-1,0,-1,Infinity);var t=new i(-1,0,-1,Infinity);t.id=s.session.addMarker(t,"ace_active-line","fullLine");s.setSelectOnHover=function(v){if(!v){o.id=s.session.addMarker(o,"ace_line-hover","fullLine")}else{if(o.id){s.session.removeMarker(o.id);o.id=null}}};s.setSelectOnHover(false);s.on("mousemove",function(v){if(!p){p=v;return}if(p.x==v.x&&p.y==v.y){return}p=v;p.scrollTop=s.renderer.scrollTop;var w=p.getDocumentPosition().row;if(o.start.row!=w){if(!o.id){s.setRow(w)}u(w)}});s.renderer.on("beforeRender",function(){if(p&&o.start.row!=-1){p.$pos=null;var v=p.getDocumentPosition().row;if(!o.id){s.setRow(v)}u(v,true)}});s.renderer.on("afterRender",function(){var v=s.getRow();var x=s.renderer.$textLayer;var w=x.element.childNodes[v-x.config.firstRow];if(w==x.selectedNode){return}if(x.selectedNode){c.removeCssClass(x.selectedNode,"ace_selected")}x.selectedNode=w;if(w){c.addCssClass(w,"ace_selected")}});var n=function(){u(-1)};var u=function(v,w){if(v!==o.start.row){o.start.row=o.end.row=v;if(!w){s.session._emit("changeBackMarker")}s._emit("changeHoverMarker")}};s.getHoveredRow=function(){return o.start.row};e.addListener(s.container,"mouseout",n);s.on("hide",n);s.on("changeSelection",n);s.session.doc.getLength=function(){return s.data.length};s.session.doc.getLine=function(w){var v=s.data[w];if(typeof v=="string"){return v}return(v&&v.value)||""};var l=s.session.bgTokenizer;l.$tokenizeRow=function(C){var w=s.data[C];var D=[];if(!w){return D}if(typeof w=="string"){w={value:w}}if(!w.caption){w.caption=w.value||w.name}var z=-1;var x,v;for(var y=0;y<w.caption.length;y++){v=w.caption[y];x=w.matchMask&(1<<y)?1:0;if(z!==x){D.push({type:w.className||""+(x?"completion-highlight":""),value:v});z=x}else{D[D.length-1].value+=v}}if(w.meta){var A=s.renderer.$size.scrollerWidth/s.renderer.layerConfig.characterWidth;var B=w.meta;if(B.length+w.caption.length>A-2){B=B.substr(0,A-w.caption.length-3)+"\u2026"}D.push({type:"rightAlignedText",value:B})}return D};l.$updateOnChange=q;l.start=q;s.session.$computeWidth=function(){return this.screenWidth=0};s.$blockScrolling=Infinity;s.isOpen=false;s.isTopdown=false;s.autoSelect=true;s.data=[];s.setData=function(v){s.setValue(g.stringRepeat("\n",v.length),-1);s.data=v||[];s.setRow(0)};s.getData=function(v){return s.data[v]};s.getRow=function(){return t.start.row};s.setRow=function(v){v=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,v));if(t.start.row!=v){s.selection.clearSelection();t.start.row=t.end.row=v||0;s.session._emit("changeBackMarker");s.moveCursorTo(v||0,0);if(s.isOpen){s._signal("select")}}};s.on("changeSelection",function(){if(s.isOpen){s.setRow(s.selection.lead.row)}s.renderer.scrollCursorIntoView()});s.hide=function(){this.container.style.display="none";this._signal("hide");s.isOpen=false};s.show=function(A,y,F){var w=this.container;var C=window.innerHeight;var D=window.innerWidth;var B=this.renderer;var z=B.$maxLines*y*1.4;var E=A.top+this.$borderSize;var v=E>C/2&&!F;if(v&&E+y+z>C){B.$maxPixelHeight=E-2*this.$borderSize;w.style.top="";w.style.bottom=C-E+"px";s.isTopdown=false}else{E+=y;B.$maxPixelHeight=C-E-0.2*y;w.style.top=E+"px";w.style.bottom="";s.isTopdown=true}w.style.display="";this.renderer.$textLayer.checkForSizeChanges();var x=A.left;if(x+w.offsetWidth>D){x=D-w.offsetWidth}w.style.left=x+"px";this._signal("show");p=null;s.isOpen=true};s.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize};s.$imageSize=0;s.$borderSize=1;return s};c.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_editor.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_editor.ace_autocomplete .ace_scroller {   background: none;   border: none;   box-shadow: none;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_editor.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}");f.AcePopup=b});define("ace/autocomplete/util",["require","exports","module"],function(d,a,c){a.parForEach=function(f,j,g){var h=0;var e=f.length;if(e===0){g()}for(var k=0;k<e;k++){j(f[k],function(l,i){h++;if(h===e){g(l,i)}})}};var b=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;a.retrievePrecedingIdentifier=function(j,g,h){h=h||b;var e=[];for(var f=g-1;f>=0;f--){if(h.test(j[f])){e.push(j[f])}else{break}}return e.reverse().join("")};a.retrieveFollowingIdentifier=function(j,g,h){h=h||b;var e=[];for(var f=g;f<j.length;f++){if(h.test(j[f])){e.push(j[f])}else{break}}return e};a.getCompletionPrefix=function(e){var g=e.getCursorPosition();var f=e.session.getLine(g.row);var h;e.completers.forEach(function(i){if(i.identifierRegexps){i.identifierRegexps.forEach(function(j){if(!h&&j){h=this.retrievePrecedingIdentifier(f,g.column,j)}}.bind(this))}}.bind(this));return h||this.retrievePrecedingIdentifier(f,g.column)}});define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/snippets"],function(j,e,i){var g=j("./keyboard/hash_handler").HashHandler;var a=j("./autocomplete/popup").AcePopup;var l=j("./autocomplete/util");var d=j("./lib/event");var h=j("./lib/lang");var c=j("./lib/dom");var k=j("./snippets").snippetManager;var b=function(){this.autoInsert=false;this.autoSelect=true;this.exactMatch=false;this.gatherCompletionsId=0;this.keyboardHandler=new g();this.keyboardHandler.bindKeys(this.commands);this.blurListener=this.blurListener.bind(this);this.changeListener=this.changeListener.bind(this);this.mousedownListener=this.mousedownListener.bind(this);this.mousewheelListener=this.mousewheelListener.bind(this);this.changeTimer=h.delayedCall(function(){this.updateCompletions(true)}.bind(this));this.tooltipTimer=h.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){this.popup=new a(document.body||document.documentElement);this.popup.on("click",function(m){this.insertMatch();m.stop()}.bind(this));this.popup.focus=this.editor.focus.bind(this.editor);this.popup.on("show",this.tooltipTimer.bind(null,null));this.popup.on("select",this.tooltipTimer.bind(null,null));this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null));return this.popup};this.getPopup=function(){return this.popup||this.$init()};this.openPopup=function(m,q,n){if(!this.popup){this.$init()}this.popup.autoSelect=this.autoSelect;this.popup.setData(this.completions.filtered);m.keyBinding.addKeyboardHandler(this.keyboardHandler);var s=m.renderer;this.popup.setRow(this.autoSelect?0:-1);if(!n){this.popup.setTheme(m.getTheme());this.popup.setFontSize(m.getFontSize());var o=s.layerConfig.lineHeight;var p=s.$cursorLayer.getPixelPosition(this.base,true);p.left-=this.popup.getTextLeftOffset();var r=m.container.getBoundingClientRect();p.top+=r.top-s.layerConfig.offset;p.left+=r.left-m.renderer.scrollLeft;p.left+=s.gutterWidth;this.popup.show(p,o)}else{if(n&&!q){this.detach()}}};this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);this.editor.off("changeSelection",this.changeListener);this.editor.off("blur",this.blurListener);this.editor.off("mousedown",this.mousedownListener);this.editor.off("mousewheel",this.mousewheelListener);this.changeTimer.cancel();this.hideDocTooltip();this.gatherCompletionsId+=1;if(this.popup&&this.popup.isOpen){this.popup.hide()}if(this.base){this.base.detach()}this.activated=false;this.completions=this.base=null};this.changeListener=function(n){var m=this.editor.selection.lead;if(m.row!=this.base.row||m.column<this.base.column){this.detach()}if(this.activated){this.changeTimer.schedule()}else{this.detach()}};this.blurListener=function(n){var o=document.activeElement;var q=this.editor.textInput.getElement();var p=n.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(n.relatedTarget);var m=this.popup&&this.popup.container;if(o!=q&&o.parentNode!=m&&!p&&o!=this.tooltipNode&&n.relatedTarget!=q){this.detach()}};this.mousedownListener=function(m){this.detach()};this.mousewheelListener=function(m){this.detach()};this.goTo=function(o){var n=this.popup.getRow();var m=this.popup.session.getLength()-1;switch(o){case"up":n=n<=0?m:n-1;break;case"down":n=n>=m?-1:n+1;break;case"start":n=0;break;case"end":n=m;break}this.popup.setRow(n)};this.insertMatch=function(m,o){if(!m){m=this.popup.getData(this.popup.getRow())}if(!m){return false}if(m.completer&&m.completer.insertMatch){m.completer.insertMatch(this.editor,m)}else{if(this.completions.filterText){var q=this.editor.selection.getAllRanges();for(var n=0,p;p=q[n];n++){p.start.column-=this.completions.filterText.length;this.editor.session.remove(p)}}if(m.snippet){k.insertSnippet(this.editor,m.snippet)}else{this.editor.execCommand("insertstring",m.value||m)}}this.detach()};this.commands={Up:function(m){m.completer.goTo("up")},Down:function(m){m.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(m){m.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(m){m.completer.goTo("end")},Esc:function(m){m.completer.detach()},Return:function(m){return m.completer.insertMatch()},"Shift-Return":function(m){m.completer.insertMatch(null,{deleteSuffix:true})},Tab:function(m){var n=m.completer.insertMatch();if(!n&&!m.tabstopManager){m.completer.goTo("down")}else{return n}},PageUp:function(m){m.completer.popup.gotoPageUp()},PageDown:function(m){m.completer.popup.gotoPageDown()}};this.gatherCompletions=function(n,m){var r=n.getSession();var p=n.getCursorPosition();var q=l.getCompletionPrefix(n);this.base=r.doc.createAnchor(p.row,p.column-q.length);this.base.$insertRight=true;var o=[];var s=n.completers.length;n.completers.forEach(function(t,u){t.getCompletions(n,r,p,q,function(v,w){if(!v&&w){o=o.concat(w)}m(null,{prefix:l.getCompletionPrefix(n),matches:o,finished:(--s===0)})})});return true};this.showPopup=function(m){if(this.editor){this.detach()}this.activated=true;this.editor=m;if(m.completer!=this){if(m.completer){m.completer.detach()}m.completer=this}m.on("changeSelection",this.changeListener);m.on("blur",this.blurListener);m.on("mousedown",this.mousedownListener);m.on("mousewheel",this.mousewheelListener);this.updateCompletions()};this.updateCompletions=function(n){if(n&&this.base&&this.completions){var o=this.editor.getCursorPosition();var p=this.editor.session.getTextRange({start:this.base,end:o});if(p==this.completions.filterText){return}this.completions.setFilter(p);if(!this.completions.filtered.length){return this.detach()}if(this.completions.filtered.length==1&&this.completions.filtered[0].value==p&&!this.completions.filtered[0].snippet){return this.detach()}this.openPopup(this.editor,p,n);return}var m=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(r,v){var q=function(){if(!v.finished){return}return this.detach()}.bind(this);var u=v.prefix;var t=v&&v.matches;if(!t||!t.length){return q()}if(u.indexOf(v.prefix)!==0||m!=this.gatherCompletionsId){return}this.completions=new f(t);if(this.exactMatch){this.completions.exactMatch=true}this.completions.setFilter(u);var s=this.completions.filtered;if(!s.length){return q()}if(s.length==1&&s[0].value==u&&!s[0].snippet){return q()}if(this.autoInsert&&s.length==1&&v.finished){return this.insertMatch(s[0])}this.openPopup(this.editor,u,n)}.bind(this))};this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()};this.updateDocTooltip=function(){var o=this.popup;var m=o.data;var p=m&&(m[o.getHoveredRow()]||m[o.getRow()]);var n=null;if(!p||!this.editor||!this.popup.isOpen){return this.hideDocTooltip()}this.editor.completers.some(function(q){if(q.getDocTooltip){n=q.getDocTooltip(p)}return n});if(!n){n=p}if(typeof n=="string"){n={docText:n}}if(!n||!(n.docHTML||n.docText)){return this.hideDocTooltip()}this.showDocTooltip(n)};this.showDocTooltip=function(m){if(!this.tooltipNode){this.tooltipNode=c.createElement("div");this.tooltipNode.className="ace_tooltip ace_doc-tooltip";this.tooltipNode.style.margin=0;this.tooltipNode.style.pointerEvents="auto";this.tooltipNode.tabIndex=-1;this.tooltipNode.onblur=this.blurListener.bind(this);this.tooltipNode.onclick=this.onTooltipClick.bind(this)}var p=this.tooltipNode;if(m.docHTML){p.innerHTML=m.docHTML}else{if(m.docText){p.textContent=m.docText}}if(!p.parentNode){document.body.appendChild(p)}var n=this.popup;var o=n.container.getBoundingClientRect();p.style.top=n.container.style.top;p.style.bottom=n.container.style.bottom;if(window.innerWidth-o.right<320){p.style.right=window.innerWidth-o.left+"px";p.style.left=""}else{p.style.left=(o.right+1)+"px";p.style.right=""}p.style.display="block"};this.hideDocTooltip=function(){this.tooltipTimer.cancel();if(!this.tooltipNode){return}var m=this.tooltipNode;if(!this.editor.isFocused()&&document.activeElement==m){this.editor.focus()}this.tooltipNode=null;if(m.parentNode){m.parentNode.removeChild(m)}};this.onTooltipClick=function(n){var m=n.target;while(m&&m!=this.tooltipNode){if(m.nodeName=="A"&&m.href){m.rel="noreferrer";m.target="_blank";break}m=m.parentNode}}}).call(b.prototype);b.startCommand={name:"startAutocomplete",exec:function(m){if(!m.completer){m.completer=new b()}m.completer.autoInsert=false;m.completer.autoSelect=true;m.completer.showPopup(m);m.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var f=function(m,n){this.all=m;this.filtered=m;this.filterText=n||"";this.exactMatch=false};(function(){this.setFilter=function(o){if(o.length>this.filterText&&o.lastIndexOf(this.filterText,0)===0){var m=this.filtered}else{var m=this.all}this.filterText=o;m=this.filterCompletions(m,this.filterText);m=m.sort(function(p,q){return q.exactMatch-p.exactMatch||q.score-p.score});var n=null;m=m.filter(function(q){var p=q.snippet||q.caption||q.value;if(p===n){return false}n=p;return true});this.filtered=m};this.filterCompletions=function(t,y){var A=[];var B=y.toUpperCase();var w=y.toLowerCase();loop:for(var o=0,s;s=t[o];o++){var m=s.value||s.caption||s.snippet;if(!m){continue}var v=-1;var x=0;var z=0;var r,n;if(this.exactMatch){if(y!==m.substr(0,y.length)){continue loop}}else{for(var u=0;u<y.length;u++){var p=m.indexOf(w[u],v+1);var q=m.indexOf(B[u],v+1);r=(p>=0)?((q<0||p<q)?p:q):q;if(r<0){continue loop}n=r-v-1;if(n>0){if(v===-1){z+=10}z+=n}x=x|(1<<r);v=r}}s.matchMask=x;s.exactMatch=z?0:1;s.score=(s.score||0)-z;A.push(s)}return A}}).call(f.prototype);e.Autocomplete=b;e.FilteredList=f});define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(e,a,c){var d=e("../range").Range;var f=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function b(h,i){var j=h.getTextRange(d.fromPoints({row:0,column:0},i));return j.split(f).length-1}function g(i,j){var k=b(i,j);var l=i.getValue().split(f);var m=Object.create(null);var h=l[k];l.forEach(function(q,o){if(!q||q===h){return}var n=Math.abs(k-o);var p=l.length-n;if(m[q]){m[q]=Math.max(p,m[q])}else{m[q]=p}});return m}a.getCompletions=function(i,l,j,k,h){var n=g(l,j,k);var m=Object.keys(n);h(null,m.map(function(o){return{caption:o,value:o,score:n[o],meta:"local"}}))}});define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(n,g,l){var p=n("../snippets").snippetManager;var a=n("../autocomplete").Autocomplete;var c=n("../config");var i=n("../lib/lang");var r=n("../autocomplete/util");var q=n("../autocomplete/text_completer");var h={getCompletions:function(u,x,v,w,s){if(x.$mode.completer){return x.$mode.completer.getCompletions(u,x,v,w,s)}var y=u.session.getState(v.row);var t=x.$mode.getCompletions(y,x,v,w);s(null,t)}};var o={getCompletions:function(u,x,v,w,s){var y=p.snippetMap;var t=[];p.getActiveScopes(u).forEach(function(C){var D=y[C]||[];for(var A=D.length;A--;){var B=D[A];var z=B.name||B.tabTrigger;if(!z){continue}t.push({caption:z,snippet:B.content,meta:B.tabTrigger&&!B.name?B.tabTrigger+"\u21E5 ":"snippet",type:"snippet"})}},this);s(null,t)},getDocTooltip:function(s){if(s.type=="snippet"&&!s.docHTML){s.docHTML=["<b>",i.escapeHTML(s.caption),"</b>","<hr></hr>",i.escapeHTML(s.snippet)].join("")}}};var b=[o,q,h];g.setCompleters=function(s){b.length=0;if(s){b.push.apply(b,s)}};g.addCompleter=function(s){b.push(s)};g.textCompleter=q;g.keyWordCompleter=h;g.snippetCompleter=o;var f={name:"expandSnippet",exec:function(s){return p.expandWithTab(s)},bindKey:"Tab"};var m=function(s,t){k(t.session.$mode)};var k=function(t){var s=t.$id;if(!p.files){p.files={}}j(s);if(t.modes){t.modes.forEach(k)}};var j=function(s){if(!s||p.files[s]){return}var t=s.replace("mode","snippets");p.files[s]={};c.loadModule(t,function(u){if(u){p.files[s]=u;if(!u.snippets&&u.snippetText){u.snippets=p.parseSnippetFile(u.snippetText)}p.register(u.snippets||[],u.scope);if(u.includeScopes){p.snippetMap[u.scope].includeScopes=u.includeScopes;u.includeScopes.forEach(function(v){j("ace/mode/"+v)})}}})};var d=function(s){var t=s.editor;var u=t.completer&&t.completer.activated;if(s.command.name==="backspace"){if(u&&!r.getCompletionPrefix(t)){t.completer.detach()}}else{if(s.command.name==="insertstring"){var v=r.getCompletionPrefix(t);if(v&&!u){if(!t.completer){t.completer=new a()}t.completer.autoInsert=false;t.completer.showPopup(t)}}}};var e=n("../editor").Editor;n("../config").defineOptions(e.prototype,"editor",{enableBasicAutocompletion:{set:function(s){if(s){if(!this.completers){this.completers=Array.isArray(s)?s:b}this.commands.addCommand(a.startCommand)}else{this.commands.removeCommand(a.startCommand)}},value:false},enableLiveAutocompletion:{set:function(s){if(s){if(!this.completers){this.completers=Array.isArray(s)?s:b}this.commands.on("afterExec",d)}else{this.commands.removeListener("afterExec",d)}},value:false},enableSnippets:{set:function(s){if(s){this.commands.addCommand(f);this.on("changeMode",m);m(null,this)}else{this.commands.removeCommand(f);this.off("changeMode",m)}},value:false}})});(function(){window.require(["ace/ext/language_tools"],function(){})})();