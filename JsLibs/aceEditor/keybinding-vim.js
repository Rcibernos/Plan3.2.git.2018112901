define("ace/keyboard/vim",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/dom","ace/lib/oop","ace/lib/keys","ace/lib/event","ace/search","ace/lib/useragent","ace/search_highlight","ace/commands/multi_select_commands","ace/mode/text","ace/multi_select"],function(bs,Z,a0){function aN(){var b5="";function b7(ca){if(typeof ca!="object"){return ca+""}if("line" in ca){return ca.line+":"+ca.ch}if("anchor" in ca){return b7(ca.anchor)+"->"+b7(ca.head)}if(Array.isArray(ca)){return"["+ca.map(function(cb){return b7(cb)})+"]"}return JSON.stringify(ca)}for(var b8=0;b8<arguments.length;b8++){var b9=arguments[b8];var b6=b7(b9);b5+=b6+"  "}console.log(b5)}var bi=bs("../range").Range;var P=bs("../lib/event_emitter").EventEmitter;var K=bs("../lib/dom");var bd=bs("../lib/oop");var aI=bs("../lib/keys");var O=bs("../lib/event");var bu=bs("../search").Search;var bY=bs("../lib/useragent");var bv=bs("../search_highlight").SearchHighlight;var a5=bs("../commands/multi_select_commands");var bK=bs("../mode/text").Mode.prototype.tokenRe;bs("../multi_select");var n=function(b5){this.ace=b5;this.state={};this.marks={};this.$uid=0;this.onChange=this.onChange.bind(this);this.onSelectionChange=this.onSelectionChange.bind(this);this.onBeforeEndOperation=this.onBeforeEndOperation.bind(this);this.ace.on("change",this.onChange);this.ace.on("changeSelection",this.onSelectionChange);this.ace.on("beforeEndOperation",this.onBeforeEndOperation)};n.Pos=function(b6,b5){if(!(this instanceof bh)){return new bh(b6,b5)}this.line=b6;this.ch=b5};n.defineOption=function(b5,b7,b6){};n.commands={redo:function(b5){b5.ace.redo()},undo:function(b5){b5.ace.undo()},newlineAndIndent:function(b5){b5.ace.insert("\n")}};n.keyMap={};n.addClass=n.rmClass=n.e_stop=function(){};n.keyName=function(b5){if(b5.key){return b5.key}var b6=(aI[b5.keyCode]||"");if(b6.length==1){b6=b6.toUpperCase()}b6=O.getModifierString(b5).replace(/(^|-)\w/g,function(b7){return b7.toUpperCase()})+b6;return b6};n.keyMap["default"]=function(b5){return function(b6){var b7=b6.ace.commands.commandKeyBinding[b5.toLowerCase()];return b7&&b6.ace.execCommand(b7)!==false}};n.lookupKey=function aR(b8,b9,b6){if(typeof b9=="string"){b9=n.keyMap[b9]}var b5=typeof b9=="function"?b9(b8):b9[b8];if(b5===false){return"nothing"}if(b5==="..."){return"multi"}if(b5!=null&&b6(b5)){return"handled"}if(b9.fallthrough){if(!Array.isArray(b9.fallthrough)){return aR(b8,b9.fallthrough,b6)}for(var b7=0;b7<b9.fallthrough.length;b7++){var ca=aR(b8,b9.fallthrough[b7],b6);if(ca){return ca}}}};n.signal=function(b7,b6,b5){return b7._signal(b6,b5)};n.on=O.addListener;n.off=O.removeListener;n.isWordChar=function(b5){if(b5<"\x7f"){return/^\w$/.test(b5)}bK.lastIndex=0;return bK.test(b5)};(function(){bd.implement(n.prototype,P);this.destroy=function(){this.ace.off("change",this.onChange);this.ace.off("changeSelection",this.onSelectionChange);this.ace.off("beforeEndOperation",this.onBeforeEndOperation);this.removeOverlay()};this.virtualSelectionMode=function(){return this.ace.inVirtualSelectionMode&&this.ace.selection.index};this.onChange=function(b9){var b7={text:b9.action[0]=="i"?b9.lines:[]};var b8=this.curOp=this.curOp||{};if(!b8.changeHandlers){b8.changeHandlers=this._eventRegistry.change&&this._eventRegistry.change.slice()}if(this.virtualSelectionMode()){return}if(!b8.lastChange){b8.lastChange=b8.change=b7}else{b8.lastChange.next=b8.lastChange=b7}this.$updateMarkers(b9)};this.onSelectionChange=function(){var b7=this.curOp=this.curOp||{};if(!b7.cursorActivityHandlers){b7.cursorActivityHandlers=this._eventRegistry.cursorActivity&&this._eventRegistry.cursorActivity.slice()}this.curOp.cursorActivity=true;if(this.ace.inMultiSelectMode){this.ace.keyBinding.removeKeyboardHandler(a5.keyboardHandler)}};this.operation=function(b8,b9){if(!b9&&this.curOp||b9&&this.curOp&&this.curOp.force){return b8()}if(b9||!this.ace.curOp){if(this.curOp){this.onBeforeEndOperation()}}if(!this.ace.curOp){var ca=this.ace.prevOp;this.ace.startOperation({command:{name:"vim",scrollIntoView:"cursor"}})}var b7=this.curOp=this.curOp||{};this.curOp.force=b9;var cb=b8();if(this.ace.curOp&&this.ace.curOp.command.name=="vim"){this.ace.endOperation();if(!b7.cursorActivity&&!b7.lastChange&&ca){this.ace.prevOp=ca}}if(b9||!this.ace.curOp){if(this.curOp){this.onBeforeEndOperation()}}return cb};this.onBeforeEndOperation=function(){var b7=this.curOp;if(b7){if(b7.change){this.signal("change",b7.change,b7)}if(b7&&b7.cursorActivity){this.signal("cursorActivity",null,b7)}this.curOp=null}};this.signal=function(b8,b7,b9){var cb=b9?b9[b8+"Handlers"]:(this._eventRegistry||{})[b8];if(!cb){return}cb=cb.slice();for(var ca=0;ca<cb.length;ca++){cb[ca](this,b7)}};this.firstLine=function(){return 0};this.lastLine=function(){return this.ace.session.getLength()-1};this.lineCount=function(){return this.ace.session.getLength()};this.setCursor=function(b8,b7){if(typeof b8==="object"){b7=b8.ch;b8=b8.line}if(!this.ace.inVirtualSelectionMode){this.ace.exitMultiSelectMode()}this.ace.session.unfold({row:b8,column:b7});this.ace.selection.moveTo(b8,b7)};this.getCursor=function(b7){var b9=this.ace.selection;var b8=b7=="anchor"?(b9.isEmpty()?b9.lead:b9.anchor):b7=="head"||!b7?b9.lead:b9.getRange()[b7];return bM(b8)};this.listSelections=function(b7){var b8=this.ace.multiSelect.rangeList.ranges;if(!b8.length||this.ace.inVirtualSelectionMode){return[{anchor:this.getCursor("anchor"),head:this.getCursor("head")}]}return b8.map(function(b9){return{anchor:this.clipPos(bM(b9.cursor==b9.end?b9.start:b9.end)),head:this.clipPos(bM(b9.cursor))}},this)};this.setSelections=function(b8,b9){var cc=this.ace.multiSelect;var cb=b8.map(function(ch){var ce=bL(ch.anchor);var cf=bL(ch.head);var cg=bi.comparePoints(ce,cf)<0?new bi.fromPoints(ce,cf):new bi.fromPoints(cf,ce);cg.cursor=bi.comparePoints(cg.start,cf)?cg.end:cg.start;return cg});if(this.ace.inVirtualSelectionMode){this.ace.selection.fromOrientedRange(cb[0]);return}if(!b9){cb=cb.reverse()}else{if(cb[b9]){cb.push(cb.splice(b9,1)[0])}}cc.toSingleRange(cb[0].clone());var cd=this.ace.session;for(var b7=0;b7<cb.length;b7++){var ca=cd.$clipRangeToDocument(cb[b7]);cc.addRange(ca)}};this.setSelection=function(b7,b8,b9){var ca=this.ace.selection;ca.moveTo(b7.line,b7.ch);ca.selectTo(b8.line,b8.ch);if(b9&&b9.origin=="*mouse"){this.onBeforeEndOperation()}};this.somethingSelected=function(b7){return !this.ace.selection.isEmpty()};this.clipPos=function(b7){var b8=this.ace.session.$clipPositionToDocument(b7.line,b7.ch);return bM(b8)};this.markText=function(b7){return{clear:function(){},find:function(){}}};this.$updateMarkers=function(ca){var cd=ca.action=="insert";var cg=ca.start;var cb=ca.end;var cf=(cb.row-cg.row)*(cd?1:-1);var b9=(cb.column-cg.column)*(cd?1:-1);if(cd){cb=cg}for(var cc in this.marks){var ce=this.marks[cc];var b7=bi.comparePoints(ce,cg);if(b7<0){continue}if(b7===0){if(cd){if(ce.bias==1){b7=1}else{ce.bias==-1;continue}}}var b8=cd?b7:bi.comparePoints(ce,cb);if(b8>0){ce.row+=cf;ce.column+=ce.row==cb.row?b9:0;continue}if(!cd&&b8<=0){ce.row=cg.row;ce.column=cg.column;if(b8===0){ce.bias=1}}}};var b5=function(b7,b9,ca,b8){this.cm=b7;this.id=b9;this.row=ca;this.column=b8;b7.marks[this.id]=this};b5.prototype.clear=function(){delete this.cm.marks[this.id]};b5.prototype.find=function(){return bM(this)};this.setBookmark=function(b8,b9){var b7=new b5(this,this.$uid++,b8.line,b8.ch);if(!b9||!b9.insertLeft){b7.$insertRight=true}this.marks[b7.id]=b7;return b7};this.moveH=function(b7,b9){if(b9=="char"){var b8=this.ace.selection;b8.clearSelection();b8.moveCursorBy(0,b7)}};this.findPosV=function(cd,b7,ce,b9){if(ce=="page"){var cb=this.ace.renderer;var b8=cb.layerConfig;b7=b7*Math.floor(b8.height/b8.lineHeight);ce="line"}if(ce=="line"){var cc=this.ace.session.documentToScreenPosition(cd.line,cd.ch);if(b9!=null){cc.column=b9}cc.row+=b7;cc.row=Math.min(Math.max(0,cc.row),this.ace.session.getScreenLength()-1);var ca=this.ace.session.screenToDocumentPosition(cc.row,cc.column);return bM(ca)}else{}};this.charCoords=function(ca,b9){if(b9=="div"||!b9){var cc=this.ace.session.documentToScreenPosition(ca.line,ca.ch);return{left:cc.column,top:cc.row}}if(b9=="local"){var cb=this.ace.renderer;var cc=this.ace.session.documentToScreenPosition(ca.line,ca.ch);var b8=cb.layerConfig.lineHeight;var b7=cb.layerConfig.characterWidth;var cd=b8*cc.row;return{left:cc.column*b7,top:cd,bottom:cd+b8}}};this.coordsChar=function(ca,b9){var cb=this.ace.renderer;if(b9=="local"){var cc=Math.max(0,Math.floor(ca.top/cb.lineHeight));var b8=Math.max(0,Math.floor(ca.left/cb.characterWidth));var b7=cb.session.screenToDocumentPosition(cc,b8);return bM(b7)}else{if(b9=="div"){throw"not implemented"}}};this.getSearchCursor=function(ce,cd,b8){var b9=false;var cb=false;if(ce instanceof RegExp&&!ce.global){b9=!ce.ignoreCase;ce=ce.source;cb=true}var cf=new bu();if(cd.ch==undefined){cd.ch=Number.MAX_VALUE}var b7={row:cd.line,column:cd.ch};var ca=this;var cc=null;return{findNext:function(){return this.find(false)},findPrevious:function(){return this.find(true)},find:function(cg){cf.setOptions({needle:ce,caseSensitive:b9,wrap:false,backwards:cg,regExp:cb,start:cc||b7});var ch=cf.find(ca.ace.session);if(ch&&ch.isEmpty()){if(ca.getLine(ch.start.row).length==ch.start.column){cf.$options.start=ch;ch=cf.find(ca.ace.session)}}cc=ch;return cc},from:function(){return cc&&bM(cc.start)},to:function(){return cc&&bM(cc.end)},replace:function(cg){if(cc){cc.end=ca.ace.session.doc.replace(cc,cg)}}}};this.scrollTo=function(ca,cb){var b9=this.ace.renderer;var b7=b9.layerConfig;var b8=b7.maxHeight;b8-=(b9.$size.scrollerHeight-b9.lineHeight)*b9.$scrollPastEnd;if(cb!=null){this.ace.session.setScrollTop(Math.max(0,Math.min(cb,b8)))}if(ca!=null){this.ace.session.setScrollLeft(Math.max(0,Math.min(ca,b7.width)))}};this.scrollInfo=function(){return 0};this.scrollIntoView=function(b8,b7){if(b8){var b9=this.ace.renderer;var ca={top:0,bottom:b7};b9.scrollCursorIntoView(bL(b8),(b9.lineHeight*2)/b9.$size.scrollerHeight,ca)}};this.getLine=function(b7){return this.ace.session.getLine(b7)};this.getRange=function(b8,b7){return this.ace.session.getTextRange(new bi(b8.line,b8.ch,b7.line,b7.ch))};this.replaceRange=function(b9,b8,b7){if(!b7){b7=b8}return this.ace.session.replace(new bi(b8.line,b8.ch,b7.line,b7.ch),b9)};this.replaceSelections=function(b8){var ca=this.ace.selection;if(this.ace.inVirtualSelectionMode){this.ace.session.replace(ca.getRange(),b8[0]||"");return}ca.inVirtualSelectionMode=true;var b9=ca.rangeList.ranges;if(!b9.length){b9=[this.ace.multiSelect.getRange()]}for(var b7=b9.length;b7--;){this.ace.session.replace(b9[b7],b8[b7]||"")}ca.inVirtualSelectionMode=false};this.getSelection=function(){return this.ace.getSelectedText()};this.getSelections=function(){return this.listSelections().map(function(b7){return this.getRange(b7.anchor,b7.head)},this)};this.getInputField=function(){return this.ace.textInput.getElement()};this.getWrapperElement=function(){return this.ace.containter};var b6={indentWithTabs:"useSoftTabs",indentUnit:"tabSize",tabSize:"tabSize",firstLineNumber:"firstLineNumber",readOnly:"readOnly"};this.setOption=function(b7,b8){this.state[b7]=b8;switch(b7){case"indentWithTabs":b7=b6[b7];b8=!b8;break;default:b7=b6[b7]}if(b7){this.ace.setOption(b7,b8)}};this.getOption=function(b8,b9){var b7=b6[b8];if(b7){b9=this.ace.getOption(b7)}switch(b8){case"indentWithTabs":b8=b6[b8];return !b9}return b7?b9:this.state[b8]};this.toggleOverwrite=function(b7){this.state.overwrite=b7;return this.ace.setOverwrite(b7)};this.addOverlay=function(b9){if(!this.$searchHighlight||!this.$searchHighlight.session){var b7=new bv(null,"ace_highlight-marker","text");var b8=this.ace.session.addDynamicMarker(b7);b7.id=b8.id;b7.session=this.ace.session;b7.destroy=function(cb){b7.session.off("change",b7.updateOnChange);b7.session.off("changeEditor",b7.destroy);b7.session.removeMarker(b7.id);b7.session=null};b7.updateOnChange=function(cb){var cc=cb.start.row;if(cc==cb.end.row){b7.cache[cc]=undefined}else{b7.cache.splice(cc,b7.cache.length)}};b7.session.on("changeEditor",b7.destroy);b7.session.on("change",b7.updateOnChange)}var ca=new RegExp(b9.query.source,"gmi");this.$searchHighlight=b9.highlight=b7;this.$searchHighlight.setRegexp(ca);this.ace.renderer.updateBackMarkers()};this.removeOverlay=function(b7){if(this.$searchHighlight&&this.$searchHighlight.session){this.$searchHighlight.destroy()}};this.getScrollInfo=function(){var b8=this.ace.renderer;var b7=b8.layerConfig;return{left:b8.scrollLeft,top:b8.scrollTop,height:b7.maxHeight,width:b7.width,clientHeight:b7.height,clientWidth:b7.width}};this.getValue=function(){return this.ace.getValue()};this.setValue=function(b7){return this.ace.setValue(b7)};this.getTokenTypeAt=function(b7){var b8=this.ace.session.getTokenAt(b7.line,b7.ch);return b8&&/comment|string/.test(b8.type)?"string":""};this.findMatchingBracket=function(b8){var b7=this.ace.session.findMatchingBracket(bL(b8));return{to:b7&&bM(b7)}};this.indentLine=function(b7,b8){if(b8===true){this.ace.session.indentRows(b7,b7,"\t")}else{if(b8===false){this.ace.session.outdentRows(new bi(b7,0,b7,0))}}};this.indexFromPos=function(b7){return this.ace.session.doc.positionToIndex(bL(b7))};this.posFromIndex=function(b7){return bM(this.ace.session.doc.indexToPosition(b7))};this.focus=function(b7){return this.ace.focus()};this.blur=function(b7){return this.ace.blur()};this.defaultTextHeight=function(b7){return this.ace.renderer.layerConfig.lineHeight};this.scanForBracket=function(cb,b8,b7,ca){var cc=ca.bracketRegex.source;if(b8==1){var b9=this.ace.session.$findClosingBracket(cc.slice(1,2),bL(cb),/paren|text/)}else{var b9=this.ace.session.$findOpeningBracket(cc.slice(-2,-1),{row:cb.line,column:cb.ch+1},/paren|text/)}return b9&&{pos:bM(b9)}};this.refresh=function(){return this.ace.resize(true)};this.getMode=function(){return{name:this.getOption("mode")}}}).call(n.prototype);function bL(b5){return{row:b5.line,column:b5.ch}}function bM(b5){return new bh(b5.row,b5.column)}var bI=n.StringStream=function(b5,b6){this.pos=this.start=0;this.string=b5;this.tabSize=b6||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0};bI.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(b6){var b5=this.string.charAt(this.pos);if(typeof b6=="string"){var b7=b5==b6}else{var b7=b5&&(b6.test?b6.test(b5):b6(b5))}if(b7){++this.pos;return b5}},eatWhile:function(b5){var b6=this.pos;while(this.eat(b5)){}return this.pos>b6},eatSpace:function(){var b5=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>b5},skipToEnd:function(){this.pos=this.string.length},skipTo:function(b5){var b6=this.string.indexOf(b5,this.pos);if(b6>-1){this.pos=b6;return true}},backUp:function(b5){this.pos-=b5},column:function(){throw"not implemented"},indentation:function(){throw"not implemented"},match:function(b9,b7,b6){if(typeof b9=="string"){var b5=function(cb){return b6?cb.toLowerCase():cb};var ca=this.string.substr(this.pos,b9.length);if(b5(ca)==b5(b9)){if(b7!==false){this.pos+=b9.length}return true}}else{var b8=this.string.slice(this.pos).match(b9);if(b8&&b8.index>0){return null}if(b8&&b7!==false){this.pos+=b8[0].length}return b8}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(b6,b5){this.lineStart+=b6;try{return b5()}finally{this.lineStart-=b6}}};n.defineExtension=function(b6,b5){n.prototype[b6]=b5};K.importCssString(".normal-mode .ace_cursor{  border: 1px solid red;  background-color: red;  opacity: 0.5;}.normal-mode .ace_hidden-cursors .ace_cursor{  background-color: transparent;}.ace_dialog {  position: absolute;  left: 0; right: 0;  background: white;  z-index: 15;  padding: .1em .8em;  overflow: hidden;  color: #333;}.ace_dialog-top {  border-bottom: 1px solid #eee;  top: 0;}.ace_dialog-bottom {  border-top: 1px solid #eee;  bottom: 0;}.ace_dialog input {  border: none;  outline: none;  background: transparent;  width: 20em;  color: inherit;  font-family: monospace;}","vimMode");(function(){function b6(b8,ca,b7){var cb=b8.ace.container;var b9;b9=cb.appendChild(document.createElement("div"));if(b7){b9.className="ace_dialog ace_dialog-bottom"}else{b9.className="ace_dialog ace_dialog-top"}if(typeof ca=="string"){b9.innerHTML=ca}else{b9.appendChild(ca)}return b9}function b5(b7,b8){if(b7.state.currentNotificationClose){b7.state.currentNotificationClose()}b7.state.currentNotificationClose=b8}n.defineExtension("openDialog",function(cf,b8,ce){if(this.virtualSelectionMode()){return}if(!ce){ce={}}b5(this,null);var cb=b6(this,cf,ce.bottom);var ca=false,cd=this;function b9(cg){if(typeof cg=="string"){cc.value=cg}else{if(ca){return}ca=true;cb.parentNode.removeChild(cb);cd.focus();if(ce.onClose){ce.onClose(cb)}}}var cc=cb.getElementsByTagName("input")[0],b7;if(cc){if(ce.value){cc.value=ce.value;if(ce.select!==false){cc.select()}}if(ce.onInput){n.on(cc,"input",function(cg){ce.onInput(cg,cc.value,b9)})}if(ce.onKeyUp){n.on(cc,"keyup",function(cg){ce.onKeyUp(cg,cc.value,b9)})}n.on(cc,"keydown",function(cg){if(ce&&ce.onKeyDown&&ce.onKeyDown(cg,cc.value,b9)){return}if(cg.keyCode==27||(ce.closeOnEnter!==false&&cg.keyCode==13)){cc.blur();n.e_stop(cg);b9()}if(cg.keyCode==13){b8(cc.value)}});if(ce.closeOnBlur!==false){n.on(cc,"blur",b9)}cc.focus()}else{if(b7=cb.getElementsByTagName("button")[0]){n.on(b7,"click",function(){b9();cd.focus()});if(ce.closeOnBlur!==false){n.on(b7,"blur",b9)}b7.focus()}}return b9});n.defineExtension("openNotification",function(cd,cc){if(this.virtualSelectionMode()){return}b5(this,b7);var b9=b6(this,cd,cc&&cc.bottom);var b8=false,ca;var cb=cc&&typeof cc.duration!=="undefined"?cc.duration:5000;function b7(){if(b8){return}b8=true;clearTimeout(ca);b9.parentNode.removeChild(b9)}n.on(b9,"click",function(ce){n.e_preventDefault(ce);b7()});if(cb){ca=setTimeout(b7,cb)}return b7})})();var B=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h",context:"normal"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B",context:"normal"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b",context:"normal"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:true,toJumplist:true}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:true,toJumplist:true}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:true,toJumplist:true}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:false}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:true}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:true,linewise:true}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:false,linewise:true}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:true}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:false}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:true,wordEnd:false}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:true,wordEnd:false,bigWord:true}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:true,wordEnd:true,inclusive:true}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:true,wordEnd:true,bigWord:true,inclusive:true}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:false,wordEnd:false}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:false,wordEnd:false,bigWord:true}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:false,wordEnd:true,inclusive:true}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:false,wordEnd:true,bigWord:true,inclusive:true}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:false,toJumplist:true}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:true,toJumplist:true}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:true}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:false}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:true,explicitRepeat:true}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:false,explicitRepeat:true}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:false,explicitRepeat:true,linewise:true,toJumplist:true}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:true,explicitRepeat:true,linewise:true,toJumplist:true}},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:true,toFirstChar:true}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:false,toFirstChar:true}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:true,toFirstChar:true,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:true}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:true,toJumplist:true}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:true,inclusive:true}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:false}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:true,inclusive:true}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:false}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:true}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:false}},{keys:"'<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:true,linewise:true}},{keys:"`<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:true}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:true}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:false}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:true,linewise:true}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:false,linewise:true}},{keys:"]p",type:"action",action:"paste",isEdit:true,actionArgs:{after:true,isEdit:true,matchIndent:true}},{keys:"[p",type:"action",action:"paste",isEdit:true,actionArgs:{after:false,isEdit:true,matchIndent:true}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:true,toJumplist:true}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:false,toJumplist:true}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:true},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:true}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:false}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:true},isEdit:true},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:false},isEdit:true},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:true,toJumplist:true}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:false,toJumplist:true}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:true},operatorMotionArgs:{visualLine:false}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:false},operatorMotionArgs:{visualLine:true}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:true},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:true},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"moveToEol",motionArgs:{inclusive:true},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:true},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:true},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:true},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:true},operatorArgs:{shouldMoveCursor:true},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:false,wordEnd:false},context:"insert"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:true}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:false}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:true,linewise:true}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:false,linewise:true}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:true,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:true,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:true,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:true,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:true,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:true,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:true,interlaceInsertRepeat:true,actionArgs:{after:true},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:true,interlaceInsertRepeat:true,actionArgs:{after:false},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:true}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:true}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:true}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:true},{keys:"p",type:"action",action:"paste",isEdit:true,actionArgs:{after:true,isEdit:true}},{keys:"P",type:"action",action:"paste",isEdit:true,actionArgs:{after:false,isEdit:true}},{keys:"r<character>",type:"action",action:"replace",isEdit:true},{keys:"@<character>",type:"action",action:"replayMacro"},{keys:"q<character>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:true,actionArgs:{replace:true}},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:true},context:"visual",isEdit:true},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:false},context:"visual",isEdit:true},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<character>",type:"action",action:"setMark"},{keys:'"<character>',type:"action",action:"setRegister"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:true,actionArgs:{increase:true,backtrack:false}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:true,actionArgs:{increase:false,backtrack:false}},{keys:"a<character>",type:"motion",motion:"textObjectManipulation"},{keys:"i<character>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:true}},{keys:"/",type:"search",searchArgs:{forward:true,querySrc:"prompt",toJumplist:true}},{keys:"?",type:"search",searchArgs:{forward:false,querySrc:"prompt",toJumplist:true}},{keys:"*",type:"search",searchArgs:{forward:true,querySrc:"wordUnderCursor",wholeWordOnly:true,toJumplist:true}},{keys:"#",type:"search",searchArgs:{forward:false,querySrc:"wordUnderCursor",wholeWordOnly:true,toJumplist:true}},{keys:"g*",type:"search",searchArgs:{forward:true,querySrc:"wordUnderCursor",toJumplist:true}},{keys:"g#",type:"search",searchArgs:{forward:false,querySrc:"wordUnderCursor",toJumplist:true}},{keys:":",type:"ex"}];var A=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"unmap"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:true},{name:"nohlsearch",shortName:"noh"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:true},{name:"global",shortName:"g"}];var bh=n.Pos;var b1=function(){return b2};function M(b5){b5.setOption("disableInput",true);b5.setOption("showCursorWhenSelecting",false);n.signal(b5,"vim-mode-change",{mode:"normal"});b5.on("cursorActivity",bb);aY(b5);n.on(b5.getInputField(),"paste",an(b5))}function aL(b5){b5.setOption("disableInput",false);b5.off("cursorActivity",bb);n.off(b5.getInputField(),"paste",an(b5));b5.state.vim=null}function I(b5,b6){if(this==n.keyMap.vim){n.rmClass(b5.getWrapperElement(),"cm-fat-cursor")}if(!b6||b6.attach!=c){aL(b5,false)}}function c(b5,b6){if(this==n.keyMap.vim){n.addClass(b5.getWrapperElement(),"cm-fat-cursor")}if(!b6||b6.attach!=c){M(b5)}}n.defineOption("vimMode",false,function(b5,b7,b6){if(b7&&b5.getOption("keyMap")!="vim"){b5.setOption("keyMap","vim")}else{if(!b7&&b6!=n.Init&&/^vim/.test(b5.getOption("keyMap"))){b5.setOption("keyMap","default")}}});function l(b7,b5){if(!b5){return undefined}var b8=m(b7);if(!b8){return false}var b6=n.Vim.findKey(b5,b8);if(typeof b6=="function"){n.signal(b5,"vim-keypress",b8)}return b6}var aZ={Shift:"S",Ctrl:"C",Alt:"A",Cmd:"D",Mod:"A"};var bG={Enter:"CR",Backspace:"BS",Delete:"Del"};function m(b7){if(b7.charAt(0)=="'"){return b7.charAt(1)}var ca=b7.split(/-(?!$)/);var b8=ca[ca.length-1];if(ca.length==1&&ca[0].length==1){return false}else{if(ca.length==2&&ca[0]=="Shift"&&b8.length==1){return false}}var b5=false;for(var b6=0;b6<ca.length;b6++){var b9=ca[b6];if(b9 in aZ){ca[b6]=aZ[b9]}else{b5=true}if(b9 in bG){ca[b6]=bG[b9]}}if(!b5){return false}if(aG(b8)){ca[ca.length-1]=b8.toLowerCase()}return"<"+ca.join("-")+">"}function an(b5){var b6=b5.state.vim;if(!b6.onPasteFn){b6.onPasteFn=function(){if(!b6.insertMode){b5.setCursor(a9(b5.getCursor(),0,1));b.enterInsertMode(b5,{},b6)}}}return b6.onPasteFn}var a7=/[\d]/;var b4=[n.isWordChar,function(b5){return b5&&!n.isWordChar(b5)&&!/\s/.test(b5)}],d=[function(b5){return/\S/.test(b5)}];function aV(b8,b7){var b6=[];for(var b5=b8;b5<b8+b7;b5++){b6.push(String.fromCharCode(b5))}return b6}var bX=aV(65,26);var aS=aV(97,26);var a8=aV(48,10);var bZ=[].concat(bX,aS,a8,["<",">"]);var b0=[].concat(bX,aS,a8,["-",'"',".",":","/"]);function aC(b5,b6){return b6>=b5.firstLine()&&b6<=b5.lastLine()}function aD(b5){return(/^[a-z]$/).test(b5)}function aE(b5){return"()[]{}".indexOf(b5)!=-1}function aF(b5){return a7.test(b5)}function aG(b5){return(/^[A-Z]$/).test(b5)}function aH(b5){return(/^\s*$/).test(b5)}function ay(b7,b5){for(var b6=0;b6<b5.length;b6++){if(b5[b6]==b7){return true}}return false}var bf={};function F(b9,b7,ca,b5,b6){if(b7===undefined&&!b6){throw Error("defaultValue is required unless callback is provided")}if(!ca){ca="string"}bf[b9]={type:ca,defaultValue:b7,callback:b6};if(b5){for(var b8=0;b8<b5.length;b8++){bf[b5[b8]]=bf[b9]}}if(b7){bC(b9,b7)}}function bC(b7,ca,b6,b5){var b8=bf[b7];b5=b5||{};var b9=b5.scope;if(!b8){throw Error("Unknown option: "+b7)}if(b8.type=="boolean"){if(ca&&ca!==true){throw Error("Invalid argument: "+b7+"="+ca)}else{if(ca!==false){ca=true}}}if(b8.callback){if(b9!=="local"){b8.callback(ca,undefined)}if(b9!=="global"&&b6){b8.callback(ca,b6)}}else{if(b9!=="local"){b8.value=b8.type=="boolean"?!!ca:ca}if(b9!=="global"&&b6){b6.state.vim.options[b7]={value:ca}}}}function ao(b8,b6,b5){var b9=bf[b8];b5=b5||{};var ca=b5.scope;if(!b9){throw Error("Unknown option: "+b8)}if(b9.callback){var b7=b6&&b9.callback(undefined,b6);if(ca!=="global"&&b7!==undefined){return b7}if(ca!=="local"){return b9.callback()}return}else{var b7=(ca!=="global")&&(b6&&b6.state.vim.options[b8]);return(b7||(ca!=="local")&&b9||{}).value}}F("filetype",undefined,"string",["ft"],function(b7,b5){if(b5===undefined){return}if(b7===undefined){var b6=b5.getOption("mode");return b6=="null"?"":b6}else{var b6=b7==""?"null":b7;b5.setOption("mode",b6)}});var t=function(){var ca=100;var b9=-1;var b7=0;var cb=0;var b6=new Array(ca);function b5(cc,ch,cg){var ce=b9%ca;var cd=b6[ce];function ci(cj){var ck=++b9%ca;var cl=b6[ck];if(cl){cl.clear()}b6[ck]=cc.setBookmark(cj)}if(cd){var cf=cd.find();if(cf&&!v(cf,ch)){ci(ch)}}else{ci(ch)}ci(cg);b7=b9;cb=b9-ca+1;if(cb<0){cb=0}}function b8(cc,cg){b9+=cg;if(b9>b7){b9=b7}else{if(b9<cb){b9=cb}}var ce=b6[(ca+b9)%ca];if(ce&&!ce.find()){var cd=cg>0?1:-1;var cf;var ch=cc.getCursor();do{b9+=cd;ce=b6[(ca+b9)%ca];if(ce&&(cf=ce.find())&&!v(ch,cf)){break}}while(b9<b7&&b9>cb)}return ce}return{cachedCursor:undefined,add:b5,move:b8}};var u=function(b5){if(b5){return{changes:b5.changes,expectCursorActivityForChange:b5.expectCursorActivityForChange}}return{changes:[],expectCursorActivityForChange:false}};function aT(){this.latestRegister=undefined;this.isPlaying=false;this.isRecording=false;this.replaySearchQueries=[];this.onRecordingDone=undefined;this.lastInsertModeChanges=u()}aT.prototype={exitMacroRecordMode:function(){var b5=b3.macroModeState;if(b5.onRecordingDone){b5.onRecordingDone()}b5.onRecordingDone=undefined;b5.isRecording=false},enterMacroRecordMode:function(b5,b7){var b6=b3.registerController.getRegister(b7);if(b6){b6.clear();this.latestRegister=b7;if(b5.openDialog){this.onRecordingDone=b5.openDialog("(recording)["+b7+"]",null,{bottom:true})}this.isRecording=true}}};function aY(b5){if(!b5.state.vim){b5.state.vim={inputState:new az(),lastEditInputState:undefined,lastEditActionCommand:undefined,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},fakeCursor:null,insertMode:false,insertModeRepeat:undefined,visualMode:false,visualLine:false,visualBlock:false,lastSelection:null,lastPastedText:null,sel:{},options:{}}}return b5.state.vim}var b3;function bt(){b3={searchQuery:null,searchIsReversed:false,lastSubstituteReplacePart:undefined,jumpList:t(),macroModeState:new aT,lastChararacterSearch:{increment:0,forward:true,selectedCharacter:""},registerController:new bn({}),searchHistoryController:new ax({}),exCommandHistoryController:new ax({})};for(var b6 in bf){var b5=bf[b6];b5.value=b5.defaultValue}}var aK;var b2={buildKeyMap:function(){},getRegisterController:function(){return b3.registerController},resetVimGlobalState_:bt,getVimGlobalState_:function(){return b3},maybeInitVimState_:aY,suppressErrorLogging:false,InsertModeKey:aA,map:function(b6,b7,b5){Q.map(b6,b7,b5)},unmap:function(b6,b5){Q.unmap(b6,b5)},setOption:bC,getOption:ao,defineOption:F,defineEx:function(b6,b7,b5){if(!b7){b7=b6}else{if(b6.indexOf(b7)!==0){throw new Error('(Vim.defineEx) "'+b7+'" is not a prefix of "'+b6+'", command not registered')}}S[b6]=b5;Q.commandMap_[b7]={name:b6,shortName:b7,type:"api"}},handleKey:function(b5,b7,b8){var b6=this.findKey(b5,b7,b8);if(typeof b6==="function"){return b6()}},findKey:function(b5,cc,cd){var ce=aY(b5);function cb(){var cf=b3.macroModeState;if(cf.isRecording){if(cc=="q"){cf.exitMacroRecordMode();g(b5);return true}if(cd!="mapping"){aP(cf,cc)}}}function b8(){if(cc=="<Esc>"){g(b5);if(ce.visualMode){V(b5)}else{if(ce.insertMode){U(b5)}}return true}}function b7(cf){var cg;while(cf){cg=(/<\w+-.+?>|<\w+>|./).exec(cf);cc=cg[0];cf=cf.substring(cg.index+cc.length);n.Vim.handleKey(b5,cc,"mapping")}}function b9(){if(b8()){return true}var ch=ce.inputState.keyBuffer=ce.inputState.keyBuffer+cc;var ci=cc.length==1;var cj=o.matchCommand(ch,B,ce.inputState,"insert");while(ch.length>1&&cj.type!="full"){var ch=ce.inputState.keyBuffer=ch.slice(1);var cl=o.matchCommand(ch,B,ce.inputState,"insert");if(cl.type!="none"){cj=cl}}if(cj.type=="none"){g(b5);return false}else{if(cj.type=="partial"){if(aK){window.clearTimeout(aK)}aK=window.setTimeout(function(){if(ce.insertMode&&ce.inputState.keyBuffer){g(b5)}},ao("insertModeEscKeysTimeout"));return !ci}}if(aK){window.clearTimeout(aK)}if(ci){var ck=b5.listSelections();for(var cg=0;cg<ck.length;cg++){var cf=ck[cg].head;b5.replaceRange("",a9(cf,0,-(ch.length-1)),cf,"+input")}b3.macroModeState.lastInsertModeChanges.changes.pop()}g(b5);return cj.command}function ca(){if(cb()||b8()){return true}var cg=ce.inputState.keyBuffer=ce.inputState.keyBuffer+cc;if(/^[1-9]\d*$/.test(cg)){return true}var ch=/^(\d*)(.*)$/.exec(cg);if(!ch){g(b5);return false}var cf=ce.visualMode?"visual":"normal";var ci=o.matchCommand(ch[2]||ch[1],B,ce.inputState,cf);if(ci.type=="none"){g(b5);return false}else{if(ci.type=="partial"){return true}}ce.inputState.keyBuffer="";var ch=/^(\d*)(.*)$/.exec(cg);if(ch[1]&&ch[1]!="0"){ce.inputState.pushRepeatDigit(ch[1])}return ci.command}var b6;if(ce.insertMode){b6=b9()}else{b6=ca()}if(b6===false){return undefined}else{if(b6===true){return function(){return true}}else{return function(){if((b6.operator||b6.isEdit)&&b5.getOption("readOnly")){return}return b5.operation(function(){b5.curOp.isVimOp=true;try{if(b6.type=="keyToKey"){b7(b6.toKeys)}else{o.processCommand(b5,ce,b6)}}catch(cf){b5.state.vim=undefined;aY(b5);if(!n.Vim.suppressErrorLogging){console.log(cf)}throw cf}return true})}}}},handleEx:function(b5,b6){Q.processCommand(b5,b6)},defineMotion:D,defineAction:C,defineOperator:E,mapCommand:aX,_mapCommand:a,defineRegister:G,exitVisualMode:V,exitInsertMode:U};function az(){this.prefixRepeat=[];this.motionRepeat=[];this.operator=null;this.operatorArgs=null;this.motion=null;this.motionArgs=null;this.keyBuffer=[];this.registerName=null}az.prototype.pushRepeatDigit=function(b5){if(!this.operator){this.prefixRepeat=this.prefixRepeat.concat(b5)}else{this.motionRepeat=this.motionRepeat.concat(b5)}};az.prototype.getRepeat=function(){var b5=0;if(this.prefixRepeat.length>0||this.motionRepeat.length>0){b5=1;if(this.prefixRepeat.length>0){b5*=parseInt(this.prefixRepeat.join(""),10)}if(this.motionRepeat.length>0){b5*=parseInt(this.motionRepeat.join(""),10)}}return b5};function g(b5,b6){b5.state.vim.inputState=new az();n.signal(b5,"vim-command-done",b6)}function bm(b7,b6,b5){this.clear();this.keyBuffer=[b7||""];this.insertModeChanges=[];this.searchQueries=[];this.linewise=!!b6;this.blockwise=!!b5}bm.prototype={setText:function(b7,b6,b5){this.keyBuffer=[b7||""];this.linewise=!!b6;this.blockwise=!!b5},pushText:function(b6,b5){if(b5){if(!this.linewise){this.keyBuffer.push("\n")}this.linewise=true}this.keyBuffer.push(b6)},pushInsertModeChanges:function(b5){this.insertModeChanges.push(u(b5))},pushSearchQuery:function(b5){this.searchQueries.push(b5)},clear:function(){this.keyBuffer=[];this.insertModeChanges=[];this.searchQueries=[];this.linewise=false},toString:function(){return this.keyBuffer.join("")}};function G(b5,b6){var b7=b3.registerController.registers[b5];if(!b5||b5.length!=1){throw Error("Register name must be 1 character")}b7[b5]=b6;b0.push(b5)}function bn(b5){this.registers=b5;this.unnamedRegister=b5['"']=new bm();b5["."]=new bm();b5[":"]=new bm();b5["/"]=new bm()}bn.prototype={pushText:function(ca,b8,cb,b7,b6){if(b7&&cb.charAt(0)=="\n"){cb=cb.slice(1)+"\n"}if(b7&&cb.charAt(cb.length-1)!=="\n"){cb+="\n"}var b9=this.isValidRegister(ca)?this.getRegister(ca):null;if(!b9){switch(b8){case"yank":this.registers["0"]=new bm(cb,b7,b6);break;case"delete":case"change":if(cb.indexOf("\n")==-1){this.registers["-"]=new bm(cb,b7)}else{this.shiftNumericRegisters_();this.registers["1"]=new bm(cb,b7)}break}this.unnamedRegister.setText(cb,b7,b6);return}var b5=aG(ca);if(b5){b9.pushText(cb,b7)}else{b9.setText(cb,b7,b6)}this.unnamedRegister.setText(b9.toString(),b7)},getRegister:function(b5){if(!this.isValidRegister(b5)){return this.unnamedRegister}b5=b5.toLowerCase();if(!this.registers[b5]){this.registers[b5]=new bm()}return this.registers[b5]},isValidRegister:function(b5){return b5&&ay(b5,b0)},shiftNumericRegisters_:function(){for(var b5=9;b5>=2;b5--){this.registers[b5]=this.getRegister(""+(b5-1))}}};function ax(){this.historyBuffer=[];this.iterator;this.initialPrefix=null}ax.prototype={nextMatch:function(b9,cb){var b7=this.historyBuffer;var b5=cb?-1:1;if(this.initialPrefix===null){this.initialPrefix=b9}for(var b8=this.iterator+b5;cb?b8>=0:b8<b7.length;b8+=b5){var b6=b7[b8];for(var ca=0;ca<=b6.length;ca++){if(this.initialPrefix==b6.substring(0,ca)){this.iterator=b8;return b6}}}if(b8>=b7.length){this.iterator=b7.length;return this.initialPrefix}if(b8<0){return b9}},pushInput:function(b6){var b5=this.historyBuffer.indexOf(b6);if(b5>-1){this.historyBuffer.splice(b5,1)}if(b6.length){this.historyBuffer.push(b6)}},reset:function(){this.initialPrefix=null;this.iterator=this.historyBuffer.length}};var o={matchCommand:function(cb,ca,b9,b7){var cd=q(cb,ca,b7,b9);if(!cd.full&&!cd.partial){return{type:"none"}}else{if(!cd.full&&cd.partial){return{type:"partial"}}}var b5;for(var b8=0;b8<cd.full.length;b8++){var cc=cd.full[b8];if(!b5){b5=cc}}if(b5.keys.slice(-11)=="<character>"){var b6=aJ(cb);if(/<C-.>/.test(b6)){return{type:"none"}}b9.selectedCharacter=b6}return{type:"full",command:b5}},processCommand:function(b5,b7,b6){b7.inputState.repeatOverride=b6.repeatOverride;switch(b6.type){case"motion":this.processMotion(b5,b7,b6);break;case"operator":this.processOperator(b5,b7,b6);break;case"operatorMotion":this.processOperatorMotion(b5,b7,b6);break;case"action":this.processAction(b5,b7,b6);break;case"search":this.processSearch(b5,b7,b6);break;case"ex":case"keyToEx":this.processEx(b5,b7,b6);break;default:break}},processMotion:function(b5,b7,b6){b7.inputState.motion=b6.motion;b7.inputState.motionArgs=r(b6.motionArgs);this.evalInput(b5,b7)},processOperator:function(b5,b8,b6){var b7=b8.inputState;if(b7.operator){if(b7.operator==b6.operator){b7.motion="expandToLine";b7.motionArgs={linewise:true};this.evalInput(b5,b8);return}else{g(b5)}}b7.operator=b6.operator;b7.operatorArgs=r(b6.operatorArgs);if(b8.visualMode){this.evalInput(b5,b8)}},processOperatorMotion:function(b5,b8,b6){var b9=b8.visualMode;var b7=r(b6.operatorMotionArgs);if(b7){if(b9&&b7.visualLine){b8.visualLine=true}}this.processOperator(b5,b8,b6);if(!b9){this.processMotion(b5,b8,b6)}},processAction:function(b6,cb,b7){var b8=cb.inputState;var b9=b8.getRepeat();var ca=!!b9;var b5=r(b7.actionArgs)||{};if(b8.selectedCharacter){b5.selectedCharacter=b8.selectedCharacter}if(b7.operator){this.processOperator(b6,cb,b7)}if(b7.motion){this.processMotion(b6,cb,b7)}if(b7.motion||b7.operator){this.evalInput(b6,cb)}b5.repeat=b9||1;b5.repeatIsExplicit=ca;b5.registerName=b8.registerName;g(b6);cb.lastMotion=null;if(b7.isEdit){this.recordLastEdit(cb,b8,b7)}b[b7.action](b6,b5,cb)},processSearch:function(b5,ci,b6){if(!b5.getSearchCursor){return}var b7=b6.searchArgs.forward;var cj=b6.searchArgs.wholeWordOnly;ap(b5).setReversed(!b7);var cg=(b7)?"/":"?";var ce=ap(b5).getQuery();var cf=b5.getScrollInfo();function b8(cn,cm,co){b3.searchHistoryController.pushInput(cn);b3.searchHistoryController.reset();try{bW(b5,cn,cm,co)}catch(cl){bD(b5,"Invalid regex: "+cn);g(b5);return}o.processMotion(b5,ci,{type:"motion",motion:"findNext",motionArgs:{forward:true,toJumplist:b6.searchArgs.toJumplist}})}function cb(cm){b5.scrollTo(cf.left,cf.top);b8(cm,true,true);var cl=b3.macroModeState;if(cl.isRecording){aQ(cl,cm)}}function cd(cm,cp,cl){var cn=n.keyName(cm),cq;if(cn=="Up"||cn=="Down"){cq=cn=="Up"?true:false;cp=b3.searchHistoryController.nextMatch(cp,cq)||"";cl(cp)}else{if(cn!="Left"&&cn!="Right"&&cn!="Ctrl"&&cn!="Alt"&&cn!="Shift"){b3.searchHistoryController.reset()}}var co;try{co=bW(b5,cp,true,true)}catch(cm){}if(co){b5.scrollIntoView(ae(b5,!b7,co),30)}else{h(b5);b5.scrollTo(cf.left,cf.top)}}function cc(cm,co,cl){var cn=n.keyName(cm);if(cn=="Esc"||cn=="Ctrl-C"||cn=="Ctrl-["||(cn=="Backspace"&&co=="")){b3.searchHistoryController.pushInput(co);b3.searchHistoryController.reset();bW(b5,ce);h(b5);b5.scrollTo(cf.left,cf.top);n.e_stop(cm);g(b5);cl();b5.focus()}else{if(cn=="Ctrl-U"){n.e_stop(cm);cl("")}}}switch(b6.searchArgs.querySrc){case"prompt":var ca=b3.macroModeState;if(ca.isPlaying){var ch=ca.replaySearchQueries.shift();b8(ch,true,false)}else{bE(b5,{onClose:cb,prefix:cg,desc:bx,onKeyUp:cd,onKeyDown:cc})}break;case"wordUnderCursor":var ck=Y(b5,false,true,false,true);var b9=true;if(!ck){ck=Y(b5,false,true,false,false);b9=false}if(!ck){return}var ch=b5.getLine(ck.start.line).substring(ck.start.ch,ck.end.ch);if(b9&&cj){ch="\\b"+ch+"\\b"}else{ch=N(ch)}b3.jumpList.cachedCursor=b5.getCursor();b5.setCursor(ck.start);b8(ch,true,false);break}},processEx:function(b5,b9,b6){function b7(ca){b3.exCommandHistoryController.pushInput(ca);b3.exCommandHistoryController.reset();Q.processCommand(b5,ca)}function b8(cb,cc,ca){var cd=n.keyName(cb),ce;if(cd=="Esc"||cd=="Ctrl-C"||cd=="Ctrl-["||(cd=="Backspace"&&cc=="")){b3.exCommandHistoryController.pushInput(cc);b3.exCommandHistoryController.reset();n.e_stop(cb);g(b5);ca();b5.focus()}if(cd=="Up"||cd=="Down"){ce=cd=="Up"?true:false;cc=b3.exCommandHistoryController.nextMatch(cc,ce)||"";ca(cc)}else{if(cd=="Ctrl-U"){n.e_stop(cb);ca("")}else{if(cd!="Left"&&cd!="Right"&&cd!="Ctrl"&&cd!="Alt"&&cd!="Shift"){b3.exCommandHistoryController.reset()}}}}if(b6.type=="keyToEx"){Q.processCommand(b5,b6.exArgs.input)}else{if(b9.visualMode){bE(b5,{onClose:b7,prefix:":",value:"'<,'>",onKeyDown:b8})}else{bE(b5,{onClose:b7,prefix:":",onKeyDown:b8})}}},evalInput:function(b7,cB){var cd=cB.inputState;var cj=cd.motion;var ck=cd.motionArgs||{};var cr=cd.operator;var cs=cd.operatorArgs||{};var cx=cd.registerName;var cz=cB.sel;var cv=s(cB.visualMode?i(b7,cz.head):b7.getCursor("head"));var cu=s(cB.visualMode?i(b7,cz.anchor):b7.getCursor("anchor"));var cq=s(cv);var cp=s(cu);var co,cn;var cy;if(cr){this.recordLastEdit(cB,cd)}if(cd.repeatOverride!==undefined){cy=cd.repeatOverride}else{cy=cd.getRepeat()}if(cy>0&&ck.explicitRepeat){ck.repeatIsExplicit=true}else{if(ck.noRepeat||(!ck.explicitRepeat&&cy===0)){cy=1;ck.repeatIsExplicit=false}}if(cd.selectedCharacter){ck.selectedCharacter=cs.selectedCharacter=cd.selectedCharacter}ck.repeat=cy;g(b7);if(cj){var cl=a1[cj](b7,cv,ck,cB);cB.lastMotion=a1[cj];if(!cl){return}if(ck.toJumplist){if(!cr&&b7.ace.curOp!=null){b7.ace.curOp.command.scrollIntoView="center-animate"}var ce=b3.jumpList;var b5=ce.cachedCursor;if(b5){bj(b7,b5,cl);delete ce.cachedCursor}else{bj(b7,cv,cl)}}if(cl instanceof Array){cn=cl[0];co=cl[1]}else{co=cl}if(!co){co=s(cv)}if(cB.visualMode){if(!(cB.visualBlock&&co.ch===Infinity)){co=i(b7,co,cB.visualBlock)}if(cn){cn=i(b7,cn,true)}cn=cn||cp;cz.anchor=cn;cz.head=co;bS(b7);bV(b7,cB,"<",w(cn,co)?cn:co);bV(b7,cB,">",w(cn,co)?co:cn)}else{if(!cr){co=i(b7,co);b7.setCursor(co.line,co.ch)}}}if(cr){if(cs.lastSel){cn=cp;var cf=cs.lastSel;var cg=Math.abs(cf.head.line-cf.anchor.line);var b6=Math.abs(cf.head.ch-cf.anchor.ch);if(cf.visualLine){co=bh(cp.line+cg,cp.ch)}else{if(cf.visualBlock){co=bh(cp.line+cg,cp.ch+b6)}else{if(cf.head.line==cf.anchor.line){co=bh(cp.line,cp.ch+b6)}else{co=bh(cp.line+cg,cp.ch)}}}cB.visualMode=true;cB.visualLine=cf.visualLine;cB.visualBlock=cf.visualBlock;cz=cB.sel={anchor:cn,head:co};bS(b7)}else{if(cB.visualMode){cs.lastSel={anchor:s(cz.anchor),head:s(cz.head),visualBlock:cB.visualBlock,visualLine:cB.visualLine}}}var ca,b9,ch,ci;var b8;if(cB.visualMode){ca=z(cz.head,cz.anchor);b9=y(cz.head,cz.anchor);ch=cB.visualLine||cs.linewise;ci=cB.visualBlock?"block":ch?"line":"char";b8=aU(b7,{anchor:ca,head:b9},ci);if(ch){var cw=b8.ranges;if(ci=="block"){for(var cc=0;cc<cw.length;cc++){cw[cc].head.ch=aM(b7,cw[cc].head.line)}}else{if(ci=="line"){cw[0].head=bh(cw[0].head.line+1,0)}}}}else{ca=s(cn||cp);b9=s(co||cq);if(w(b9,ca)){var cA=ca;ca=b9;b9=cA}ch=ck.linewise||cs.linewise;if(ch){X(b7,ca,b9)}else{if(ck.forward){j(b7,ca,b9)}}ci="char";var cb=!ck.inclusive||ch;b8=aU(b7,{anchor:ca,head:b9},ci,cb)}b7.setSelections(b8.ranges,b8.primary);cB.lastMotion=null;cs.repeat=cy;cs.registerName=cx;cs.linewise=ch;var ct=be[cr](b7,cs,b8.ranges,cp,co);if(cB.visualMode){V(b7,ct!=null)}if(ct){b7.setCursor(ct)}}},recordLastEdit:function(b8,b6,b5){var b7=b3.macroModeState;if(b7.isPlaying){return}b8.lastEditInputState=b6;b8.lastEditActionCommand=b5;b7.lastInsertModeChanges.changes=[];b7.lastInsertModeChanges.expectCursorActivityForChange=false}};var a1={moveToTopLine:function(b6,b5,b8){var b7=ar(b6).top+b8.repeat-1;return bh(b7,ad(b6.getLine(b7)))},moveToMiddleLine:function(b5){var b7=ar(b5);var b6=Math.floor((b7.top+b7.bottom)*0.5);return bh(b6,ad(b5.getLine(b6)))},moveToBottomLine:function(b6,b5,b8){var b7=ar(b6).bottom-b8.repeat+1;return bh(b7,ad(b6.getLine(b7)))},expandToLine:function(b5,b7,b8){var b6=b7;return bh(b6.line+b8.repeat-1,Infinity)},findNext:function(b6,b5,b7){var ca=ap(b6);var b9=ca.getQuery();if(!b9){return}var b8=!b7.forward;b8=(ca.isReversed())?!b8:b8;aw(b6,b9);return ae(b6,b8,b9,b7.repeat)},goToMark:function(b6,b5,b8,ca){var b7=ca.marks[b8.selectedCharacter];if(b7){var b9=b7.find();return b8.linewise?{line:b9.line,ch:ad(b6.getLine(b9.line))}:b9}return null},moveToOtherHighlightedEnd:function(b6,b5,b7,b9){if(b9.visualBlock&&b7.sameLine){var b8=b9.sel;return[i(b6,bh(b8.anchor.line,b8.head.ch)),i(b6,bh(b8.head.line,b8.anchor.ch))]}else{return([b9.sel.head,b9.sel.anchor])}},jumpToMark:function(b7,ca,cf,cg){var b5=ca;for(var cb=0;cb<cf.repeat;cb++){var b8=b5;for(var cd in cg.marks){if(!aD(cd)){continue}var ce=cg.marks[cd].find();var cc=(cf.forward)?w(ce,b8):w(b8,ce);if(cc){continue}if(cf.linewise&&(ce.line==b8.line)){continue}var b9=v(b8,b5);var b6=(cf.forward)?x(b8,ce,b5):x(b5,ce,b8);if(b9||b6){b5=ce}}}if(cf.linewise){b5=bh(b5.line,ad(b7.getLine(b5.line)))}return b5},moveByCharacters:function(b5,b8,b9){var b7=b8;var ca=b9.repeat;var b6=b9.forward?b7.ch+ca:b7.ch-ca;return bh(b7.line,b6)},moveByLines:function(b5,ca,cd,cf){var b6=ca;var b7=b6.ch;switch(cf.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:b7=cf.lastHPos;break;default:cf.lastHPos=b7}var ce=cd.repeat+(cd.repeatOffset||0);var cc=cd.forward?b6.line+ce:b6.line-ce;var b8=b5.firstLine();var cb=b5.lastLine();if((cc<b8&&b6.line==b8)||(cc>cb&&b6.line==cb)){return}var b9=b5.ace.session.getFoldLine(cc);if(b9){if(cd.forward){if(cc>b9.start.row){cc=b9.end.row+1}}else{cc=b9.start.row}}if(cd.toFirstChar){b7=ad(b5.getLine(cc));cf.lastHPos=b7}cf.lastHSPos=b5.charCoords(bh(cc,b7),"div").left;return bh(cc,b7)},moveByDisplayLines:function(b5,b8,ca,ce){var b6=b8;switch(ce.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:ce.lastHSPos=b5.charCoords(b6,"div").left}var cb=ca.repeat;var cc=b5.findPosV(b6,(ca.forward?cb:-cb),"line",ce.lastHSPos);if(cc.hitSide){if(ca.forward){var b9=b5.charCoords(cc,"div");var b7={top:b9.top+8,left:ce.lastHSPos};var cc=b5.coordsChar(b7,"div")}else{var cd=b5.charCoords(bh(b5.firstLine(),0),"div");cd.left=ce.lastHSPos;cc=b5.coordsChar(cd,"div")}}ce.lastHPos=cc.ch;return cc},moveByPage:function(b5,b7,b8){var b6=b7;var b9=b8.repeat;return b5.findPosV(b6,(b8.forward?b9:-b9),"page")},moveByParagraph:function(b5,b7,b8){var b6=b8.forward?1:-1;return af(b5,b7,b8.repeat,b6)},moveByScroll:function(b5,b8,b9,cd){var cc=b5.getScrollInfo();var b6=null;var cb=b9.repeat;if(!cb){cb=cc.clientHeight/(2*b5.defaultTextHeight())}var ca=b5.charCoords(b8,"local");b9.repeat=cb;var b6=a1.moveByDisplayLines(b5,b8,b9,cd);if(!b6){return null}var b7=b5.charCoords(b6,"local");b5.scrollTo(null,cc.top+b7.top-ca.top);return b6},moveByWords:function(b5,b6,b7){return a4(b5,b6,b7.repeat,!!b7.forward,!!b7.wordEnd,!!b7.bigWord)},moveTillCharacter:function(b6,b5,b9){var ca=b9.repeat;var b7=a2(b6,ca,b9.forward,b9.selectedCharacter);var b8=b9.forward?-1:1;bk(b8,b9);if(!b7){return null}b7.ch+=b8;return b7},moveToCharacter:function(b5,b6,b7){var b8=b7.repeat;bk(0,b7);return a2(b5,b8,b7.forward,b7.selectedCharacter)||b6},moveToSymbol:function(b5,b6,b7){var b8=b7.repeat;return ag(b5,b8,b7.forward,b7.selectedCharacter)||b6},moveToColumn:function(b5,b6,b7,b9){var b8=b7.repeat;b9.lastHPos=b8-1;b9.lastHSPos=b5.charCoords(b6,"div").left;return a3(b5,b8)},moveToEol:function(b5,b8,b9,cb){var b6=b8;cb.lastHPos=Infinity;var ca=bh(b6.line+b9.repeat-1,Infinity);var b7=b5.clipPos(ca);b7.ch--;cb.lastHSPos=b5.charCoords(b7,"div").left;return ca},moveToFirstNonWhiteSpaceCharacter:function(b5,b7){var b6=b7;return bh(b6.line,ad(b5.getLine(b6.line)))},moveToMatchedSymbol:function(b6,b8){var b7=b8;var b9=b7.line;var b5=b7.ch;var ca=b6.getLine(b9);var cd;do{cd=ca.charAt(b5++);if(cd&&aE(cd)){var cc=b6.getTokenTypeAt(bh(b9,b5));if(cc!=="string"&&cc!=="comment"){break}}}while(cd);if(cd){var cb=b6.findMatchingBracket(bh(b9,b5));return cb.to}else{return b7}},moveToStartOfLine:function(b5,b6){return bh(b6.line,0)},moveToLineOrEdgeOfDocument:function(b6,b5,b8){var b7=b8.forward?b6.lastLine():b6.firstLine();if(b8.repeatIsExplicit){b7=b8.repeat-b6.getOption("firstLineNumber")}return bh(b7,ad(b6.getLine(b7)))},textObjectManipulation:function(b6,b7,ca,ce){var b9={"(":")",")":"(","{":"}","}":"{","[":"]","]":"["};var cc={"'":true,'"':true};var b5=ca.selectedCharacter;if(b5=="b"){b5="("}else{if(b5=="B"){b5="{"}}var b8=!ca.textObjectInner;var cd;if(b9[b5]){cd=bA(b6,b7,b5,b8)}else{if(cc[b5]){cd=ac(b6,b7,b5,b8)}else{if(b5==="W"){cd=Y(b6,b8,true,true)}else{if(b5==="w"){cd=Y(b6,b8,true,false)}else{if(b5==="p"){cd=af(b6,b7,ca.repeat,0,b8);ca.linewise=true;if(ce.visualMode){if(!ce.visualLine){ce.visualLine=true}}else{var cb=ce.inputState.operatorArgs;if(cb){cb.linewise=true}cd.end.line--}}else{return null}}}}}if(!b6.state.vim.visualMode){return[cd.start,cd.end]}else{return W(b6,cd.start,cd.end)}},repeatLastCharacterSearch:function(b5,b8,cb){var ca=b3.lastChararacterSearch;var cc=cb.repeat;var b7=cb.forward===ca.forward;var b9=(ca.increment?1:0)*(b7?-1:1);b5.moveH(-b9,"char");cb.inclusive=b7?true:false;var b6=a2(b5,cc,b7,ca.selectedCharacter);if(!b6){b5.moveH(b9,"char");return b8}b6.ch+=b9;return b6}};function D(b6,b5){a1[b6]=b5}function ab(b8,b7){var b5=[];for(var b6=0;b6<b7;b6++){b5.push(b8)}return b5}var be={change:function(b7,b6,cd){var b8,cf;var cg=b7.state.vim;b3.macroModeState.lastInsertModeChanges.inVisualBlock=cg.visualBlock;if(!cg.visualMode){var b5=cd[0].anchor,b9=cd[0].head;cf=b7.getRange(b5,b9);var ca=cg.lastEditInputState||{};if(ca.motion=="moveByWords"&&!aH(cf)){var cb=(/\s+$/).exec(cf);if(cb&&ca.motionArgs&&ca.motionArgs.forward){b9=a9(b9,0,-cb[0].length);cf=cf.slice(0,-cb[0].length)}}var cc=new bh(b5.line-1,Number.MAX_VALUE);var ch=b7.firstLine()==b7.lastLine();if(b9.line>b7.lastLine()&&b6.linewise&&!ch){b7.replaceRange("",cc,b9)}else{b7.replaceRange("",b5,b9)}if(b6.linewise){if(!ch){b7.setCursor(cc);n.commands.newlineAndIndent(b7)}b5.ch=Number.MAX_VALUE}b8=b5}else{cf=b7.getSelection();var ce=ab("",cd.length);b7.replaceSelections(ce);b8=z(cd[0].head,cd[0].anchor)}b3.registerController.pushText(b6.registerName,"change",cf,b6.linewise,cd.length>1);b.enterInsertMode(b7,{head:b8},b7.state.vim)},"delete":function(b7,b6,ca){var b8,cc;var cd=b7.state.vim;if(!cd.visualBlock){var b5=ca[0].anchor,b9=ca[0].head;if(b6.linewise&&b9.line!=b7.firstLine()&&b5.line==b7.lastLine()&&b5.line==b9.line-1){if(b5.line==b7.firstLine()){b5.ch=0}else{b5=bh(b5.line-1,aM(b7,b5.line-1))}}cc=b7.getRange(b5,b9);b7.replaceRange("",b5,b9);b8=b5;if(b6.linewise){b8=a1.moveToFirstNonWhiteSpaceCharacter(b7,b5)}}else{cc=b7.getSelection();var cb=ab("",ca.length);b7.replaceSelections(cb);b8=ca[0].anchor}b3.registerController.pushText(b6.registerName,"delete",cc,b6.linewise,cd.visualBlock);return i(b7,b8)},indent:function(b6,b5,ca){var cd=b6.state.vim;var cc=ca[0].anchor.line;var b7=cd.visualBlock?ca[ca.length-1].anchor.line:ca[0].head.line;var cb=(cd.visualMode)?b5.repeat:1;if(b5.linewise){b7--}for(var b8=cc;b8<=b7;b8++){for(var b9=0;b9<cb;b9++){b6.indentLine(b8,b5.indentRight)}}return a1.moveToFirstNonWhiteSpaceCharacter(b6,ca[0].anchor)},changeCase:function(b7,b5,cc,cb,ca){var cd=b7.getSelections();var ce=[];var cg=b5.toLower;for(var b9=0;b9<cd.length;b9++){var ch=cd[b9];var cf="";if(cg===true){cf=ch.toLowerCase()}else{if(cg===false){cf=ch.toUpperCase()}else{for(var b8=0;b8<ch.length;b8++){var b6=ch.charAt(b8);cf+=aG(b6)?b6.toLowerCase():b6.toUpperCase()}}}ce.push(cf)}b7.replaceSelections(ce);if(b5.shouldMoveCursor){return ca}else{if(!b7.state.vim.visualMode&&b5.linewise&&cc[0].anchor.line+1==cc[0].head.line){return a1.moveToFirstNonWhiteSpaceCharacter(b7,cb)}else{if(b5.linewise){return cb}else{return z(cc[0].anchor,cc[0].head)}}}},yank:function(b6,b5,b9,b8){var cb=b6.state.vim;var ca=b6.getSelection();var b7=cb.visualMode?z(cb.sel.anchor,cb.sel.head,b9[0].head,b9[0].anchor):b8;b3.registerController.pushText(b5.registerName,"yank",ca,b5.linewise,cb.visualBlock);return b7}};function E(b6,b5){be[b6]=b5}var b={jumpListWalk:function(b6,b5,cc){if(cc.visualMode){return}var cb=b5.repeat;var b7=b5.forward;var b8=b3.jumpList;var b9=b8.move(b6,b7?cb:-cb);var ca=b9?b9.find():undefined;ca=ca?ca:b6.getCursor();b6.setCursor(ca);b6.ace.curOp.command.scrollIntoView="center-animate"},scroll:function(b6,b5,cf){if(cf.visualMode){return}var cd=b5.repeat||1;var ca=b6.defaultTextHeight();var ce=b6.getScrollInfo().top;var b9=ca*cd;var cc=b5.forward?ce+b9:ce-b9;var b7=s(b6.getCursor());var b8=b6.charCoords(b7,"local");if(b5.forward){if(cc>b8.top){b7.line+=(cc-b8.top)/ca;b7.line=Math.ceil(b7.line);b6.setCursor(b7);b8=b6.charCoords(b7,"local");b6.scrollTo(null,b8.top)}else{b6.scrollTo(null,cc)}}else{var cb=cc+b6.getScrollInfo().clientHeight;if(cb<b8.bottom){b7.line-=(b8.bottom-cb)/ca;b7.line=Math.floor(b7.line);b6.setCursor(b7);b8=b6.charCoords(b7,"local");b6.scrollTo(null,b8.bottom-b6.getScrollInfo().clientHeight)}else{b6.scrollTo(null,cc)}}},scrollToCursor:function(b7,b5){var ca=b7.getCursor().line;var b6=b7.charCoords(bh(ca,0),"local");var b8=b7.getScrollInfo().clientHeight;var cb=b6.top;var b9=b6.bottom-cb;switch(b5.position){case"center":cb=cb-(b8/2)+b9;break;case"bottom":cb=cb-b8+b9*1.4;break;case"top":cb=cb+b9*0.4;break}b7.scrollTo(null,cb)},replayMacro:function(b6,b5,ca){var b8=b5.selectedCharacter;var b9=b5.repeat;var b7=b3.macroModeState;if(b8=="@"){b8=b7.latestRegister}while(b9--){T(b6,ca,b7,b8)}},enterMacroRecordMode:function(b6,b5){var b7=b3.macroModeState;var b8=b5.selectedCharacter;b7.enterMacroRecordMode(b6,b8)},enterInsertMode:function(b6,b5,cb){if(b6.getOption("readOnly")){return}cb.insertMode=true;cb.insertModeRepeat=b5&&b5.repeat||1;var b9=(b5)?b5.insertAt:null;var ca=cb.sel;var b7=b5.head||b6.getCursor("head");var b8=b6.listSelections().length;if(b9=="eol"){b7=bh(b7.line,aM(b6,b7.line))}else{if(b9=="charAfter"){b7=a9(b7,0,1)}else{if(b9=="firstNonBlank"){b7=a1.moveToFirstNonWhiteSpaceCharacter(b6,b7)}else{if(b9=="startOfSelectedArea"){if(!cb.visualBlock){if(ca.head.line<ca.anchor.line){b7=ca.head}else{b7=bh(ca.anchor.line,0)}}else{b7=bh(Math.min(ca.head.line,ca.anchor.line),Math.min(ca.head.ch,ca.anchor.ch));b8=Math.abs(ca.head.line-ca.anchor.line)+1}}else{if(b9=="endOfSelectedArea"){if(!cb.visualBlock){if(ca.head.line>=ca.anchor.line){b7=a9(ca.head,0,1)}else{b7=bh(ca.anchor.line,0)}}else{b7=bh(Math.min(ca.head.line,ca.anchor.line),Math.max(ca.head.ch+1,ca.anchor.ch));b8=Math.abs(ca.head.line-ca.anchor.line)+1}}else{if(b9=="inplace"){if(cb.visualMode){return}}}}}}}b6.setOption("keyMap","vim-insert");b6.setOption("disableInput",false);if(b5&&b5.replace){b6.toggleOverwrite(true);b6.setOption("keyMap","vim-replace");n.signal(b6,"vim-mode-change",{mode:"replace"})}else{b6.setOption("keyMap","vim-insert");n.signal(b6,"vim-mode-change",{mode:"insert"})}if(!b3.macroModeState.isPlaying){b6.on("change",ba);n.on(b6.getInputField(),"keydown",bc)}if(cb.visualMode){V(b6)}bB(b6,b7,b8)},toggleVisualMode:function(b7,b5,ca){var b9=b5.repeat;var b6=b7.getCursor();var b8;if(!ca.visualMode){ca.visualMode=true;ca.visualLine=!!b5.linewise;ca.visualBlock=!!b5.blockwise;b8=i(b7,bh(b6.line,b6.ch+b9-1),true);ca.sel={anchor:b6,head:b8};n.signal(b7,"vim-mode-change",{mode:"visual",subMode:ca.visualLine?"linewise":ca.visualBlock?"blockwise":""});bS(b7);bV(b7,ca,"<",z(b6,b8));bV(b7,ca,">",y(b6,b8))}else{if(ca.visualLine^b5.linewise||ca.visualBlock^b5.blockwise){ca.visualLine=!!b5.linewise;ca.visualBlock=!!b5.blockwise;n.signal(b7,"vim-mode-change",{mode:"visual",subMode:ca.visualLine?"linewise":ca.visualBlock?"blockwise":""});bS(b7)}else{V(b7)}}},reselectLastSelection:function(b7,b5,ca){var b9=ca.lastSelection;if(ca.visualMode){bU(b7,ca)}if(b9){var b6=b9.anchorMark.find();var b8=b9.headMark.find();if(!b6||!b8){return}ca.sel={anchor:b6,head:b8};ca.visualMode=true;ca.visualLine=b9.visualLine;ca.visualBlock=b9.visualBlock;bS(b7);bV(b7,ca,"<",z(b6,b8));bV(b7,ca,">",y(b6,b8));n.signal(b7,"vim-mode-change",{mode:"visual",subMode:ca.visualLine?"linewise":ca.visualBlock?"blockwise":""})}},joinLines:function(b6,b5,cf){var b9,b7;if(cf.visualMode){b9=b6.getCursor("anchor");b7=b6.getCursor("head");if(w(b7,b9)){var ce=b7;b7=b9;b9=ce}b7.ch=aM(b6,b7.line)-1}else{var cc=Math.max(b5.repeat,2);b9=b6.getCursor();b7=i(b6,bh(b9.line+cc-1,Infinity))}var ca=0;for(var cb=b9.line;cb<b7.line;cb++){ca=aM(b6,b9.line);var ce=bh(b9.line+1,aM(b6,b9.line+1));var cd=b6.getRange(b9,ce);cd=cd.replace(/\n\s*/g," ");b6.replaceRange(cd,b9,ce)}var b8=bh(b9.line,ca);if(cf.visualMode){V(b6,false)}b6.setCursor(b8)},newLineAndEnterInsertMode:function(b6,b5,b9){b9.insertMode=true;var b7=s(b6.getCursor());if(b7.line===b6.firstLine()&&!b5.after){b6.replaceRange("\n",bh(b6.firstLine(),0));b6.setCursor(b6.firstLine(),0)}else{b7.line=(b5.after)?b7.line:b7.line-1;b7.ch=aM(b6,b7.line);b6.setCursor(b7);var b8=n.commands.newlineAndIndentContinueComment||n.commands.newlineAndIndent;b8(b6)}this.enterInsertMode(b6,{repeat:b5.repeat},b9)},paste:function(b8,b5,cu){var b9=s(b8.getCursor());var cl=b3.registerController.getRegister(b5.registerName);var ct=cl.toString();if(!ct){return}if(b5.matchIndent){var cs=b8.getOption("tabSize");var cw=function(cx){var cy=(cx.split("\t").length-1);var cm=(cx.split(" ").length-1);return cy*cs+cm*1};var cb=b8.getLine(b8.getCursor().line);var cg=cw(cb.match(/^\s*/)[0]);var b7=ct.replace(/\n$/,"");var cv=ct!==b7;var cd=cw(ct.match(/^\s*/)[0]);var ct=b7.replace(/^\s*/gm,function(cy){var cm=cg+(cw(cy)-cd);if(cm<0){return""}else{if(b8.getOption("indentWithTabs")){var cx=Math.floor(cm/cs);return Array(cx+1).join("\t")}else{return Array(cm+1).join(" ")}}});ct+=cv?"\n":""}if(b5.repeat>1){var ct=Array(b5.repeat+1).join(ct)}var ck=cl.linewise;var b6=cl.blockwise;if(ck&&!b6){if(cu.visualMode){ct=cu.visualLine?ct.slice(0,-1):"\n"+ct.slice(0,ct.length-1)+"\n"}else{if(b5.after){ct="\n"+ct.slice(0,ct.length-1);b9.ch=aM(b8,b9.line)}else{b9.ch=0}}}else{if(b6){ct=ct.split("\n");for(var ce=0;ce<ct.length;ce++){ct[ce]=(ct[ce]=="")?" ":ct[ce]}}b9.ch+=b5.after?1:0}var ca;var cf;if(cu.visualMode){cu.lastPastedText=ct;var ci;var cn=aq(b8,cu);var cr=cn[0];var cp=cn[1];var co=b8.getSelection();var cq=b8.listSelections();var cc=new Array(cq.length).join("1").split("1");if(cu.lastSelection){ci=cu.lastSelection.headMark.find()}b3.registerController.unnamedRegister.setText(co);if(b6){b8.replaceSelections(cc);cp=bh(cr.line+ct.length-1,cr.ch);b8.setCursor(cr);bz(b8,cp);b8.replaceSelections(ct);ca=cr}else{if(cu.visualBlock){b8.replaceSelections(cc);b8.setCursor(cr);b8.replaceRange(ct,cr,cr);ca=cr}else{b8.replaceRange(ct,cr,cp);ca=b8.posFromIndex(b8.indexFromPos(cr)+ct.length-1)}}if(ci){cu.lastSelection.headMark=b8.setBookmark(ci)}if(ck){ca.ch=0}}else{if(b6){b8.setCursor(b9);for(var ce=0;ce<ct.length;ce++){var cj=b9.line+ce;if(cj>b8.lastLine()){b8.replaceRange("\n",bh(cj,0))}var ch=aM(b8,cj);if(ch<b9.ch){aa(b8,cj,b9.ch)}}b8.setCursor(b9);bz(b8,bh(b9.line+ct.length-1,b9.ch));b8.replaceSelections(ct);ca=b9}else{b8.replaceRange(ct,b9);if(ck&&b5.after){ca=bh(b9.line+1,ad(b8.getLine(b9.line+1)))}else{if(ck&&!b5.after){ca=bh(b9.line,ad(b8.getLine(b9.line)))}else{if(!ck&&b5.after){cf=b8.indexFromPos(b9);ca=b8.posFromIndex(cf+ct.length-1)}else{cf=b8.indexFromPos(b9);ca=b8.posFromIndex(cf+ct.length)}}}}}if(cu.visualMode){V(b8,false)}b8.setCursor(ca)},undo:function(b6,b5){b6.operation(function(){bp(b6,n.commands.undo,b5.repeat)();b6.setCursor(b6.getCursor("anchor"))})},redo:function(b6,b5){bp(b6,n.commands.redo,b5.repeat)()},setRegister:function(b5,b6,b7){b7.inputState.registerName=b6.selectedCharacter},setMark:function(b6,b5,b8){var b7=b5.selectedCharacter;bV(b6,b8,b7,b6.getCursor())},replace:function(b6,b5,cf){var cb=b5.selectedCharacter;var b8=b6.getCursor();var ca;var b7;var cd=b6.listSelections();if(cf.visualMode){b8=b6.getCursor("start");b7=b6.getCursor("end")}else{var b9=b6.getLine(b8.line);ca=b8.ch+b5.repeat;if(ca>b9.length){ca=b9.length}b7=bh(b8.line,ca)}if(cb=="\n"){if(!cf.visualMode){b6.replaceRange("",b8,b7)}(n.commands.newlineAndIndentContinueComment||n.commands.newlineAndIndent)(b6)}else{var cc=b6.getRange(b8,b7);cc=cc.replace(/[^\n]/g,cb);if(cf.visualBlock){var ce=new Array(b6.getOption("tabSize")+1).join(" ");cc=b6.getSelection();cc=cc.replace(/\t/g,ce).replace(/[^\n]/g,cb).split("\n");b6.replaceSelections(cc)}else{b6.replaceRange(cc,b8,b7)}if(cf.visualMode){b8=w(cd[0].anchor,cd[0].head)?cd[0].anchor:cd[0].head;b6.setCursor(b8);V(b6,false)}else{b6.setCursor(a9(b7,0,-1))}}},incrementNumberToken:function(b6,b5){var b7=b6.getCursor();var cb=b6.getLine(b7.line);var cf=/-?\d+/g;var cc;var cg;var b8;var ce;var ci;while((cc=cf.exec(cb))!==null){ci=cc[0];cg=cc.index;b8=cg+ci.length;if(b7.ch<b8){break}}if(!b5.backtrack&&(b8<=b7.ch)){return}if(ci){var ca=b5.increase?1:-1;var cd=parseInt(ci)+(ca*b5.repeat);var b9=bh(b7.line,cg);var ch=bh(b7.line,b8);ce=cd.toString();b6.replaceRange(ce,b9,ch)}else{return}b6.setCursor(bh(b7.line,cg+ce.length-1))},repeatLastEdit:function(b6,b5,b9){var b7=b9.lastEditInputState;if(!b7){return}var b8=b5.repeat;if(b8&&b5.repeatIsExplicit){b9.lastEditInputState.repeatOverride=b8}else{b8=b9.lastEditInputState.repeatOverride||b8}br(b6,b9,b8,false)},exitInsertMode:U};function C(b6,b5){b[b6]=b5}function i(b6,b7,b8){var b9=Math.min(Math.max(b6.firstLine(),b7.line),b6.lastLine());var ca=aM(b6,b9)-1;ca=(b8)?ca+1:ca;var b5=Math.min(Math.max(0,b7.ch),ca);return bh(b9,b5)}function r(b5){var b7={};for(var b6 in b5){if(b5.hasOwnProperty(b6)){b7[b6]=b5[b6]}}return b7}function a9(b5,b7,b6){if(typeof b7==="object"){b6=b7.ch;b7=b7.line}return bh(b5.line+b7,b5.ch+b6)}function am(b5,b6){return{line:b6.line-b5.line,ch:b6.line-b5.line}}function q(cb,ca,b6,b9){var cc,cd=[],b7=[];for(var b8=0;b8<ca.length;b8++){var b5=ca[b8];if(b6=="insert"&&b5.context!="insert"||b5.context&&b5.context!=b6||b9.operator&&b5.type=="action"||!(cc=p(cb,b5.keys))){continue}if(cc=="partial"){cd.push(b5)}if(cc=="full"){b7.push(b5)}}return{partial:cd.length&&cd,full:b7.length&&b7}}function p(b8,b5){if(b5.slice(-11)=="<character>"){var b7=b5.length-11;var b9=b8.slice(0,b7);var b6=b5.slice(0,b7);return b9==b6&&b8.length>b7?"full":b6.indexOf(b9)==0?"partial":false}else{return b8==b5?"full":b5.indexOf(b8)==0?"partial":false}}function aJ(b5){var b6=/^.*(<[\w\-]+>)$/.exec(b5);var b7=b6?b6[1]:b5.slice(-1);if(b7.length>1){switch(b7){case"<CR>":b7="\n";break;case"<Space>":b7=" ";break;default:break}}return b7}function bp(b5,b6,b7){return function(){for(var b8=0;b8<b7;b8++){b6(b5)}}}function s(b5){return bh(b5.line,b5.ch)}function v(b5,b6){return b5.ch==b6.ch&&b5.line==b6.line}function w(b5,b6){if(b5.line<b6.line){return true}if(b5.line==b6.line&&b5.ch<b6.ch){return true}return false}function z(b5,b6){if(arguments.length>2){b6=z.apply(undefined,Array.prototype.slice.call(arguments,1))}return w(b5,b6)?b5:b6}function y(b5,b6){if(arguments.length>2){b6=y.apply(undefined,Array.prototype.slice.call(arguments,1))}return w(b5,b6)?b6:b5}function x(b5,b7,b9){var b6=w(b5,b7);var b8=w(b7,b9);return b6&&b8}function aM(b5,b6){return b5.getLine(b6).length}function bP(b5){if(b5.trim){return b5.trim()}return b5.replace(/^\s+|\s+$/g,"")}function N(b5){return b5.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function aa(b5,b8,b6){var b7=aM(b5,b8);var b9=new Array(b6-b7+1).join(" ");b5.setCursor(bh(b8,b7));b5.replaceRange(b9,b5.getCursor())}function bz(b7,cn){var co=[],cl=b7.listSelections();var cb=s(b7.clipPos(cn));var ce=!v(cn,cb);var b8=b7.getCursor("head");var cj=al(cl,b8);var cp=v(cl[cj].head,cl[cj].anchor);var ch=cl.length-1;var cd=ch-cj>cj?ch:0;var b5=cl[cd].anchor;var ca=Math.min(b5.line,cb.line);var cf=Math.max(b5.line,cb.line);var b6=b5.ch,cc=cb.ch;var b9=cl[cd].head.ch-b6;var ci=cc-b6;if(b9>0&&ci<=0){b6++;if(!ce){cc--}}else{if(b9<0&&ci>=0){b6--;if(!cp){cc++}}else{if(b9<0&&ci==-1){b6--;cc++}}}for(var cg=ca;cg<=cf;cg++){var ck={anchor:new bh(cg,b6),head:new bh(cg,cc)};co.push(ck)}cj=cb.line==cf?co.length-1:0;b7.setSelections(co);cn.ch=cc;b5.ch=b6;return b5}function bB(b5,b6,b7){var ca=[];for(var b8=0;b8<b7;b8++){var b9=a9(b6,b8,0);ca.push({anchor:b9,head:b9})}b5.setSelections(ca,0)}function al(ca,b7,b8){for(var b9=0;b9<ca.length;b9++){var b5=b8!="head"&&v(ca[b9].anchor,b7);var b6=b8!="anchor"&&v(ca[b9].head,b7);if(b5||b6){return b9}}return -1}function aq(b5,b9){var b8=b9.lastSelection;var b6=function(){var cc=b5.listSelections();var ce=cc[0];var ca=cc[cc.length-1];var cd=w(ce.anchor,ce.head)?ce.anchor:ce.head;var cb=w(ca.anchor,ca.head)?ca.head:ca.anchor;return[cd,cb]};var b7=function(){var cm=b5.getCursor();var ck=b5.getCursor();var cb=b8.visualBlock;if(cb){var co=cb.width;var cf=cb.height;ck=bh(cm.line+cf,cm.ch+co);var cl=[];for(var cg=cm.line;cg<ck.line;cg++){var ca=bh(cg,cm.ch);var ce=bh(cg,ck.ch);var cj={anchor:ca,head:ce};cl.push(cj)}b5.setSelections(cl)}else{var cn=b8.anchorMark.find();var cd=b8.headMark.find();var ci=cd.line-cn.line;var cc=cd.ch-cn.ch;ck={line:ck.line+ci,ch:ci?ck.ch:cc+ck.ch};if(b8.visualLine){cm=bh(cm.line,0);ck=bh(ck.line,aM(b5,ck.line))}b5.setSelection(cm,ck)}return[cm,ck]};if(!b9.visualMode){return b7()}else{return b6()}}function bU(b6,b8){var b5=b8.sel.anchor;var b7=b8.sel.head;if(b8.lastPastedText){b7=b6.posFromIndex(b6.indexFromPos(b5)+b8.lastPastedText.length);b8.lastPastedText=null}b8.lastSelection={anchorMark:b6.setBookmark(b5),headMark:b6.setBookmark(b7),anchor:s(b5),head:s(b7),visualMode:b8.visualMode,visualLine:b8.visualLine,visualBlock:b8.visualBlock}}function W(b6,ca,b7){var b9=b6.state.vim.sel;var b8=b9.head;var b5=b9.anchor;var cb;if(w(b7,ca)){cb=b7;b7=ca;ca=cb}if(w(b8,b5)){b8=z(ca,b8);b5=y(b5,b7)}else{b5=z(ca,b5);b8=y(b8,b7);b8=a9(b8,0,-1);if(b8.ch==-1&&b8.line!=b6.firstLine()){b8=bh(b8.line-1,aM(b6,b8.line-1))}}return[b5,b8]}function bS(b5,b8,b7){var b9=b5.state.vim;b8=b8||b9.sel;var b7=b7||b9.visualLine?"line":b9.visualBlock?"block":"char";var b6=aU(b5,b8,b7);b5.setSelections(b6.ranges,b6.primary);bT(b5)}function aU(b8,ck,cg,b9){var ca=s(ck.head);var b5=s(ck.anchor);if(cg=="char"){var cb=!b9&&!w(ck.head,ck.anchor)?1:0;var b6=w(ck.head,ck.anchor)?1:0;ca=a9(ck.head,0,cb);b5=a9(ck.anchor,0,b6);return{ranges:[{anchor:b5,head:ca}],primary:0}}else{if(cg=="line"){if(!w(ck.head,ck.anchor)){b5.ch=0;var ce=b8.lastLine();if(ca.line>ce){ca.line=ce}ca.ch=aM(b8,ca.line)}else{ca.ch=0;b5.ch=aM(b8,b5.line)}return{ranges:[{anchor:b5,head:ca}],primary:0}}else{if(cg=="block"){var cl=Math.min(b5.line,ca.line),cf=Math.min(b5.ch,ca.ch),b7=Math.max(b5.line,ca.line),cj=Math.max(b5.ch,ca.ch)+1;var cc=b7-cl+1;var ch=ca.line==cl?0:cc-1;var ci=[];for(var cd=0;cd<cc;cd++){ci.push({anchor:bh(cl+cd,cf),head:bh(cl+cd,cj)})}return{ranges:ci,primary:ch}}}}}function ak(b5){var b6=b5.getCursor("head");if(b5.getSelection().length==1){b6=z(b6,b5.getCursor("anchor"))}return b6}function V(b5,b6){var b7=b5.state.vim;if(b6!==false){b5.setCursor(i(b5,b7.sel.head))}bU(b5,b7);b7.visualMode=false;b7.visualLine=false;b7.visualBlock=false;n.signal(b5,"vim-mode-change",{mode:"normal"});if(b7.fakeCursor){b7.fakeCursor.clear()}}function j(b5,b7,b6){var ca=b5.getRange(b7,b6);if(/\n\s*$/.test(ca)){var b9=ca.split("\n");b9.pop();var b8;for(var b8=b9.pop();b9.length>0&&b8&&aH(b8);b8=b9.pop()){b6.line--;b6.ch=0}if(b8){b6.line--;b6.ch=aM(b5,b6.line)}else{b6.ch=0}}}function X(b5,b7,b6){b7.ch=0;b6.ch=0;b6.line++}function ad(b6){if(!b6){return 0}var b5=b6.search(/\S/);return b5==-1?b6.length:b5}function Y(b7,cb,b5,b6,cd){var b8=ak(b7);var cc=b7.getLine(b8.line);var ca=b8.ch;var cf=cd?b4[0]:d[0];while(!cf(cc.charAt(ca))){ca++;if(ca>=cc.length){return null}}if(b6){cf=d[0]}else{cf=b4[0];if(!cf(cc.charAt(ca))){cf=b4[1]}}var b9=ca,ce=ca;while(cf(cc.charAt(b9))&&b9<cc.length){b9++}while(cf(cc.charAt(ce))&&ce>=0){ce--}ce++;if(cb){var cg=b9;while(/\s/.test(cc.charAt(b9))&&b9<cc.length){b9++}if(cg==b9){var ch=ce;while(/\s/.test(cc.charAt(ce-1))&&ce>0){ce--}if(!ce){ce=ch}}}return{start:bh(b8.line,ce),end:bh(b8.line,b9)}}function bj(b5,b7,b6){if(!v(b7,b6)){b3.jumpList.add(b5,b7,b6)}}function bk(b6,b5){b3.lastChararacterSearch.increment=b6;b3.lastChararacterSearch.forward=b5.forward;b3.lastChararacterSearch.selectedCharacter=b5.selectedCharacter}var bJ={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"};var ah={bracket:{isComplete:function(b5){if(b5.nextCh===b5.symb){b5.depth++;if(b5.depth>=1){return true}}else{if(b5.nextCh===b5.reverseSymb){b5.depth--}}return false}},section:{init:function(b5){b5.curMoveThrough=true;b5.symb=(b5.forward?"]":"[")===b5.symb?"{":"}"},isComplete:function(b5){return b5.index===0&&b5.nextCh===b5.symb}},comment:{isComplete:function(b6){var b5=b6.lastCh==="*"&&b6.nextCh==="/";b6.lastCh=b6.nextCh;return b5}},method:{init:function(b5){b5.symb=(b5.symb==="m"?"{":"}");b5.reverseSymb=b5.symb==="{"?"}":"{"},isComplete:function(b5){if(b5.nextCh===b5.symb){return true}return false}},preprocess:{init:function(b5){b5.index=0},isComplete:function(b5){if(b5.nextCh==="#"){var b6=b5.lineText.match(/#(\w+)/)[1];if(b6==="endif"){if(b5.forward&&b5.depth===0){return true}b5.depth++}else{if(b6==="if"){if(!b5.forward&&b5.depth===0){return true}b5.depth--}}if(b6==="else"&&b5.depth===0){return true}}return false}}};function ag(b5,ch,b9,cj){var b6=s(b5.getCursor());var ca=b9?1:-1;var b8=b9?b5.lineCount():-1;var b7=b6.ch;var cd=b6.line;var cf=b5.getLine(cd);var ci={lineText:cf,nextCh:cf.charAt(b7),lastCh:null,index:b7,symb:cj,reverseSymb:(b9?{")":"(","}":"{"}:{"(":")","{":"}"})[cj],forward:b9,depth:0,curMoveThrough:false};var cg=bJ[cj];if(!cg){return b6}var cb=ah[cg].init;var cc=ah[cg].isComplete;if(cb){cb(ci)}while(cd!==b8&&ch){ci.index+=ca;ci.nextCh=ci.lineText.charAt(ci.index);if(!ci.nextCh){cd+=ca;ci.lineText=b5.getLine(cd)||"";if(ca>0){ci.index=0}else{var ce=ci.lineText.length;ci.index=(ce>0)?(ce-1):0}ci.nextCh=ci.lineText.charAt(ci.index)}if(cc(ci)){b6.line=cd;b6.ch=ci.index;ch--}}if(ci.nextCh||ci.curMoveThrough){return bh(cd,ci.index)}return b6}function aj(b7,b8,cb,b5,ca){var cf=b8.line;var cg=b8.ch;var ce=b7.getLine(cf);var b9=cb?1:-1;var b6=b5?d:b4;if(ca&&ce==""){cf+=b9;ce=b7.getLine(cf);if(!aC(b7,cf)){return null}cg=(cb)?0:ce.length}while(true){if(ca&&ce==""){return{from:0,to:0,line:cf}}var ch=(b9>0)?ce.length:-1;var cj=ch,ci=ch;while(cg!=ch){var cc=false;for(var cd=0;cd<b6.length&&!cc;++cd){if(b6[cd](ce.charAt(cg))){cj=cg;while(cg!=ch&&b6[cd](ce.charAt(cg))){cg+=b9}ci=cg;cc=cj!=ci;if(cj==b8.ch&&cf==b8.line&&ci==cj+b9){continue}else{return{from:Math.min(cj,ci+1),to:Math.max(cj,ci),line:cf}}}}if(!cc){cg+=b9}}cf+=b9;if(!aC(b7,cf)){return null}ce=b7.getLine(cf);cg=(b9>0)?0:ce.length}throw new Error("The impossible happened.")}function a4(b6,b7,cf,cc,ci,b5){var b8=s(b7);var cj=[];if(cc&&!ci||!cc&&ci){cf++}var b9=!(cc&&ci);for(var cd=0;cd<cf;cd++){var ch=aj(b6,b7,cc,b5,b9);if(!ch){var ca=aM(b6,b6.lastLine());cj.push(cc?{line:b6.lastLine(),from:ca,to:ca}:{line:0,from:0,to:0});break}cj.push(ch);b7=bh(ch.line,cc?(ch.to-1):ch.from)}var cg=cj.length!=cf;var cb=cj[0];var ce=cj.pop();if(cc&&!ci){if(!cg&&(cb.from!=b8.ch||cb.line!=b8.line)){ce=cj.pop()}return bh(ce.line,ce.from)}else{if(cc&&ci){return bh(ce.line,ce.to-1)}else{if(!cc&&ci){if(!cg&&(cb.to!=b8.ch||cb.line!=b8.line)){ce=cj.pop()}return bh(ce.line,ce.to)}else{return bh(ce.line,ce.from)}}}}function a2(b6,cc,b8,b5){var b7=b6.getCursor();var cd=b7.ch;var ca;for(var b9=0;b9<cc;b9++){var cb=b6.getLine(b7.line);ca=e(cd,cb,b5,b8,true);if(ca==-1){return null}cd=ca}return bh(b6.getCursor().line,ca)}function a3(b5,b7){var b6=b5.getCursor().line;return i(b5,bh(b6,b7-1))}function bV(b5,b8,b6,b7){if(!ay(b6,bZ)){return}if(b8.marks[b6]){b8.marks[b6].clear()}b8.marks[b6]=b5.setBookmark(b7)}function e(ca,b9,b5,b6,b8){var b7;if(b6){b7=b9.indexOf(b5,ca+1);if(b7!=-1&&!b8){b7-=1}}else{b7=b9.lastIndexOf(b5,ca-1);if(b7!=-1&&!b8){b7+=1}}return b7}function af(b6,b9,ch,b7,cb){var ce=b9.line;var cg=b6.firstLine();var cf=b6.lastLine();var cj,b8,ca=ce;function cd(cm){return !/\S/.test(b6.getLine(cm))}function cc(co,cn,cm){if(cm){return cd(co)!=cd(co+cn)}return !cd(co)&&cd(co+cn)}function ci(cn){b7=b7>0?1:-1;var cm=b6.ace.session.getFoldLine(cn);if(cm){if(cn+b7>cm.start.row&&cn+b7<cm.end.row){b7=(b7>0?cm.end.row:cm.start.row)-cn}}}if(b7){while(cg<=ca&&ca<=cf&&ch>0){ci(ca);if(cc(ca,b7)){ch--}ca+=b7}return new bh(ca,0)}var cl=b6.state.vim;if(cl.visualLine&&cc(ce,1,true)){var b5=cl.sel.anchor;if(cc(b5.line,-1,true)){if(!cb||b5.line!=ce){ce+=1}}}var ck=cd(ce);for(ca=ce;ca<=cf&&ch;ca++){if(cc(ca,1,true)){if(!cb||cd(ca)!=ck){ch--}}}b8=new bh(ca,0);if(ca>cf&&!ck){ck=true}else{cb=false}for(ca=ce;ca>cg;ca--){if(!cb||cd(ca)==ck||ca==ce){if(cc(ca,-1,true)){break}}}cj=new bh(ca,0);return{start:cj,end:b8}}function bA(b6,ca,cf,cb){var b7=ca,ce,b9;var b5=({"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/})[cf];var cd=({"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{"})[cf];var b8=b6.getLine(b7.line).charAt(b7.ch);var cc=b8===cd?1:0;ce=b6.scanForBracket(bh(b7.line,b7.ch+cc),-1,null,{bracketRegex:b5});b9=b6.scanForBracket(bh(b7.line,b7.ch+cc),1,null,{bracketRegex:b5});if(!ce||!b9){return{start:b7,end:b7}}ce=ce.pos;b9=b9.pos;if((ce.line==b9.line&&ce.ch>b9.ch)||(ce.line>b9.line)){var cg=ce;ce=b9;b9=cg}if(cb){b9.ch+=1}else{ce.ch+=1}return{start:ce,end:b9}}function ac(b6,ca,cg,cc){var b7=s(ca);var ce=b6.getLine(b7.line);var b5=ce.split("");var cf,b8,cb,cd;var b9=b5.indexOf(cg);if(b7.ch<b9){b7.ch=b9}else{if(b9<b7.ch&&b5[b7.ch]==cg){b8=b7.ch;--b7.ch}}if(b5[b7.ch]==cg&&!b8){cf=b7.ch+1}else{for(cb=b7.ch;cb>-1&&!cf;cb--){if(b5[cb]==cg){cf=cb+1}}}if(cf&&!b8){for(cb=cf,cd=b5.length;cb<cd&&!b8;cb++){if(b5[cb]==cg){b8=cb}}}if(!cf||!b8){return{start:b7,end:b7}}if(cc){--cf;++b8}return{start:bh(b7.line,cf),end:bh(b7.line,b8)}}F("pcre",true,"boolean");function by(){}by.prototype={getQuery:function(){return b3.query},setQuery:function(b5){b3.query=b5},getOverlay:function(){return this.searchOverlay},setOverlay:function(b5){this.searchOverlay=b5},isReversed:function(){return b3.isReversed},setReversed:function(b5){b3.isReversed=b5},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(b5){this.annotate=b5}};function ap(b5){var b6=b5.state.vim;return b6.searchState_||(b6.searchState_=new by())}function J(b5,b9,b8,b6,b7){if(b5.openDialog){b5.openDialog(b9,b6,{bottom:true,value:b7.value,onKeyDown:b7.onKeyDown,onKeyUp:b7.onKeyUp,selectValueOnOpen:false})}else{b6(prompt(b8,""))}}function bH(b5){var b7=ai(b5)||[];if(!b7.length){return[]}var b8=[];if(b7[0]!==0){return}for(var b6=0;b6<b7.length;b6++){if(typeof b7[b6]=="number"){b8.push(b5.substring(b7[b6]+1,b7[b6+1]))}}return b8}function ai(b9){var b6=false;var b8=[];for(var b7=0;b7<b9.length;b7++){var b5=b9.charAt(b7);if(!b6&&b5=="/"){b8.push(b7)}b6=!b6&&(b5=="\\")}return b8}function bN(cc){var cb="|(){";var cd="}";var b6=false;var b9=[];for(var b7=-1;b7<cc.length;b7++){var b5=cc.charAt(b7)||"";var b8=cc.charAt(b7+1)||"";var ca=(b8&&cb.indexOf(b8)!=-1);if(b6){if(b5!=="\\"||!ca){b9.push(b5)}b6=false}else{if(b5==="\\"){b6=true;if(b8&&cd.indexOf(b8)!=-1){ca=true}if(!ca||b8==="\\"){b9.push(b5)}}else{b9.push(b5);if(ca&&b8!=="\\"){b9.push("\\")}}}}return b9.join("")}var f={"\\n":"\n","\\r":"\r","\\t":"\t"};function bO(ca){var b6=false;var b9=[];for(var b7=-1;b7<ca.length;b7++){var b5=ca.charAt(b7)||"";var b8=ca.charAt(b7+1)||"";if(f[b5+b8]){b9.push(f[b5+b8]);b7++}else{if(b6){b9.push(b5);b6=false}else{if(b5==="\\"){b6=true;if((aF(b8)||b8==="$")){b9.push("$")}else{if(b8!=="/"&&b8!=="\\"){b9.push("\\")}}}else{if(b5==="$"){b9.push("$")}b9.push(b5);if(b8==="/"){b9.push("\\")}}}}}return b9.join("")}var bR={"\\/":"/","\\\\":"\\","\\n":"\n","\\r":"\r","\\t":"\t"};function bQ(b8){var b9=new n.StringStream(b8);var b7=[];while(!b9.eol()){while(b9.peek()&&b9.peek()!="\\"){b7.push(b9.next())}var b5=false;for(var b6 in bR){if(b9.match(b6,true)){b5=true;b7.push(bR[b6]);break}}if(!b5){b7.push(b9.next())}}return b7.join("")}function bg(b9,b7,cd){var b8=b3.registerController.getRegister("/");b8.setText(b9);if(b9 instanceof RegExp){return b9}var cc=ai(b9);var cb;var b6;if(!cc.length){cb=b9}else{cb=b9.substring(0,cc[0]);var b5=b9.substring(cc[0]);b6=(b5.indexOf("i")!=-1)}if(!cb){return null}if(!ao("pcre")){cb=bN(cb)}if(cd){b7=(/^[^A-Z]*$/).test(cb)}var ca=new RegExp(cb,(b7||b6)?"i":undefined);return ca}function bD(b5,b6){if(b5.openNotification){b5.openNotification('<span style="color: red">'+b6+"</span>",{bottom:true,duration:5000})}else{alert(b6)}}function aW(b6,b5){var b7="";if(b6){b7+='<span style="font-family: monospace">'+b6+"</span>"}b7+='<input type="text"/> <span style="color: #888">';if(b5){b7+='<span style="color: #888">';b7+=b5;b7+="</span>"}return b7}var bx="(Javascript regexp)";function bE(b5,b6){var b8=(b6.prefix||"")+" "+(b6.desc||"");var b7=aW(b6.prefix,b6.desc);J(b5,b7,b8,b6.onClose,b6)}function bl(b8,b9){if(b8 instanceof RegExp&&b9 instanceof RegExp){var b7=["global","multiline","ignoreCase","source"];for(var b5=0;b5<b7.length;b5++){var b6=b7[b5];if(b8[b6]!==b9[b6]){return false}}return true}return false}function bW(b5,b8,b6,b9){if(!b8){return}var ca=ap(b5);var b7=bg(b8,!!b6,!!b9);if(!b7){return}aw(b5,b7);if(bl(b7,ca.getQuery())){return b7}ca.setQuery(b7);return b7}function bw(b6){if(b6.source.charAt(0)=="^"){var b5=true}return{token:function(b8){if(b5&&!b8.sol()){b8.skipToEnd();return}var b7=b8.match(b6,false);if(b7){if(b7[0].length==0){b8.next();return"searching"}if(!b8.sol()){b8.backUp(1);if(!b6.exec(b8.next()+b7[0])){b8.next();return null}}b8.match(b6);return"searching"}while(!b8.eol()){b8.next();if(b8.match(b6,false)){break}}},query:b6}}function aw(b5,b7){var b8=ap(b5);var b6=b8.getOverlay();if(!b6||b7!=b6.query){if(b6){b5.removeOverlay(b6)}b6=bw(b7);b5.addOverlay(b6);if(b5.showMatchesOnScrollbar){if(b8.getScrollbarAnnotate()){b8.getScrollbarAnnotate().clear()}b8.setScrollbarAnnotate(b5.showMatchesOnScrollbar(b7))}b8.setOverlay(b6)}}function ae(b5,b6,b7,b8){if(b8===undefined){b8=1}return b5.operation(function(){var cc=b5.getCursor();var b9=b5.getSearchCursor(b7,cc);for(var cb=0;cb<b8;cb++){var ca=b9.find(b6);if(cb==0&&ca&&v(b9.from(),cc)){ca=b9.find(b6)}if(!ca){b9=b5.getSearchCursor(b7,(b6)?bh(b5.lastLine()):bh(b5.firstLine(),0));if(!b9.find(b6)){return}}}return b9.from()})}function h(b5){var b6=ap(b5);b5.removeOverlay(ap(b5).getOverlay());b6.setOverlay(null);if(b6.getScrollbarAnnotate()){b6.getScrollbarAnnotate().clear();b6.setScrollbarAnnotate(null)}}function aB(b6,b7,b5){if(typeof b6!="number"){b6=b6.line}if(b7 instanceof Array){return ay(b6,b7)}else{if(b5){return(b6>=b7&&b6<=b5)}else{return b6==b7}}}function ar(b5){var b6=b5.ace.renderer;return{top:b6.getFirstFullyVisibleRow(),bottom:b6.getLastFullyVisibleRow()}}var R=function(){this.buildCommandMap_()};R.prototype={processCommand:function(b5,b6,b7){var b8=this;b5.operation(function(){b5.curOp.isVimOp=true;b8._processCommand(b5,b6,b7)})},_processCommand:function(b5,cb,cd){var cg=b5.state.vim;var b7=b3.registerController.getRegister(":");var cf=b7.toString();if(cg.visualMode){V(b5)}var cc=new n.StringStream(cb);b7.setText(cb);var ce=cd||{};ce.input=cb;try{this.parseInput_(b5,cc,ce)}catch(b9){bD(b5,b9);throw b9}var b6;var b8;if(!ce.commandName){if(ce.line!==undefined){b8="move"}}else{b6=this.matchCommand_(ce.commandName);if(b6){b8=b6.name;if(b6.excludeFromCommandHistory){b7.setText(cf)}this.parseCommandArgs_(cc,ce,b6);if(b6.type=="exToKey"){for(var ca=0;ca<b6.toKeys.length;ca++){n.Vim.handleKey(b5,b6.toKeys[ca],"mapping")}return}else{if(b6.type=="exToEx"){this.processCommand(b5,b6.toInput);return}}}}if(!b8){bD(b5,'Not an editor command ":'+cb+'"');return}try{S[b8](b5,ce);if((!b6||!b6.possiblyAsync)&&ce.callback){ce.callback()}}catch(b9){bD(b5,b9);throw b9}},parseInput_:function(b5,b7,b8){b7.eatWhile(":");if(b7.eat("%")){b8.line=b5.firstLine();b8.lineEnd=b5.lastLine()}else{b8.line=this.parseLineSpec_(b5,b7);if(b8.line!==undefined&&b7.eat(",")){b8.lineEnd=this.parseLineSpec_(b5,b7)}}var b6=b7.match(/^(\w+)/);if(b6){b8.commandName=b6[1]}else{b8.commandName=b7.match(/.*/)[0]}return b8},parseLineSpec_:function(b5,b6){var b8=b6.match(/^(\d+)/);if(b8){return parseInt(b8[1],10)-1}switch(b6.next()){case".":return b5.getCursor().line;case"$":return b5.lastLine();case"'":var b7=b5.state.vim.marks[b6.next()];if(b7&&b7.find()){return b7.find().line}throw new Error("Mark not set");default:b6.backUp(1);return undefined}},parseCommandArgs_:function(b8,b9,b6){if(b8.eol()){return}b9.argString=b8.match(/.*/)[0];var b7=b6.argDelimiter||/\s+/;var b5=bP(b9.argString).split(b7);if(b5.length&&b5[0]){b9.args=b5}},matchCommand_:function(b6){for(var b7=b6.length;b7>0;b7--){var b8=b6.substring(0,b7);if(this.commandMap_[b8]){var b5=this.commandMap_[b8];if(b5.name.indexOf(b6)===0){return b5}}}return null},buildCommandMap_:function(){this.commandMap_={};for(var b6=0;b6<A.length;b6++){var b5=A[b6];var b7=b5.shortName||b5.name;this.commandMap_[b7]=b5}},map:function(b7,b9,b6){if(b7!=":"&&b7.charAt(0)==":"){if(b6){throw Error("Mode not supported for ex mappings")}var b5=b7.substring(1);if(b9!=":"&&b9.charAt(0)==":"){this.commandMap_[b5]={name:b5,type:"exToEx",toInput:b9.substring(1),user:true}}else{this.commandMap_[b5]={name:b5,type:"exToKey",toKeys:b9,user:true}}}else{if(b9!=":"&&b9.charAt(0)==":"){var b8={keys:b7,type:"keyToEx",exArgs:{input:b9.substring(1)},user:true};if(b6){b8.context=b6}B.unshift(b8)}else{var b8={keys:b7,type:"keyToKey",toKeys:b9,user:true};if(b6){b8.context=b6}B.unshift(b8)}}},unmap:function(b9,b6){if(b9!=":"&&b9.charAt(0)==":"){if(b6){throw Error("Mode not supported for ex mappings")}var b5=b9.substring(1);if(this.commandMap_[b5]&&this.commandMap_[b5].user){delete this.commandMap_[b5];return}}else{var b8=b9;for(var b7=0;b7<B.length;b7++){if(b8==B[b7].keys&&B[b7].context===b6&&B[b7].user){B.splice(b7,1);return}}}}};var S={colorscheme:function(b5,b6){if(!b6.args||b6.args.length<1){bD(b5,b5.getOption("theme"));return}b5.setOption("theme",b6.args[0])},map:function(b5,b8,b6){var b7=b8.args;if(!b7||b7.length<2){if(b5){bD(b5,"Invalid mapping: "+b8.input)}return}Q.map(b7[0],b7[1],b6)},imap:function(b5,b6){this.map(b5,b6,"insert")},nmap:function(b5,b6){this.map(b5,b6,"normal")},vmap:function(b5,b6){this.map(b5,b6,"visual")},unmap:function(b5,b8,b6){var b7=b8.args;if(!b7||b7.length<1){if(b5){bD(b5,"No such mapping: "+b8.input)}return}Q.unmap(b7[0],b6)},move:function(b5,b6){o.processCommand(b5,b5.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:false,explicitRepeat:true,linewise:true},repeatOverride:b6.line+1})},set:function(b5,cb){var cc=cb.args;var cd=cb.setCfg||{};if(!cc||cc.length<1){if(b5){bD(b5,"Invalid mapping: "+cb.input)}return}var b6=cc[0].split("=");var ca=b6[0];var ce=b6[1];var b7=false;if(ca.charAt(ca.length-1)=="?"){if(ce){throw Error("Trailing characters: "+cb.argString)}ca=ca.substring(0,ca.length-1);b7=true}if(ce===undefined&&ca.substring(0,2)=="no"){ca=ca.substring(2);ce=false}var b9=bf[ca]&&bf[ca].type=="boolean";if(b9&&ce==undefined){ce=true}if(!b9&&ce===undefined||b7){var b8=ao(ca,b5,cd);if(b8===true||b8===false){bD(b5," "+(b8?"":"no")+ca)}else{bD(b5,"  "+ca+"="+b8)}}else{bC(ca,ce,b5,cd)}},setlocal:function(b5,b6){b6.setCfg={scope:"local"};this.set(b5,b6)},setglobal:function(b5,b6){b6.setCfg={scope:"global"};this.set(b5,b6)},registers:function(b5,b7){var b8=b7.args;var cc=b3.registerController.registers;var b9="----------Registers----------<br><br>";if(!b8){for(var cb in cc){var cd=cc[cb].toString();if(cd.length){b9+='"'+cb+"    "+cd+"<br>"}}}else{var cb;b8=b8.join("");for(var b6=0;b6<b8.length;b6++){cb=b8.charAt(b6);if(!b3.registerController.isValidRegister(cb)){continue}var ca=cc[cb]||new bm();b9+='"'+cb+"    "+ca.toString()+"<br>"}}bD(b5,b9)},sort:function(b5,ci){var cl,cb,cq,cf;function cj(){if(ci.argString){var cm=new n.StringStream(ci.argString);if(cm.eat("!")){cl=true}if(cm.eol()){return}if(!cm.eatSpace()){return"Invalid arguments"}var cu=cm.match(/[a-z]+/);if(cu){cu=cu[0];cb=cu.indexOf("i")!=-1;cq=cu.indexOf("u")!=-1;var cr=cu.indexOf("d")!=-1&&1;var cs=cu.indexOf("x")!=-1&&1;var ct=cu.indexOf("o")!=-1&&1;if(cr+cs+ct>1){return"Invalid arguments"}cf=cr&&"decimal"||cs&&"hex"||ct&&"octal"}if(cm.match(/\/.*\//)){return"patterns not supported"}}}var b9=cj();if(b9){bD(b5,b9+": "+ci.argString);return}var ce=ci.line||b5.firstLine();var cd=ci.lineEnd||ci.line||b5.lastLine();if(ce==cd){return}var b8=bh(ce,0);var b7=bh(cd,aM(b5,cd));var cn=b5.getRange(b8,b7).split("\n");var cg=(cf=="decimal")?/(-?)([\d]+)/:(cf=="hex")?/(-?)(?:0x)?([0-9a-f]+)/i:(cf=="octal")?/([0-7]+)/:null;var ck=(cf=="decimal")?10:(cf=="hex")?16:(cf=="octal")?8:null;var ch=[],cp=[];if(cf){for(var ca=0;ca<cn.length;ca++){if(cg.exec(cn[ca])){ch.push(cn[ca])}else{cp.push(cn[ca])}}}else{cp=cn}function b6(cm,cs){if(cl){var cu;cu=cm;cm=cs;cs=cu}if(cb){cm=cm.toLowerCase();cs=cs.toLowerCase()}var cr=cf&&cg.exec(cm);var ct=cf&&cg.exec(cs);if(!cr){return cm<cs?-1:1}cr=parseInt((cr[1]+cr[2]).toLowerCase(),ck);ct=parseInt((ct[1]+ct[2]).toLowerCase(),ck);return cr-ct}ch.sort(b6);cp.sort(b6);cn=(!cl)?cp.concat(ch):ch.concat(cp);if(cq){var co=cn;var cc;cn=[];for(var ca=0;ca<co.length;ca++){if(co[ca]!=cc){cn.push(co[ca])}cc=co[ca]}}b5.replaceRange(cn.join("\n"),b8,b7)},global:function(b6,ch){var b5=ch.argString;if(!b5){bD(b6,"Regular Expression missing from global");return}var cd=(ch.line!==undefined)?ch.line:b6.firstLine();var cc=ch.lineEnd||ch.line||b6.lastLine();var ck=bH(b5);var cj=b5,b7;if(ck.length){cj=ck[0];b7=ck.slice(1,ck.length).join("/")}if(cj){try{bW(b6,cj,true,true)}catch(b9){bD(b6,"Invalid regex: "+cj);return}}var ci=ap(b6).getQuery();var cf=[],b8="";for(var ca=cd;ca<=cc;ca++){var ce=ci.test(b6.getLine(ca));if(ce){cf.push(ca+1);b8+=b6.getLine(ca)+"<br>"}}if(!b7){bD(b6,b8);return}var cb=0;var cg=function(){if(cb<cf.length){var cl=cf[cb]+b7;Q.processCommand(b6,cl,{callback:cg})}cb++};cg()},substitute:function(b6,cf){if(!b6.getSearchCursor){throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.")}var b5=cf.argString;var cl=b5?bH(b5):[];var ch,ci="",cn,cb,b8;var b7=false;var cc=false;if(cl.length){ch=cl[0];ci=cl[1];if(ci!==undefined){if(ao("pcre")){ci=bQ(ci)}else{ci=bO(ci)}b3.lastSubstituteReplacePart=ci}cn=cl[2]?cl[2].split(" "):[]}else{if(b5&&b5.length){bD(b6,"Substitutions should be of the form :s/pattern/replace/");return}}if(cn){cb=cn[0];b8=parseInt(cn[1]);if(cb){if(cb.indexOf("c")!=-1){b7=true;cb.replace("c","")}if(cb.indexOf("g")!=-1){cc=true;cb.replace("g","")}ch=ch+"/"+cb}}if(ch){try{bW(b6,ch,true,true)}catch(ca){bD(b6,"Invalid regex: "+ch);return}}ci=ci||b3.lastSubstituteReplacePart;if(ci===undefined){bD(b6,"No previous substitute regular expression");return}var ck=ap(b6);var cg=ck.getQuery();var ce=(cf.line!==undefined)?cf.line:b6.getCursor().line;var cd=cf.lineEnd||ce;if(ce==b6.firstLine()&&cd==b6.lastLine()){cd=Infinity}if(b8){ce=cd;cd=ce+b8-1}var cj=i(b6,bh(ce,0));var b9=b6.getSearchCursor(cg,cj);L(b6,b7,cc,ce,cd,b9,cg,ci,cf.callback)},redo:n.commands.redo,undo:n.commands.undo,write:function(b5){if(n.commands.save){n.commands.save(b5)}else{b5.save()}},nohlsearch:function(b5){h(b5)},delmarks:function(b5,cb){if(!cb.argString||!bP(cb.argString)){bD(b5,"Argument required");return}var ce=b5.state.vim;var cf=new n.StringStream(bP(cb.argString));while(!cf.eol()){cf.eatSpace();var b6=cf.pos;if(!cf.match(/[a-zA-Z]/,false)){bD(b5,"Invalid argument: "+cb.argString.substring(b6));return}var cg=cf.next();if(cf.match("-",true)){if(!cf.match(/[a-zA-Z]/,false)){bD(b5,"Invalid argument: "+cb.argString.substring(b6));return}var cd=cg;var b8=cf.next();if(aD(cd)&&aD(b8)||aG(cd)&&aG(b8)){var cc=cd.charCodeAt(0);var b7=b8.charCodeAt(0);if(cc>=b7){bD(b5,"Invalid argument: "+cb.argString.substring(b6));return}for(var b9=0;b9<=b7-cc;b9++){var ca=String.fromCharCode(cc+b9);delete ce.marks[ca]}}else{bD(b5,"Invalid argument: "+cd+"-");return}}else{delete ce.marks[cg]}}}};var Q=new R();function L(b6,b7,b9,cc,cb,cj,cf,ci,b5){b6.state.vim.exMode=true;var b8=false;var ca=cj.from();function ch(){b6.operation(function(){while(!b8){cg();cd()}ck()})}function cg(){var cm=b6.getRange(cj.from(),cj.to());var cl=cm.replace(cf,ci);cj.replace(cl)}function cd(){while(cj.findNext()&&aB(cj.from(),cc,cb)){if(!b9&&ca&&cj.from().line==ca.line){continue}b6.scrollIntoView(cj.from(),30);b6.setSelection(cj.from(),cj.to());ca=cj.from();b8=false;return}b8=true}function ck(cl){if(cl){cl()}b6.focus();if(ca){b6.setCursor(ca);var cm=b6.state.vim;cm.exMode=false;cm.lastHPos=cm.lastHSPos=ca.ch}if(b5){b5()}}function ce(cn,cl,cm){n.e_stop(cn);var co=n.keyName(cn);switch(co){case"Y":cg();cd();break;case"N":cd();break;case"A":var cp=b5;b5=undefined;b6.operation(ch);b5=cp;break;case"L":cg();case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":ck(cm);break}if(b8){ck(cm)}return true}cd();if(b8){bD(b6,"No matches for "+cf.source);return}if(!b7){ch();if(b5){b5()}return}bE(b6,{prefix:"replace with <strong>"+ci+"</strong> (y/n/a/q/l)",onKeyDown:ce})}n.keyMap.vim={attach:c,detach:I,call:l};function U(b6){var ce=b6.state.vim;var cb=b3.macroModeState;var b8=b3.registerController.getRegister(".");var b9=cb.isPlaying;var ca=cb.lastInsertModeChanges;var cd=[];if(!b9){var cc=ca.inVisualBlock?ce.lastSelection.visualBlock.height:1;var b5=ca.changes;var cd=[];var b7=0;while(b7<b5.length){cd.push(b5[b7]);if(b5[b7] instanceof aA){b7++}else{b7+=cc}}ca.changes=cd;b6.off("change",ba);n.off(b6.getInputField(),"keydown",bc)}if(!b9&&ce.insertModeRepeat>1){br(b6,ce,ce.insertModeRepeat-1,true);ce.lastEditInputState.repeatOverride=ce.insertModeRepeat}delete ce.insertModeRepeat;ce.insertMode=false;b6.setCursor(b6.getCursor().line,b6.getCursor().ch-1);b6.setOption("keyMap","vim");b6.setOption("disableInput",true);ca.overwrite=b6.state.overwrite;b6.toggleOverwrite(false);b8.setText(ca.changes.join(""));n.signal(b6,"vim-mode-change",{mode:"normal"});if(cb.isRecording){aO(cb)}}function a(b5){B.unshift(b5)}function aX(b9,cb,ca,b5,b7){var b6={keys:b9,type:cb};b6[cb]=ca;b6[cb+"Args"]=b5;for(var b8 in b7){b6[b8]=b7[b8]}a(b6)}F("insertModeEscKeysTimeout",200,"number");n.keyMap["vim-insert"]={"Ctrl-N":"autocomplete","Ctrl-P":"autocomplete",Enter:function(b5){var b6=n.commands.newlineAndIndentContinueComment||n.commands.newlineAndIndent;b6(b5)},fallthrough:["default"],attach:c,detach:I,call:l};n.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"],attach:c,detach:I,call:l};function T(b6,cg,cb,ce){var cd=b3.registerController.getRegister(ce);if(ce==":"){if(cd.keyBuffer[0]){Q.processCommand(b6,cd.keyBuffer[0])}cb.isPlaying=false;return}var ca=cd.keyBuffer;var b8=0;cb.isPlaying=true;cb.replaySearchQueries=cd.searchQueries.slice(0);for(var b7=0;b7<ca.length;b7++){var cf=ca[b7];var cc,b9;while(cf){cc=(/<\w+-.+?>|<\w+>|./).exec(cf);b9=cc[0];cf=cf.substring(cc.index+b9.length);n.Vim.handleKey(b6,b9,"macro");if(cg.insertMode){var b5=cd.insertModeChanges[b8++].changes;b3.macroModeState.lastInsertModeChanges.changes=b5;bq(b6,b5,1);U(b6)}}}cb.isPlaying=false}function aP(b6,b5){if(b6.isPlaying){return}var b8=b6.latestRegister;var b7=b3.registerController.getRegister(b8);if(b7){b7.pushText(b5)}}function aO(b5){if(b5.isPlaying){return}var b7=b5.latestRegister;var b6=b3.registerController.getRegister(b7);if(b6&&b6.pushInsertModeChanges){b6.pushInsertModeChanges(b5.lastInsertModeChanges)}}function aQ(b5,b6){if(b5.isPlaying){return}var b8=b5.latestRegister;var b7=b3.registerController.getRegister(b8);if(b7&&b7.pushSearchQuery){b7.pushSearchQuery(b6)}}function ba(b5,b6){var b8=b3.macroModeState;var b7=b8.lastInsertModeChanges;if(!b8.isPlaying){while(b6){b7.expectCursorActivityForChange=true;if(b6.origin=="+input"||b6.origin=="paste"||b6.origin===undefined){var b9=b6.text.join("\n");if(b7.maybeReset){b7.changes=[];b7.maybeReset=false}b7.changes.push(b9)}b6=b6.next}}}function bb(b5){var b8=b5.state.vim;if(b8.insertMode){var b7=b3.macroModeState;if(b7.isPlaying){return}var b6=b7.lastInsertModeChanges;if(b6.expectCursorActivityForChange){b6.expectCursorActivityForChange=false}else{b6.maybeReset=true}}else{if(!b5.curOp.isVimOp){au(b5,b8)}}if(b8.visualMode){bT(b5)}}function bT(b5){var b8=b5.state.vim;var b6=i(b5,s(b8.sel.head));var b7=a9(b6,0,1);if(b8.fakeCursor){b8.fakeCursor.clear()}b8.fakeCursor=b5.markText(b6,b7,{className:"cm-animate-fat-cursor"})}function au(b7,ca){var b5=b7.getCursor("anchor");var b8=b7.getCursor("head");if(ca.visualMode&&!b7.somethingSelected()){V(b7,false)}else{if(!ca.visualMode&&!ca.insertMode&&b7.somethingSelected()){ca.visualMode=true;ca.visualLine=false;n.signal(b7,"vim-mode-change",{mode:"visual"})}}if(ca.visualMode){var b9=!w(b8,b5)?-1:0;var b6=w(b8,b5)?-1:0;b8=a9(b8,0,b9);b5=a9(b5,0,b6);ca.sel={anchor:b5,head:b8};bV(b7,ca,"<",z(b8,b5));bV(b7,ca,">",y(b8,b5))}else{if(!ca.insertMode){ca.lastHPos=b7.getCursor().ch}}}function aA(b5){this.keyName=b5}function bc(b5){var b8=b3.macroModeState;var b7=b8.lastInsertModeChanges;var b6=n.keyName(b5);if(!b6){return}function b9(){if(b7.maybeReset){b7.changes=[];b7.maybeReset=false}b7.changes.push(new aA(b6));return true}if(b6.indexOf("Delete")!=-1||b6.indexOf("Backspace")!=-1){n.lookupKey(b6,"vim-insert",b9)}}function br(b6,ce,ca,cc){var b9=b3.macroModeState;b9.isPlaying=true;var b8=!!ce.lastEditActionCommand;var b5=ce.inputState;function cb(){if(b8){o.processAction(b6,ce,ce.lastEditActionCommand)}else{o.evalInput(b6,ce)}}function cd(cg){if(b9.lastInsertModeChanges.changes.length>0){cg=!ce.lastEditActionCommand?1:cg;var cf=b9.lastInsertModeChanges;bq(b6,cf.changes,cg,cf.overwrite)}}ce.inputState=ce.lastEditInputState;if(b8&&ce.lastEditActionCommand.interlaceInsertRepeat){for(var b7=0;b7<ca;b7++){cb();cd(1)}}else{if(!cc){cb()}cd(ca)}ce.inputState=b5;if(ce.insertMode&&!cc){U(b6)}b9.isPlaying=false}function bq(b7,b6,ci,ch){function ce(ck){if(typeof ck=="string"){n.commands[ck](b7)}else{ck(b7)}return true}var ca=b7.getCursor("head");var cc=b3.macroModeState.lastInsertModeChanges.inVisualBlock;if(cc){var cj=b7.state.vim;var cf=cj.lastSelection;var cg=am(cf.anchor,cf.head);bB(b7,ca,cg.line+1);ci=b7.listSelections().length;b7.setCursor(ca)}for(var cb=0;cb<ci;cb++){if(cc){b7.setCursor(a9(ca,cb,0))}for(var cd=0;cd<b6.length;cd++){var b5=b6[cd];if(b5 instanceof aA){n.lookupKey(b5.keyName,"vim-insert",ce)}else{var b8=b7.getCursor();var b9=b8;if(ch&&!/\n/.test(b5)){b9=a9(b8,0,b5.length)}b7.replaceRange(b5,b8,b9)}}}if(cc){b7.setCursor(a9(ca,0,1))}}bt();n.Vim=b1();b1=n.Vim;var bF={"return":"CR",backspace:"BS","delete":"Del",esc:"Esc",left:"Left",right:"Right",up:"Up",down:"Down",space:"Space",home:"Home",end:"End",pageup:"PageUp",pagedown:"PageDown",enter:"CR"};function aR(b6,b7,b5){if(b7.length>1&&b7[0]=="n"){b7=b7.replace("numpad","")}b7=bF[b7]||b7;var b8="";if(b5.ctrlKey){b8+="C-"}if(b5.altKey){b8+="A-"}if(b5.shiftKey){b8+="S-"}b8+=b7;if(b8.length>1){b8="<"+b8+">"}return b8}var av=b1.handleKey.bind(b1);b1.handleKey=function(b5,b6,b7){return b5.operation(function(){return av(b5,b6,b7)},true)};function k(b6){var b5=new b6.constructor();Object.keys(b6).forEach(function(b7){var b8=b6[b7];if(Array.isArray(b8)){b8=b8.slice()}else{if(b8&&typeof b8=="object"&&b8.constructor!=Object){b8=k(b8)}}b5[b7]=b8});if(b6.sel){b5.sel={head:b6.sel.head&&s(b6.sel.head),anchor:b6.sel.anchor&&s(b6.sel.anchor)}}return b5}function a6(b5,b7,b9){var b6=false;var ca=b1.maybeInitVimState_(b5);var cb=ca.visualBlock||ca.wasInVisualBlock;if(ca.wasInVisualBlock&&!b5.ace.inMultiSelectMode){ca.wasInVisualBlock=false}else{if(b5.ace.inMultiSelectMode&&ca.visualBlock){ca.wasInVisualBlock=true}}if(b7=="<Esc>"&&!ca.insertMode&&!ca.visualMode&&b5.ace.inMultiSelectMode){b5.ace.exitMultiSelectMode()}else{if(cb||!b5.ace.inMultiSelectMode||b5.ace.inVirtualSelectionMode){b6=b1.handleKey(b5,b7,b9)}else{var b8=k(ca);b5.operation(function(){b5.ace.forEachSelection(function(){var cg=b5.ace.selection;b5.state.vim.lastHPos=cg.$desiredColumn==null?cg.lead.column:cg.$desiredColumn;var ce=b5.getCursor("head");var cc=b5.getCursor("anchor");var cf=!w(ce,cc)?-1:0;var cd=w(ce,cc)?-1:0;ce=a9(ce,0,cf);cc=a9(cc,0,cd);b5.state.vim.sel.head=ce;b5.state.vim.sel.anchor=cc;b6=av(b5,b7,b9);cg.$desiredColumn=b5.state.vim.lastHPos==-1?null:b5.state.vim.lastHPos;if(b5.virtualSelectionMode()){b5.state.vim=k(b8)}});if(b5.curOp.cursorActivity&&!b6){b5.curOp.cursorActivity=false}},true)}}return b6}Z.CodeMirror=n;var at=b1.maybeInitVimState_;Z.handler={$id:"ace/keyboard/vim",drawCursor:function(cc,b9,b5,ca,cb){var ce=this.state.vim||{};var cf=b5.characterWidth;var b6=b5.lineHeight;var cd=b9.top;var b8=b9.left;if(!ce.insertMode){var b7=!ca.cursor?cb.selection.isBackwards()||cb.selection.isEmpty():bi.comparePoints(ca.cursor,ca.start)<=0;if(!b7&&b8>cf){b8-=cf}}if(!ce.insertMode&&ce.status){b6=b6/2;cd+=b6}cc.left=b8+"px";cc.top=cd+"px";cc.width=cf+"px";cc.height=b6+"px"},handleKeyboard:function(b6,b9,cc,cd,b7){var b8=b6.editor;var b5=b8.state.cm;var cf=at(b5);if(cd==-1){return}if(cc=="c"&&b9==1){if(!bY.isMac&&b8.getCopyText()){b8.once("copy",function(){b8.selection.clearSelection()});return{command:"null",passEvent:true}}}else{if(!cf.insertMode){if(bY.isMac&&this.handleMacRepeat(b6,b9,cc)){b9=-1;cc=b6.inputChar}}}if(b9==-1||b9&1||b9===0&&cc.length>1){var ca=cf.insertMode;var ce=aR(b9,cc,b7||{});if(cf.status==null){cf.status=""}var cb=a6(b5,ce,"user");cf=at(b5);if(cb&&cf.status!=null){cf.status+=ce}else{if(cf.status==null){cf.status=""}}b5._signal("changeStatus");if(!cb&&(b9!=-1||ca)){return}return{command:"null",passEvent:!cb}}},attach:function(b6){if(!b6.state){b6.state={}}var b5=new n(b6);b6.state.cm=b5;b6.$vimModeHandler=this;n.keyMap.vim.attach(b5);at(b5).status=null;b5.on("vim-command-done",function(){if(b5.virtualSelectionMode()){return}at(b5).status=null;b5.ace._signal("changeStatus");b5.ace.session.markUndoGroup()});b5.on("changeStatus",function(){b5.ace.renderer.updateCursor();b5.ace._signal("changeStatus")});b5.on("vim-mode-change",function(){if(b5.virtualSelectionMode()){return}b5.ace.renderer.setStyle("normal-mode",!at(b5).insertMode);b5._signal("changeStatus")});b5.ace.renderer.setStyle("normal-mode",!at(b5).insertMode);b6.renderer.$cursorLayer.drawCursor=this.drawCursor.bind(b5);this.updateMacCompositionHandlers(b6,true)},detach:function(b6){var b5=b6.state.cm;n.keyMap.vim.detach(b5);b5.destroy();b6.state.cm=null;b6.$vimModeHandler=null;b6.renderer.$cursorLayer.drawCursor=null;b6.renderer.setStyle("normal-mode",false);this.updateMacCompositionHandlers(b6,false)},getStatusText:function(b6){var b5=b6.state.cm;var b8=at(b5);if(b8.insertMode){return"INSERT"}var b7="";if(b8.visualMode){b7+="VISUAL";if(b8.visualLine){b7+=" LINE"}if(b8.visualBlock){b7+=" BLOCK"}}if(b8.status){b7+=(b7?" ":"")+b8.status}return b7},handleMacRepeat:function(b5,b6,b7){if(b6==-1){b5.inputChar=b7;b5.lastEvent="input"}else{if(b5.inputChar&&b5.$lastHash==b6&&b5.$lastKey==b7){if(b5.lastEvent=="input"){b5.lastEvent="input1"}else{if(b5.lastEvent=="input1"){return true}}}else{b5.$lastHash=b6;b5.$lastKey=b7;b5.lastEvent="keypress"}}},updateMacCompositionHandlers:function(b5,b6){var b8=function(cb){var b9=b5.state.cm;var cc=at(b9);if(!cc.insertMode){var ca=this.textInput.getElement();ca.blur();ca.focus();ca.value=cb}else{this.onCompositionUpdateOrig(cb)}};var b7=function(ca){var b9=b5.state.cm;var cb=at(b9);if(!cb.insertMode){this.onCompositionStartOrig(ca)}};if(b6){if(!b5.onCompositionUpdateOrig){b5.onCompositionUpdateOrig=b5.onCompositionUpdate;b5.onCompositionUpdate=b8;b5.onCompositionStartOrig=b5.onCompositionStart;b5.onCompositionStart=b7}}else{if(b5.onCompositionUpdateOrig){b5.onCompositionUpdate=b5.onCompositionUpdateOrig;b5.onCompositionUpdateOrig=null;b5.onCompositionStart=b5.onCompositionStartOrig;b5.onCompositionStartOrig=null}}}};var bo={getText:function(b6,b5){return(Math.abs(b6.selection.lead.row-b5)||(b5+1+(b5<9?"\xb7":"")))+""},getWidth:function(b7,b6,b5){return b7.getLength().toString().length*b5.characterWidth},update:function(b5,b6){b6.renderer.$loop.schedule(b6.renderer.CHANGE_GUTTER)},attach:function(b5){b5.renderer.$gutterLayer.$renderer=this;b5.on("changeSelection",this.update)},detach:function(b5){b5.renderer.$gutterLayer.$renderer=null;b5.off("changeSelection",this.update)}};b1.defineOption({name:"wrap",set:function(b6,b5){if(b5){b5.ace.setOption("wrap",b6)}},type:"boolean"},false);b1.defineEx("write","w",function(){console.log(":write is not implemented")});B.push({keys:"zc",type:"action",action:"fold",actionArgs:{open:false}},{keys:"zC",type:"action",action:"fold",actionArgs:{open:false,all:true}},{keys:"zo",type:"action",action:"fold",actionArgs:{open:true}},{keys:"zO",type:"action",action:"fold",actionArgs:{open:true,all:true}},{keys:"za",type:"action",action:"fold",actionArgs:{toggle:true}},{keys:"zA",type:"action",action:"fold",actionArgs:{toggle:true,all:true}},{keys:"zf",type:"action",action:"fold",actionArgs:{open:true,all:true}},{keys:"zd",type:"action",action:"fold",actionArgs:{open:true,all:true}},{keys:"<C-A-k>",type:"action",action:"aceCommand",actionArgs:{name:"addCursorAbove"}},{keys:"<C-A-j>",type:"action",action:"aceCommand",actionArgs:{name:"addCursorBelow"}},{keys:"<C-A-S-k>",type:"action",action:"aceCommand",actionArgs:{name:"addCursorAboveSkipCurrent"}},{keys:"<C-A-S-j>",type:"action",action:"aceCommand",actionArgs:{name:"addCursorBelowSkipCurrent"}},{keys:"<C-A-h>",type:"action",action:"aceCommand",actionArgs:{name:"selectMoreBefore"}},{keys:"<C-A-l>",type:"action",action:"aceCommand",actionArgs:{name:"selectMoreAfter"}},{keys:"<C-A-S-h>",type:"action",action:"aceCommand",actionArgs:{name:"selectNextBefore"}},{keys:"<C-A-S-l>",type:"action",action:"aceCommand",actionArgs:{name:"selectNextAfter"}});b.aceCommand=function(b6,b5,b7){b6.vimCmd=b5;if(b6.ace.inVirtualSelectionMode){b6.ace.on("beforeEndOperation",H)}else{H(null,b6.ace)}};function H(b7,b5){b5.off("beforeEndOperation",H);var b6=b5.state.cm.vimCmd;if(b6){b5.execCommand(b6.exec?b6:b6.name,b6.args)}b5.curOp=b5.prevOp}b.fold=function(b6,b5,b7){b6.ace.execCommand(["toggleFoldWidget","toggleFoldWidget","foldOther","unfoldall"][(b5.all?2:0)+(b5.open?1:0)])};Z.handler.defaultKeymap=B;Z.handler.actions=b;Z.Vim=b1;b1.map("Y","yy","normal")});