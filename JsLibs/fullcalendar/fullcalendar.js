/*
 * FullCalendar v1.6.1
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 */
(function(a,ay){var E={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,weekNumbers:false,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"};var aj={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}};var J=a.fullCalendar={version:"1.6.1"};var K=J.views={};a.fn.fullCalendar=function(aI){if(typeof aI=="string"){var aG=Array.prototype.slice.call(arguments,1);var aJ;this.each(function(){var aK=a.data(this,"fullCalendar");if(aK&&a.isFunction(aK[aI])){var aL=aK[aI].apply(aK,aG);if(aJ===ay){aJ=aL}if(aI=="destroy"){a.removeData(this,"fullCalendar")}}});if(aJ!==ay){return aJ}return this}var aH=aI.eventSources||[];delete aI.eventSources;if(aI.events){aH.push(aI.events);delete aI.events}aI=a.extend(true,{},E,(aI.isRTL||aI.isRTL===ay&&E.isRTL)?aj:{},aI);this.each(function(aN,aK){var aM=a(aK);var aL=new s(aM,aI,aH);aM.data("fullCalendar",aL);aL.render()});return this};function ao(aG){a.extend(true,E,aG)}function s(aQ,bb,aU){var bo=this;bo.options=bb;bo.render=bf;bo.destroy=aP;bo.refetchEvents=be;bo.reportEvents=bi;bo.reportEventChange=bh;bo.rerenderEvents=bj;bo.changeView=aL;bo.select=bl;bo.unselect=bs;bo.prev=bc;bo.next=a8;bo.prevYear=bd;bo.nextYear=a9;bo.today=bq;bo.gotoDate=aY;bo.incrementDate=a2;bo.formatDate=function(by,bx){return N(by,bx,bb)};bo.formatDates=function(bz,bx,by){return O(bz,bx,by,bb)};bo.getDate=aW;bo.getView=aX;bo.option=ba;bo.trigger=br;H.call(bo,bb,aU);var a4=bo.isFetchNeeded;var aV=bo.fetchEvents;var aH=aQ[0];var aZ;var a0;var aM;var bp;var aN;var bv={};var aR;var bn;var aI;var bk=0;var a1=0;var aO=new Date();var aT=[];var aG;at(aO,bb.year,bb.month,bb.date);function bf(bx){if(!aM){a3()}else{aK();a7();a6();bg(bx)}}function a3(){bp=bb.theme?"ui":"fc";aQ.addClass("fc");if(bb.isRTL){aQ.addClass("fc-rtl")}else{aQ.addClass("fc-ltr")}if(bb.theme){aQ.addClass("ui-widget")}aM=a("<div class='fc-content' style='position:relative'/>").prependTo(aQ);aZ=new R(bo,bb);a0=aZ.render();if(a0){aQ.prepend(a0)}aL(bb.defaultView);a(window).resize(bw);if(!aJ()){a5()}}function a5(){setTimeout(function(){if(!aN.start&&aJ()){bg()}},0)}function aP(){a(window).unbind("resize",bw);aZ.destroy();aM.remove();aQ.removeClass("fc fc-rtl ui-widget")}function aS(){return aH.offsetWidth!==0}function aJ(){return a("body")[0].offsetWidth!==0}function aL(by){if(!aN||by!=aN.name){a1++;bs();var bz=aN;var bx;if(bz){(bz.beforeHide||ae)();ap(aM,aM.height());bz.element.hide()}else{ap(aM,1)}aM.css("overflow","hidden");aN=bv[by];if(aN){aN.element.show()}else{aN=bv[by]=new K[by](bx=aI=a("<div class='fc-view fc-view-"+by+"' style='position:absolute'/>").appendTo(aM),bo)}if(bz){aZ.deactivateButton(bz.name)}aZ.activateButton(by);bg();aM.css("overflow","");if(bz){ap(aM,1)}if(!bx){(aN.afterShow||ae)()}a1--}}function bg(by){if(aS()){a1++;bs();if(bn===ay){aK()}var bx=false;if(!aN.start||by||aO<aN.start||aO>=aN.end){aN.render(aO,by||0);bm(true);bx=true}else{if(aN.sizeDirty){aN.clearEvents();bm();bx=true}else{if(aN.eventsDirty){aN.clearEvents();bx=true}}}aN.sizeDirty=false;aN.eventsDirty=false;bt(bx);aR=aQ.outerWidth();aZ.updateTitle(aN.title);var bz=new Date();if(bz>=aN.start&&bz<aN.end){aZ.disableButton("today")}else{aZ.enableButton("today")}a1--;aN.trigger("viewDisplay",aH)}}function bu(){a7();if(aS()){aK();bm();bs();aN.clearEvents();aN.renderEvents(aT);aN.sizeDirty=false}}function a7(){a.each(bv,function(bx,by){by.sizeDirty=true})}function aK(){if(bb.contentHeight){bn=bb.contentHeight}else{if(bb.height){bn=bb.height-(a0?a0.height():0)-aD(aM)}else{bn=Math.round(aM.width()/Math.max(bb.aspectRatio,0.5))}}}function bm(bx){a1++;aN.setHeight(bn,bx);if(aI){aI.css("position","relative");aI=null}aN.setWidth(aM.width(),bx);a1--}function bw(){if(!a1){if(aN.start){var bx=++bk;setTimeout(function(){if(bx==bk&&!a1&&aS()){if(aR!=(aR=aQ.outerWidth())){a1++;bu();aN.trigger("windowResize",aH);a1--}}},200)}else{a5()}}}function bt(bx){if(!bb.lazyFetching||a4(aN.visStart,aN.visEnd)){be()}else{if(bx){bj()}}}function be(){aV(aN.visStart,aN.visEnd)}function bi(bx){aT=bx;bj()}function bh(bx){bj(bx)}function bj(bx){a6();if(aS()){aN.clearEvents();aN.renderEvents(aT,bx);aN.eventsDirty=false}}function a6(){a.each(bv,function(bx,by){by.eventsDirty=true})}function bl(bz,by,bx){aN.select(bz,by,bx===ay?true:bx)}function bs(){if(aN){aN.unselect()}}function bc(){bg(-1)}function a8(){bg(1)}function bd(){g(aO,-1);bg()}function a9(){g(aO,1);bg()}function bq(){aO=new Date();bg()}function aY(bz,by,bx){if(bz instanceof Date){aO=u(bz)}else{at(aO,bz,by,bx)}bg()}function a2(bz,by,bx){if(bz!==ay){g(aO,bz)}if(by!==ay){f(aO,by)}if(bx!==ay){d(aO,bx)}bg()}function aW(){return u(aO)}function aX(){return aN}function ba(bx,by){if(by===ay){return bb[bx]}if(bx=="height"||bx=="contentHeight"||bx=="aspectRatio"){bb[bx]=by;bu()}}function br(bx,by){if(bb[bx]){return bb[bx].apply(by||aH,Array.prototype.slice.call(arguments,2))}}if(bb.droppable){a(document).bind("dragstart",function(bA,bB){var bx=bA.target;var bz=a(bx);if(!bz.parents(".fc").length){var by=bb.dropAccept;if(a.isFunction(by)?by.call(bx,bz):bz.is(by)){aG=bx;aN.dragStart(aG,bA,bB)}}}).bind("dragstop",function(bx,by){if(aG){aN.dragStop(aG,bx,by);aG=null}})}}function R(aH,aN){var aQ=this;aQ.render=aO;aQ.destroy=aJ;aQ.updateTitle=aS;aQ.activateButton=aG;aQ.deactivateButton=aI;aQ.disableButton=aK;aQ.enableButton=aM;var aL=a([]);var aR;function aO(){aR=aN.theme?"ui":"fc";var aT=aN.header;if(aT){aL=a("<table class='fc-header' style='width:100%'/>").append(a("<tr/>").append(aP("left")).append(aP("center")).append(aP("right")));return aL}}function aJ(){aL.remove()}function aP(aV){var aU=a("<td class='fc-header-"+aV+"'/>");var aT=aN.header[aV];if(aT){a.each(aT.split(" "),function(aW){if(aW>0){aU.append("<span class='fc-header-space'/>")}var aX;a.each(this.split(","),function(a2,a0){if(a0=="title"){aU.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");if(aX){aX.addClass(aR+"-corner-right")}aX=null}else{var aZ;if(aH[a0]){aZ=aH[a0]}else{if(K[a0]){aZ=function(){aY.removeClass(aR+"-state-hover");aH.changeView(a0)}}}if(aZ){var a1=aN.theme?aw(aN.buttonIcons,a0):null;var a3=aw(aN.buttonText,a0);var aY=a("<span class='fc-button fc-button-"+a0+" "+aR+"-state-default'>"+(a1?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+a1+"'/></span>":a3)+"</span>").click(function(){if(!aY.hasClass(aR+"-state-disabled")){aZ()}}).mousedown(function(){aY.not("."+aR+"-state-active").not("."+aR+"-state-disabled").addClass(aR+"-state-down")}).mouseup(function(){aY.removeClass(aR+"-state-down")}).hover(function(){aY.not("."+aR+"-state-active").not("."+aR+"-state-disabled").addClass(aR+"-state-hover")},function(){aY.removeClass(aR+"-state-hover").removeClass(aR+"-state-down")}).appendTo(aU);F(aY);if(!aX){aY.addClass(aR+"-corner-left")}aX=aY}}});if(aX){aX.addClass(aR+"-corner-right")}})}return aU}function aS(aT){aL.find("h2").html(aT)}function aG(aT){aL.find("span.fc-button-"+aT).addClass(aR+"-state-active")}function aI(aT){aL.find("span.fc-button-"+aT).removeClass(aR+"-state-active")}function aK(aT){aL.find("span.fc-button-"+aT).addClass(aR+"-state-disabled")}function aM(aT){aL.find("span.fc-button-"+aT).removeClass(aR+"-state-disabled")}}J.sourceNormalizers=[];J.sourceFetchers=[];var l={dataType:"json",cache:false};var G=1;function H(aX,aI){var a9=this;a9.isFetchNeeded=aS;a9.fetchEvents=aN;a9.addEventSource=aJ;a9.removeEventSource=a4;a9.updateEvent=bb;a9.renderEvent=a5;a9.removeEvents=a3;a9.clientEvents=aL;a9.normalizeEvent=aV;var ba=a9.trigger;var aQ=a9.getView;var a6=a9.reportEvents;var a8={events:[]};var a7=[a8];var a2,a1;var aM=0;var aY=0;var aU=0;var aK=[];for(var aR=0;aR<aI.length;aR++){aG(aI[aR])}function aS(bd,bc){return !a2||bd<a2||bc>a1}function aN(bg,bc){a2=bg;a1=bc;aK=[];var bd=++aM;var bf=a7.length;aY=bf;for(var be=0;be<bf;be++){aO(a7[be],bd)}}function aO(bd,bc){aH(bd,function(be){if(bc==aM){if(be){if(aX.eventDataTransform){be=a.map(be,aX.eventDataTransform)}if(bd.eventDataTransform){be=a.map(be,bd.eventDataTransform)}for(var bf=0;bf<be.length;bf++){be[bf].source=bd;aV(be[bf])}aK=aK.concat(be)}aY--;if(!aY){a6(aK)}}})}function aH(bl,bc){var bj;var bi=J.sourceFetchers;var bk;for(bj=0;bj<bi.length;bj++){bk=bi[bj](bl,a2,a1,bc);if(bk===true){return}else{if(typeof bk=="object"){aH(bk,bc);return}}}var bh=bl.events;if(bh){if(a.isFunction(bh)){a0();bh(u(a2),u(a1),function(bp){bc(bp);aZ()})}else{if(a.isArray(bh)){bc(bh)}else{bc()}}}else{var bo=bl.url;if(bo){var bn=bl.success;var bg=bl.error;var bd=bl.complete;var be=a.extend({},bl.data||{});var bm=L(bl.startParam,aX.startParam);var bf=L(bl.endParam,aX.endParam);if(bm){be[bm]=Math.round(+a2/1000)}if(bf){be[bf]=Math.round(+a1/1000)}a0();a.ajax(a.extend({},l,bl,{data:be,success:function(bp){bp=bp||[];var bq=m(bn,this,arguments);if(a.isArray(bq)){bp=bq}bc(bp)},error:function(){m(bg,this,arguments);bc()},complete:function(){m(bd,this,arguments);aZ()}}))}else{bc()}}}function aJ(bc){bc=aG(bc);if(bc){aY++;aO(bc,aM)}}function aG(bc){if(a.isFunction(bc)||a.isArray(bc)){bc={events:bc}}else{if(typeof bc=="string"){bc={url:bc}}}if(typeof bc=="object"){aW(bc);a7.push(bc);return bc}}function a4(bc){a7=a.grep(a7,function(bd){return !aT(bd,bc)});aK=a.grep(aK,function(bd){return !aT(bd.source,bc)});a6(aK)}function bb(bf){var bg,bh=aK.length,bd,bc=aQ().defaultEventEnd,bi=bf.start-bf._start,be=bf.end?(bf.end-(bf._end||bc(bf))):0;for(bg=0;bg<bh;bg++){bd=aK[bg];if(bd._id==bf._id&&bd!=bf){bd.start=new Date(+bd.start+bi);if(bf.end){if(bd.end){bd.end=new Date(+bd.end+be)}else{bd.end=new Date(+bc(bd)+be)}}else{bd.end=null}bd.title=bf.title;bd.url=bf.url;bd.allDay=bf.allDay;bd.className=bf.className;bd.editable=bf.editable;bd.color=bf.color;bd.backgroudColor=bf.backgroudColor;bd.borderColor=bf.borderColor;bd.textColor=bf.textColor;aV(bd)}}aV(bf);a6(aK)}function a5(bc,bd){aV(bc);if(!bc.source){if(bd){a8.events.push(bc);bc.source=a8}aK.push(bc)}a6(aK)}function a3(bc){if(!bc){aK=[];for(var bd=0;bd<a7.length;bd++){if(a.isArray(a7[bd].events)){a7[bd].events=[]}}}else{if(!a.isFunction(bc)){var be=bc+"";bc=function(bf){return bf._id==be}}aK=a.grep(aK,bc,true);for(var bd=0;bd<a7.length;bd++){if(a.isArray(a7[bd].events)){a7[bd].events=a.grep(a7[bd].events,bc,true)}}}a6(aK)}function aL(bc){if(a.isFunction(bc)){return a.grep(aK,bc)}else{if(bc){bc+="";return a.grep(aK,function(bd){return bd._id==bc})}}return aK}function a0(){if(!aU++){ba("loading",null,true)}}function aZ(){if(!--aU){ba("loading",null,false)}}function aV(bc){var be=bc.source||{};var bd=L(be.ignoreTimezone,aX.ignoreTimezone);bc._id=bc._id||(bc.id===ay?"_fc"+G++:bc.id+"");if(bc.date){if(!bc.start){bc.start=bc.date}delete bc.date}bc._start=u(bc.start=ag(bc.start,bd));bc.end=ag(bc.end,bd);if(bc.end&&bc.end<=bc.start){bc.end=null}bc._end=bc.end?u(bc.end):null;if(bc.allDay===ay){bc.allDay=L(be.allDayDefault,aX.allDayDefault)}if(bc.className){if(typeof bc.className=="string"){bc.className=bc.className.split(/\s+/)}}else{bc.className=[]}}function aW(be){if(be.className){if(typeof be.className=="string"){be.className=be.className.split(/\s+/)}}else{be.className=[]}var bd=J.sourceNormalizers;for(var bc=0;bc<bd.length;bc++){bd[bc](be)}}function aT(bc,bd){return bc&&bd&&aP(bc)==aP(bd)}function aP(bc){return((typeof bc=="object")?(bc.events||bc.url):"")||bc}}J.addDays=d;J.cloneDate=u;J.parseDate=ag;J.parseISO8601=ah;J.parseTime=ai;J.formatDate=N;J.formatDates=O;var D=["sun","mon","tue","wed","thu","fri","sat"],A=86400000,U=3600000,ac=60000;function g(aG,aI,aH){aG.setFullYear(aG.getFullYear()+aI);if(!aH){t(aG)}return aG}function f(aH,aK,aI){if(+aH){var aJ=aH.getMonth()+aK,aG=u(aH);aG.setDate(1);aG.setMonth(aJ);aH.setMonth(aJ);if(!aI){t(aH)}while(aH.getMonth()!=aG.getMonth()){aH.setDate(aH.getDate()+(aH<aG?1:-1))}}return aH}function d(aH,aK,aJ){if(+aH){var aI=aH.getDate()+aK,aG=u(aH);aG.setHours(9);aG.setDate(aI);aH.setDate(aI);if(!aJ){t(aH)}M(aH,aG)}return aH}function M(aH,aG){if(+aH){while(aH.getDate()!=aG.getDate()){aH.setTime(+aH+(aH<aG?1:-1)*U)}}}function e(aG,aH){aG.setMinutes(aG.getMinutes()+aH);return aG}function t(aG){aG.setHours(0);aG.setMinutes(0);aG.setSeconds(0);aG.setMilliseconds(0);return aG}function u(aG,aH){if(aH){return t(new Date(+aG))}return new Date(+aG)}function aE(){var aH=0,aG;do{aG=new Date(1970,aH++,1)}while(aG.getHours());return aG}function au(aG,aI,aH){aI=aI||1;while(!aG.getDay()||(aH&&aG.getDay()==1||!aH&&aG.getDay()==6)){d(aG,aI)}return aG}function B(aG,aH){return Math.round((u(aG,true)-u(aH,true))/A)}function at(aH,aJ,aI,aG){if(aJ!==ay&&aJ!=aH.getFullYear()){aH.setDate(1);aH.setMonth(0);aH.setFullYear(aJ)}if(aI!==ay&&aI!=aH.getMonth()){aH.setDate(1);aH.setMonth(aI)}if(aG!==ay){aH.setDate(aG)}}function ag(aH,aG){if(typeof aH=="object"){return aH}if(typeof aH=="number"){return new Date(aH*1000)}if(typeof aH=="string"){if(aH.match(/^\d+(\.\d+)?$/)){return new Date(parseFloat(aH)*1000)}if(aG===ay){aG=true}return ah(aH,aG)||(aH?new Date(aH):null)}return null}function ah(aL,aI){var aJ=aL.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!aJ){return null}var aH=new Date(aJ[1],0,1);if(aI||!aJ[13]){var aG=new Date(aJ[1],0,1,9,0);if(aJ[3]){aH.setMonth(aJ[3]-1);aG.setMonth(aJ[3]-1)}if(aJ[5]){aH.setDate(aJ[5]);aG.setDate(aJ[5])}M(aH,aG);if(aJ[7]){aH.setHours(aJ[7])}if(aJ[8]){aH.setMinutes(aJ[8])}if(aJ[10]){aH.setSeconds(aJ[10])}if(aJ[12]){aH.setMilliseconds(Number("0."+aJ[12])*1000)}M(aH,aG)}else{aH.setUTCFullYear(aJ[1],aJ[3]?aJ[3]-1:0,aJ[5]||1);aH.setUTCHours(aJ[7]||0,aJ[8]||0,aJ[10]||0,aJ[12]?Number("0."+aJ[12])*1000:0);if(aJ[14]){var aK=Number(aJ[16])*60+(aJ[18]?Number(aJ[18]):0);aK*=aJ[15]=="-"?1:-1;aH=new Date(+aH+(aK*60*1000))}}return aH}function ai(aI){if(typeof aI=="number"){return aI*60}if(typeof aI=="object"){return aI.getHours()*60+aI.getMinutes()}var aH=aI.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(aH){var aG=parseInt(aH[1],10);if(aH[3]){aG%=12;if(aH[3].toLowerCase().charAt(0)=="p"){aG+=12}}return aG*60+(aH[2]?parseInt(aH[2],10):0)}}function N(aG,aH,aI){return O(aG,null,aH,aI)}function O(aI,aJ,aK,aP){aP=aP||E;var aH=aI,aQ=aJ,aM,aO=aK.length,aG,aN,aL,aR="";for(aM=0;aM<aO;aM++){aG=aK.charAt(aM);if(aG=="'"){for(aN=aM+1;aN<aO;aN++){if(aK.charAt(aN)=="'"){if(aH){if(aN==aM+1){aR+="'"}else{aR+=aK.substring(aM+1,aN)}aM=aN}break}}}else{if(aG=="("){for(aN=aM+1;aN<aO;aN++){if(aK.charAt(aN)==")"){var aT=N(aH,aK.substring(aM+1,aN),aP);if(parseInt(aT.replace(/\D/,""),10)){aR+=aT}aM=aN;break}}}else{if(aG=="["){for(aN=aM+1;aN<aO;aN++){if(aK.charAt(aN)=="]"){var aS=aK.substring(aM+1,aN);var aT=N(aH,aS,aP);if(aT!=N(aQ,aS,aP)){aR+=aT}aM=aN;break}}}else{if(aG=="{"){aH=aJ;aQ=aI}else{if(aG=="}"){aH=aI;aQ=aJ}else{for(aN=aO;aN>aM;aN--){if(aL=z[aK.substring(aM,aN)]){if(aH){aR+=aL(aH,aP)}aM=aN-1;break}}if(aN==aM){if(aH){aR+=aG}}}}}}}}return aR}var z={s:function(aG){return aG.getSeconds()},ss:function(aG){return aF(aG.getSeconds())},m:function(aG){return aG.getMinutes()},mm:function(aG){return aF(aG.getMinutes())},h:function(aG){return aG.getHours()%12||12},hh:function(aG){return aF(aG.getHours()%12||12)},H:function(aG){return aG.getHours()},HH:function(aG){return aF(aG.getHours())},d:function(aG){return aG.getDate()},dd:function(aG){return aF(aG.getDate())},ddd:function(aG,aH){return aH.dayNamesShort[aG.getDay()]},dddd:function(aG,aH){return aH.dayNames[aG.getDay()]},M:function(aG){return aG.getMonth()+1},MM:function(aG){return aF(aG.getMonth()+1)},MMM:function(aG,aH){return aH.monthNamesShort[aG.getMonth()]},MMMM:function(aG,aH){return aH.monthNames[aG.getMonth()]},yy:function(aG){return(aG.getFullYear()+"").substring(2)},yyyy:function(aG){return aG.getFullYear()},t:function(aG){return aG.getHours()<12?"a":"p"},tt:function(aG){return aG.getHours()<12?"am":"pm"},T:function(aG){return aG.getHours()<12?"A":"P"},TT:function(aG){return aG.getHours()<12?"AM":"PM"},u:function(aG){return N(aG,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(aG){var aH=aG.getDate();if(aH>10&&aH<20){return"th"}return["st","nd","rd"][aH%10-1]||"th"},w:function(aG,aH){return aH.weekNumberCalculation(aG)},W:function(aG){return Z(aG)}};J.dateFormatters=z;function Z(aH){var aI;var aG=new Date(aH.getTime());aG.setDate(aG.getDate()+4-(aG.getDay()||7));aI=aG.getTime();aG.setMonth(0);aG.setDate(1);return Math.floor(Math.round((aI-aG)/86400000)/7)+1}J.applyAll=m;function I(aG){if(aG.end){return b(aG.end,aG.allDay)}else{return d(u(aG.start),1)}}function b(aH,aG){aH=u(aH);return aG||aH.getHours()||aH.getMinutes()?d(aH,1):t(aH)}function ak(aG,aH){return(aH.msLength-aG.msLength)*100+(aG.event.start-aH.event.start)}function al(aG,aH){return aG.end>aH.start&&aG.start<aH.end}function av(aJ,aT,aS,aG){var aQ=[],aL,aO=aJ.length,aH,aK,aI,aR,aP,aN,aM;for(aL=0;aL<aO;aL++){aH=aJ[aL];aK=aH.start;aI=aT[aL];if(aI>aS&&aK<aG){if(aK<aS){aR=u(aS);aN=false}else{aR=aK;aN=true}if(aI>aG){aP=u(aG);aM=false}else{aP=aI;aM=true}aQ.push({event:aH,start:aR,end:aP,isStart:aN,isEnd:aM,msLength:aP-aR})}}return aQ.sort(ak)}function ax(aN){var aL=[],aH,aK=aN.length,aM,aI,aG,aJ;for(aH=0;aH<aK;aH++){aM=aN[aH];aI=0;while(true){aG=false;if(aL[aI]){for(aJ=0;aJ<aL[aI].length;aJ++){if(al(aL[aI][aJ],aM)){aG=true;break}}}if(aG){aI++}else{break}}if(aL[aI]){aL[aI].push(aM)}else{aL[aI]=[aM]}}return aL}function aa(aH,aI,aG){aH.unbind("mouseover").mouseover(function(aK){var aM=aK.target,aJ,aL,aN;while(aM!=this){aJ=aM;aM=aM.parentNode}if((aL=aJ._fci)!==ay){aJ._fci=ay;aN=aI[aL];aG(aN.event,aN.element,aN);a(aK.target).trigger(aK)}aK.stopPropagation()})}function ar(aH,aK,aJ){for(var aI=0,aG;aI<aH.length;aI++){aG=a(aH[aI]);aG.width(Math.max(0,aK-X(aG,aJ)))}}function aq(aH,aI,aK){for(var aJ=0,aG;aJ<aH.length;aJ++){aG=a(aH[aJ]);aG.height(Math.max(0,aI-aD(aG,aK)))}}function X(aG,aH){return W(aG)+Q(aG)+(aH?S(aG):0)}function W(aG){return(parseFloat(a.css(aG[0],"paddingLeft",true))||0)+(parseFloat(a.css(aG[0],"paddingRight",true))||0)}function S(aG){return(parseFloat(a.css(aG[0],"marginLeft",true))||0)+(parseFloat(a.css(aG[0],"marginRight",true))||0)}function Q(aG){return(parseFloat(a.css(aG[0],"borderLeftWidth",true))||0)+(parseFloat(a.css(aG[0],"borderRightWidth",true))||0)}function aD(aG,aH){return aC(aG)+az(aG)+(aH?aB(aG):0)}function aC(aG){return(parseFloat(a.css(aG[0],"paddingTop",true))||0)+(parseFloat(a.css(aG[0],"paddingBottom",true))||0)}function aB(aG){return(parseFloat(a.css(aG[0],"marginTop",true))||0)+(parseFloat(a.css(aG[0],"marginBottom",true))||0)}function az(aG){return(parseFloat(a.css(aG[0],"borderTopWidth",true))||0)+(parseFloat(a.css(aG[0],"borderBottomWidth",true))||0)}function ap(aG,aH){aH=(typeof aH=="number"?aH+"px":aH);aG.each(function(aJ,aI){aI.style.cssText+=";min-height:"+aH+";_height:"+aH})}function ae(){}function v(aG,aH){return aG-aH}function n(aG){return Math.max.apply(Math,aG)}function aF(aG){return(aG<10?"0":"")+aG}function aw(aI,aH){if(aI[aH]!==ay){return aI[aH]}var aJ=aH.split(/(?=[A-Z])/),aG=aJ.length-1,aK;for(;aG>=0;aG--){aK=aI[aJ[aG].toLowerCase()];if(aK!==ay){return aK}}return aI[""]}function Y(aG){return aG.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function y(aG){return aG.id+"/"+aG.className+"/"+aG.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function F(aG){aG.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function ab(aG){aG.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function an(aG,aH){aG.each(function(aJ,aI){aI.className=aI.className.replace(/^fc-\w*/,"fc-"+D[aH.getDay()])})}function P(aI,aK){var aM=aI.source||{};var aJ=aI.color;var aN=aM.color;var aL=aK("eventColor");var aG=aI.backgroundColor||aJ||aM.backgroundColor||aN||aK("eventBackgroundColor")||aL;var aH=aI.borderColor||aJ||aM.borderColor||aN||aK("eventBorderColor")||aL;var aP=aI.textColor||aM.textColor||aK("eventTextColor");var aO=[];if(aG){aO.push("background-color:"+aG)}if(aH){aO.push("border-color:"+aH)}if(aP){aO.push("color:"+aP)}return aO.join(";")}function m(aH,aK,aG){if(a.isFunction(aH)){aH=[aH]}if(aH){var aI;var aJ;for(aI=0;aI<aH.length;aI++){aJ=aH[aI].apply(aK,aG)||aJ}return aJ}}function L(){for(var aG=0;aG<arguments.length;aG++){if(arguments[aG]!==ay){return arguments[aG]}}}K.month=ad;function ad(aH,aG){var aM=this;aM.render=aK;q.call(aM,aH,aG,"month");var aJ=aM.opt;var aL=aM.renderBasic;var aI=aG.formatDate;function aK(aN,aO){if(aO){f(aN,aO);aN.setDate(1)}var aT=u(aN,true);aT.setDate(1);var aP=f(u(aT),1);var aV=u(aT);var aU=u(aP);var aQ=aJ("firstDay");var aR=aJ("weekends")?0:1;if(aR){au(aV);au(aU,-1,true)}d(aV,-((aV.getDay()-Math.max(aQ,aR)+7)%7));d(aU,(7-aU.getDay()+Math.max(aQ,aR))%7);var aS=Math.round((aU-aV)/(A*7));if(aJ("weekMode")=="fixed"){d(aU,(6-aS)*7);aS=6}aM.title=aI(aT,aJ("titleFormat"));aM.start=aT;aM.end=aP;aM.visStart=aV;aM.visEnd=aU;aL(aS,aR?5:7,true)}}K.basicWeek=r;function r(aH,aG){var aM=this;aM.render=aK;q.call(aM,aH,aG,"basicWeek");var aJ=aM.opt;var aL=aM.renderBasic;var aI=aG.formatDates;function aK(aN,aO){if(aO){d(aN,aO*7)}var aQ=d(u(aN),-((aN.getDay()-aJ("firstDay")+7)%7));var aP=d(u(aQ),7);var aS=u(aQ);var aR=u(aP);var aT=aJ("weekends");if(!aT){au(aS);au(aR,-1,true)}aM.title=aI(aS,d(u(aR),-1),aJ("titleFormat"));aM.start=aQ;aM.end=aP;aM.visStart=aS;aM.visEnd=aR;aL(1,aT?7:5,false)}}K.basicDay=o;function o(aH,aG){var aM=this;aM.render=aK;q.call(aM,aH,aG,"basicDay");var aJ=aM.opt;var aL=aM.renderBasic;var aI=aG.formatDate;function aK(aN,aO){if(aO){d(aN,aO);if(!aJ("weekends")){au(aN,aO<0?-1:1)}}aM.title=aI(aN,aJ("titleFormat"));aM.start=aM.visStart=u(aN,true);aM.end=aM.visEnd=d(u(aM.start),1);aL(1,1,false)}}ao({weekMode:"fixed"});function q(be,aQ,bG){var bz=this;bz.renderBasic=bo;bz.setHeight=bw;bz.setWidth=bx;bz.renderDayOverlay=bq;bz.defaultSelectionEnd=a9;bz.renderSelection=bs;bz.clearSelection=aU;bz.reportDayClick=bt;bz.dragStart=bc;bz.dragStop=bd;bz.defaultEventEnd=a8;bz.getHoverListener=function(){return bj};bz.colContentLeft=aW;bz.colContentRight=aY;bz.dayOfWeekCol=a5;bz.dateCell=a2;bz.cellDate=aR;bz.cellIsAllDay=function(){return true};bz.allDayRow=aI;bz.allDayBounds=aH;bz.getRowCnt=function(){return bu};bz.getColCnt=function(){return aV};bz.getColWidth=function(){return a0};bz.getDaySegmentContainer=function(){return a6};aA.call(bz,be,aQ,bG);af.call(bz);am.call(bz);p.call(bz);var bn=bz.opt;var bC=bz.trigger;var aS=bz.clearEvents;var br=bz.renderOverlay;var aT=bz.clearOverlays;var a7=bz.daySelectionMousedown;var bg=aQ.formatDate;var bA;var bh;var bi;var aJ;var aN;var aK;var aM;var aL;var a6;var bH;var bF;var a0;var bK;var bu,aV;var a1;var bj;var aX;var bv,ba,bb;var bf;var bm;var bB;var aZ;var by;var bJ;var bI;F(be.addClass("fc-grid"));function bo(bN,bL,bO){bu=bN;aV=bL;bE();var bM=!aJ;if(bM){aO()}else{aS()}aP(bO)}function bE(){bv=bn("isRTL");if(bv){ba=-1;bb=aV-1}else{ba=1;bb=0}bf=bn("firstDay");bm=bn("weekends")?0:1;bB=bn("theme")?"ui":"fc";aZ=bn("columnFormat");by=bn("weekNumbers");bJ=bn("weekNumberTitle");if(bn("weekNumberCalculation")!="iso"){bI="w"}else{bI="W"}}function aO(){a6=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(be)}function aP(bU){var bQ="";var bR,bS;var bP=bB+"-widget-header";var bO=bB+"-widget-content";var bT=bz.start.getMonth();var bV=t(new Date());var bN;var bM;var bL;bQ+="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";if(by){bQ+="<th class='fc-week-number "+bP+"'/>"}for(bR=0;bR<aV;bR++){bN=aG(0,bR);bQ+="<th class='fc-day-header fc-"+D[bN.getDay()]+" "+bP+"'/>"}bQ+="</tr></thead><tbody>";for(bR=0;bR<bu;bR++){bQ+="<tr class='fc-week'>";if(by){bQ+="<td class='fc-week-number "+bO+"'><div/></td>"}for(bS=0;bS<aV;bS++){bN=aG(bR,bS);bM=["fc-day","fc-"+D[bN.getDay()],bO];if(bN.getMonth()!=bT){bM.push("fc-other-month")}if(+bN==+bV){bM.push("fc-today");bM.push(bB+"-state-highlight")}bQ+="<td class='"+bM.join(" ")+"' data-date='"+bg(bN,"yyyy-MM-dd")+"'><div>";if(bU){bQ+="<div class='fc-day-number'>"+bN.getDate()+"</div>"}bQ+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}bQ+="</tr>"}bQ+="</tbody></table>";bl();if(bA){bA.remove()}bA=a(bQ).appendTo(be);bh=bA.find("thead");bi=bh.find(".fc-day-header");aJ=bA.find("tbody");aN=aJ.find("tr");aK=aJ.find(".fc-day");aM=aN.find("td:first-child");aL=aN.eq(0).find(".fc-day-content > div");ab(bh.add(bh.find("tr")));ab(aN);aN.eq(0).addClass("fc-first");aN.filter(":last").addClass("fc-last");if(by){bh.find(".fc-week-number").text(bJ)}bi.each(function(bY,bW){var bX=bk(bY);a(bW).text(bg(bX,aZ))});if(by){aJ.find(".fc-week-number > div").each(function(bX,bW){var bY=aG(bX,0);a(bW).text(bg(bY,bI))})}aK.each(function(bY,bW){var bX=bk(bY);bC("dayRender",bz,bX,a(bW))});a3(aK)}function bw(bN){bF=bN;var bL=bF-bh.height();var bO;var bP;var bM;if(bn("weekMode")=="variable"){bO=bP=Math.floor(bL/(bu==1?2:6))}else{bO=Math.floor(bL/bu);bP=bL-bO*(bu-1)}aM.each(function(bR,bQ){if(bR<bu){bM=a(bQ);ap(bM.find("> div"),(bR==bu-1?bP:bO)-aD(bM))}});bD()}function bx(bL){bH=bL;aX.clear();bK=0;if(by){bK=bh.find("th.fc-week-number").outerWidth()}a0=Math.floor((bH-bK)/aV);ar(bi.slice(0,-1),a0)}function a3(bL){bL.click(a4).mousedown(a7)}function a4(bM){if(!bn("selectable")){var bL=ah(a(this).data("date"));bC("dayClick",this,bL,true,bM)}}function bq(bP,bO,bQ){if(bQ){a1.build()}var bS=u(bz.visStart);var bR=d(u(bS),aV);for(var bN=0;bN<bu;bN++){var bU=new Date(Math.max(bS,bP));var bT=new Date(Math.min(bR,bO));if(bU<bT){var bM,bL;if(bv){bM=B(bT,bS)*ba+bb+1;bL=B(bU,bS)*ba+bb+1}else{bM=B(bU,bS);bL=B(bT,bS)}a3(bp(bN,bM,bN,bL-1))}d(bS,7);d(bR,7)}}function bp(bO,bL,bP,bM){var bN=a1.rect(bO,bL,bP,bM,be);return br(bN,be)}function a9(bM,bL){return u(bM)}function bs(bN,bM,bL){bq(bN,d(u(bM),1),true)}function aU(){aT()}function bt(bO,bM,bP){var bN=a2(bO);var bL=aK[bN.row*aV+bN.col];bC("dayClick",bL,bO,bM,bP)}function bc(bL,bM,bN){bj.start(function(bO){aT();if(bO){bp(bO.row,bO.col,bO.row,bO.col)}},bM)}function bd(bL,bO,bP){var bM=bj.stop();aT();if(bM){var bN=aR(bM);bC("drop",bL,bN,true,bO,bP)}}function a8(bL){return u(bL.start)}a1=new w(function(bP,bL){var bM,bN,bO;bi.each(function(bR,bQ){bM=a(bQ);bN=bM.offset().left;if(bR){bO[1]=bN}bO=[bN];bL[bR]=bO});bO[1]=bN+bM.outerWidth();aN.each(function(bR,bQ){if(bR<bu){bM=a(bQ);bN=bM.offset().top;if(bR){bO[1]=bN}bO=[bN];bP[bR]=bO}});bO[1]=bN+bM.outerHeight()});bj=new V(a1);aX=new T(function(bL){return aL.eq(bL)});function aW(bL){return aX.left(bL)}function aY(bL){return aX.right(bL)}function a2(bL){return{row:Math.floor(B(bL,bz.visStart)/7),col:a5(bL.getDay())}}function aR(bL){return aG(bL.row,bL.col)}function aG(bM,bL){return d(u(bz.visStart),bM*7+bL*ba+bb)}function bk(bL){return aG(Math.floor(bL/aV),bL%aV)}function a5(bL){return((bL-Math.max(bf,bm)+aV)%aV)*ba+bb}function aI(bL){return aN.eq(bL)}function aH(bL){var bM=0;if(by){bM+=bK}return{left:bM,right:bH}}function bl(){ap(be,be.height())}function bD(){ap(be,1)}}function p(){var a2=this;a2.renderEvents=aX;a2.compileDaySegs=aJ;a2.clearEvents=aH;a2.bindDaySeg=aG;C.call(a2);var aU=a2.opt;var a3=a2.trigger;var aS=a2.isEventDraggable;var aT=a2.isEventResizable;var aZ=a2.reportEvents;var aY=a2.reportEventClear;var aM=a2.eventElementHandlers;var a1=a2.showEvents;var aR=a2.hideEvents;var aL=a2.eventDrop;var aO=a2.getDaySegmentContainer;var aP=a2.getHoverListener;var aV=a2.renderDayOverlay;var aI=a2.clearOverlays;var aQ=a2.getRowCnt;var aN=a2.getColCnt;var aW=a2.renderDaySegs;var a0=a2.resizableDayEvent;function aX(a4,a5){aZ(a4);aW(aJ(a4),a5);a3("eventAfterAllRender")}function aH(){aY();aO().empty()}function aJ(a7){var bd=aQ(),a4=aN(),a5=u(a2.visStart),a6=d(u(a5),a4),bg=a.map(a7,I),a8,bc,a9,bb,ba,be,bf=[];for(a8=0;a8<bd;a8++){bc=ax(av(a7,bg,a5,a6));for(a9=0;a9<bc.length;a9++){bb=bc[a9];for(ba=0;ba<bb.length;ba++){be=bb[ba];be.row=a8;be.level=a9;bf.push(be)}}d(a5,7);d(a6,7)}return bf}function aG(a4,a5,a6){if(aS(a4)){aK(a4,a5)}if(a6.isEnd&&aT(a4)){a0(a4,a5,a6)}aM(a4,a5)}function aK(a5,a6){var a7=aP();var a4;a6.draggable({zIndex:9,delay:50,opacity:aU("dragOpacity"),revertDuration:aU("dragRevertDuration"),start:function(a8,a9){a3("eventDragStart",a6,a5,a8,a9);aR(a5,a6);a7.start(function(ba,bc,bd,bb){a6.draggable("option","revert",!ba||!bd&&!bb);aI();if(ba){a4=bd*7+bb*(aU("isRTL")?-1:1);aV(d(u(a5.start),a4),d(I(a5),a4))}else{a4=0}},a8,"drag")},stop:function(a8,a9){a7.stop();aI();a3("eventDragStop",a6,a5,a8,a9);if(a4){aL(this,a5,a4,0,a5.allDay,a8,a9)}else{a6.css("filter","");a1(a5,a6)}}})}}K.agendaWeek=k;function k(aH,aG){var aM=this;aM.render=aK;j.call(aM,aH,aG,"agendaWeek");var aJ=aM.opt;var aL=aM.renderAgenda;var aI=aG.formatDates;function aK(aN,aO){if(aO){d(aN,aO*7)}var aQ=d(u(aN),-((aN.getDay()-aJ("firstDay")+7)%7));var aP=d(u(aQ),7);var aS=u(aQ);var aR=u(aP);var aT=aJ("weekends");if(!aT){au(aS);au(aR,-1,true)}aM.title=aI(aS,d(u(aR),-1),aJ("titleFormat"));aM.start=aQ;aM.end=aP;aM.visStart=aS;aM.visEnd=aR;aL(aT?7:5)}}K.agendaDay=h;function h(aH,aG){var aM=this;aM.render=aK;j.call(aM,aH,aG,"agendaDay");var aJ=aM.opt;var aL=aM.renderAgenda;var aI=aG.formatDate;function aK(aN,aO){if(aO){d(aN,aO);if(!aJ("weekends")){au(aN,aO<0?-1:1)}}var aQ=u(aN,true);var aP=d(u(aQ),1);aM.title=aI(aN,aJ("titleFormat"));aM.start=aM.visStart=aQ;aM.end=aM.visEnd=aP;aL(1)}}ao({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});function j(bl,aO,ca){var b2=this;b2.renderAgenda=bw;b2.setWidth=bK;b2.setHeight=bJ;b2.beforeHide=aM;b2.afterShow=aG;b2.defaultEventEnd=bf;b2.timePosition=b3;b2.dayOfWeekCol=bb;b2.dateCell=a2;b2.cellDate=aP;b2.cellIsAllDay=aQ;b2.allDayRow=bo;b2.allDayBounds=aH;b2.getHoverListener=function(){return br};b2.colContentLeft=aV;b2.colContentRight=aX;b2.getDaySegmentContainer=function(){return bc};b2.getSlotSegmentContainer=function(){return bU};b2.getMinMinute=function(){return bt};b2.getMaxMinute=function(){return bs};b2.getBodyContent=function(){return bP};b2.getRowCnt=function(){return 1};b2.getColCnt=function(){return aU};b2.getColWidth=function(){return a0};b2.getSnapHeight=function(){return bZ};b2.getSnapMinutes=function(){return b0};b2.defaultSelectionEnd=bg;b2.renderDayOverlay=by;b2.renderSelection=bA;b2.clearSelection=aT;b2.reportDayClick=bD;b2.dragStart=bj;b2.dragStop=bk;aA.call(b2,bl,aO,ca);af.call(b2);am.call(b2);i.call(b2);var bv=b2.opt;var b5=b2.trigger;var aR=b2.clearEvents;var bz=b2.renderOverlay;var aS=b2.clearOverlays;var bE=b2.reportSelection;var b6=b2.unselect;var bd=b2.daySelectionMousedown;var bT=b2.slotSegHtml;var bn=aO.formatDate;var be;var a9;var ba;var a4;var a6;var a5;var a7;var a8;var bR;var bc;var aJ;var aI;var bS;var bP;var bU;var bW;var bX;var aK;var bp;var bI;var cb;var b9;var aL;var a0;var bq;var bQ;var b0;var b1;var bZ;var aU;var bO;var a1;var br;var aW;var bY={};var bH;var b4;var bm;var bu;var bG,bh,bi;var bt,bs;var aZ;var bL;var cd;var cc;F(bl.addClass("fc-agenda"));function bw(ce){aU=ce;b8();if(!be){aN()}else{aR()}b7()}function b8(){b4=bv("theme")?"ui":"fc";bu=bv("weekends")?0:1;bm=bv("firstDay");if(bG=bv("isRTL")){bh=-1;bi=aU-1}else{bh=1;bi=0}bt=ai(bv("minTime"));bs=ai(bv("maxTime"));aZ=bv("columnFormat");bL=bv("weekNumbers");cd=bv("weekNumberTitle");if(bv("weekNumberCalculation")!="iso"){cc="w"}else{cc="W"}b0=bv("snapMinutes")||bv("slotMinutes")}function aN(){var cg=b4+"-widget-header";var ce=b4+"-widget-content";var ck;var ch;var cf;var ci;var cj;var cl=bv("slotMinutes")%15==0;ck="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr>";if(bL){ck+="<th class='fc-agenda-axis fc-week-number "+cg+"'/>"}else{ck+="<th class='fc-agenda-axis "+cg+"'>&nbsp;</th>"}for(ch=0;ch<aU;ch++){ck+="<th class='fc- fc-col"+ch+" "+cg+"'/>"}ck+="<th class='fc-agenda-gutter "+cg+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+cg+"'>&nbsp;</th>";for(ch=0;ch<aU;ch++){ck+="<td class='fc- fc-col"+ch+" "+ce+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}ck+="<td class='fc-agenda-gutter "+ce+"'>&nbsp;</td></tr></tbody></table>";be=a(ck).appendTo(bl);a9=be.find("thead");ba=a9.find("th").slice(1,-1);a4=be.find("tbody");a6=a4.find("td").slice(0,-1);a5=a6.find("div.fc-day-content div");a7=a6.eq(0);a8=a7.find("> div");ab(a9.add(a9.find("tr")));ab(a4.add(a4.find("tr")));aK=a9.find("th:first");bp=be.find(".fc-agenda-gutter");bR=a("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(bl);if(bv("allDaySlot")){bc=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(bR);ck="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+cg+" fc-agenda-axis'>"+bv("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+cg+" fc-agenda-gutter'>&nbsp;</th></tr></table>";aJ=a(ck).appendTo(bR);aI=aJ.find("tr");a3(aI.find("td"));aK=aK.add(aJ.find("th:first"));bp=bp.add(aJ.find("th.fc-agenda-gutter"));bR.append("<div class='fc-agenda-divider "+cg+"'><div class='fc-agenda-divider-inner'/></div>")}else{bc=a([])}bS=a("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(bR);bP=a("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(bS);bU=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(bP);ck="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";cf=aE();ci=e(u(cf),bs);e(cf,bt);bO=0;for(ch=0;cf<ci;ch++){cj=cf.getMinutes();ck+="<tr class='fc-slot"+ch+" "+(!cj?"":"fc-minor")+"'><th class='fc-agenda-axis "+cg+"'>"+((!cl||!cj)?bn(cf,bv("axisFormat")):"&nbsp;")+"</th><td class='"+ce+"'><div style='position:relative'>&nbsp;</div></td></tr>";e(cf,bv("slotMinutes"));bO++}ck+="</tbody></table>";bW=a(ck).appendTo(bP);bX=bW.find("div:first");bM(bW.find("td"));aK=aK.add(bW.find("th:first"))}function b7(){var ch;var cg;var ce;var cf;var ci=t(new Date());if(bL){var cj=bn(aY(0),cc);if(bG){cj=cj+cd}else{cj=cd+cj}a9.find(".fc-week-number").text(cj)}for(ch=0;ch<aU;ch++){cf=aY(ch);cg=ba.eq(ch);cg.html(bn(cf,aZ));ce=a6.eq(ch);if(+cf==+ci){ce.addClass(b4+"-state-highlight fc-today")}else{ce.removeClass(b4+"-state-highlight fc-today")}an(cg.add(ce),cf)}}function bJ(ci,cg){if(ci===ay){ci=b9}b9=ci;bY={};var ch=a4.position().top;var ce=bS.position().top;var cf=Math.min(ci-ch,bW.height()+ce+1);a8.height(cf-aD(a7));bR.css("top",ch);bS.height(cf-ce-1);bQ=bX.height()+1;b1=bv("slotMinutes")/b0;bZ=bQ/b1;if(cg){bF()}}function bK(cf){cb=cf;aW.clear();aL=0;ar(aK.width("").each(function(ch,cg){aL=Math.max(aL,a(cg).outerWidth())}),aL);var ce=bS[0].clientWidth;bq=bS.width()-ce;if(bq){ar(bp,bq);bp.show().prev().removeClass("fc-last")}else{bp.hide().prev().addClass("fc-last")}a0=Math.floor((ce-aL)/aU);ar(ba.slice(0,-1),a0)}function bF(){var ce=aE();var cg=u(ce);cg.setHours(bv("firstHour"));var ch=b3(ce,cg)+1;function cf(){bS.scrollTop(ch)}cf();setTimeout(cf,0)}function aM(){bH=bS.scrollTop()}function aG(){bS.scrollTop(bH)}function a3(ce){ce.click(bN).mousedown(bd)}function bM(ce){ce.click(bN).mousedown(bV)}function bN(cg){if(!bv("selectable")){var ce=Math.min(aU-1,Math.floor((cg.pageX-be.offset().left-aL)/a0));var cf=aY(ce);var cj=this.parentNode.className.match(/fc-slot(\d+)/);if(cj){var ci=parseInt(cj[1])*bv("slotMinutes");var ch=Math.floor(ci/60);cf.setHours(ch);cf.setMinutes(ci%60+bt);b5("dayClick",a6[ce],cf,false,cg)}else{b5("dayClick",a6[ce],cf,true,cg)}}}function by(ci,cf,cg){if(cg){a1.build()}var cj=u(b2.visStart);var ch,ce;if(bG){ch=B(cf,cj)*bh+bi+1;ce=B(ci,cj)*bh+bi+1}else{ch=B(ci,cj);ce=B(cf,cj)}ch=Math.max(0,ch);ce=Math.min(aU,ce);if(ch<ce){a3(bx(0,ch,0,ce-1))}}function bx(ch,ce,ci,cf){var cg=a1.rect(ch,ce,ci,cf,bR);return bz(cg,bR)}function bB(ck,cj){var ch=u(b2.visStart);var cg=d(u(ch),1);for(var ci=0;ci<aU;ci++){var cn=new Date(Math.max(ch,ck));var cm=new Date(Math.min(cg,cj));if(cn<cm){var cf=ci*bh+bi;var cl=a1.rect(0,cf,0,cf,bP);var co=b3(ch,cn);var ce=b3(ch,cm);cl.top=co;cl.height=ce-co;bM(bz(cl,bP))}d(ch,1);d(cg,1)}}a1=new w(function(ck,ce){var cg,ci,cj;ba.each(function(cp,co){cg=a(co);ci=cg.offset().left;if(cp){cj[1]=ci}cj=[ci];ce[cp]=cj});cj[1]=ci+cg.outerWidth();if(bv("allDaySlot")){cg=aI;ci=cg.offset().top;ck[0]=[ci,ci+cg.outerHeight()]}var cn=bP.offset().top;var cm=bS.offset().top;var cl=cm+bS.outerHeight();function cf(co){return Math.max(cm,Math.min(cl,co))}for(var ch=0;ch<bO*b1;ch++){ck.push([cf(cn+bZ*ch),cf(cn+bZ*(ch+1))])}});br=new V(a1);aW=new T(function(ce){return a5.eq(ce)});function aV(ce){return aW.left(ce)}function aX(ce){return aW.right(ce)}function a2(ce){return{row:Math.floor(B(ce,b2.visStart)/7),col:bb(ce.getDay())}}function aP(ce){var cf=aY(ce.col);var cg=ce.row;if(bv("allDaySlot")){cg--}if(cg>=0){e(cf,bt+cg*b0)}return cf}function aY(ce){return d(u(b2.visStart),ce*bh+bi)}function aQ(ce){return bv("allDaySlot")&&!ce.row}function bb(ce){return((ce-Math.max(bm,bu)+aU)%aU)*bh+bi}function b3(ce,cj){ce=u(ce,true);if(cj<e(u(ce),bt)){return 0}if(cj>=e(u(ce),bs)){return bW.height()}var ch=bv("slotMinutes"),cf=cj.getHours()*60+cj.getMinutes()-bt,cg=Math.floor(cf/ch),ci=bY[cg];if(ci===ay){ci=bY[cg]=bW.find("tr:eq("+cg+") td div")[0].offsetTop}return Math.max(0,Math.round(ci-1+bQ*((cf%ch)/ch)))}function aH(){return{left:aL,right:cb-bq}}function bo(ce){return aI}function bf(ce){var cf=u(ce.start);if(ce.allDay){return cf}return e(cf,bv("defaultEventMinutes"))}function bg(cf,ce){if(ce){return u(cf)}return e(u(cf),bv("slotMinutes"))}function bA(cg,cf,ce){if(ce){if(bv("allDaySlot")){by(cg,d(u(cf),1),true)}}else{bC(cg,cf)}}function bC(ck,cg){var ch=bv("selectHelper");a1.build();if(ch){var cf=B(ck,b2.visStart)*bh+bi;if(cf>=0&&cf<aU){var cj=a1.rect(0,cf,0,cf,bP);var cl=b3(ck,ck);var ce=b3(ck,cg);if(ce>cl){cj.top=cl;cj.height=ce-cl;cj.left+=2;cj.width-=5;if(a.isFunction(ch)){var ci=ch(ck,cg);if(ci){cj.position="absolute";cj.zIndex=8;bI=a(ci).css(cj).appendTo(bP)}}else{cj.isStart=true;cj.isEnd=true;bI=a(bT({title:"",start:ck,end:cg,className:["fc-select-helper"],editable:false},cj));bI.css("opacity",bv("dragOpacity"))}if(bI){bM(bI);bP.append(bI);ar(bI,cj.width,true);aq(bI,cj.height,true)}}}}else{bB(ck,cg)}}function aT(){aS();if(bI){bI.remove();bI=null}}function bV(cf){if(cf.which==1&&bv("selectable")){b6(cf);var ce;br.start(function(cg,cj){aT();if(cg&&cg.col==cj.col&&!aQ(cg)){var ch=aP(cj);var ci=aP(cg);ce=[ch,e(u(ch),b0),ci,e(u(ci),b0)].sort(v);bC(ce[0],ce[3])}else{ce=null}},cf);a(document).one("mouseup",function(cg){br.stop();if(ce){if(+ce[0]==+ce[1]){bD(ce[0],false,cg)}bE(ce[0],ce[3],false,cg)}})}}function bD(cf,ce,cg){b5("dayClick",a6[bb(cf.getDay())],cf,ce,cg)}function bj(ce,cf,cg){br.start(function(ch){aS();if(ch){if(aQ(ch)){bx(ch.row,ch.col,ch.row,ch.col)}else{var ci=aP(ch);var cj=e(u(ci),bv("defaultEventMinutes"));bB(ci,cj)}}},cf)}function bk(ce,cg,ch){var cf=br.stop();aS();if(cf){b5("drop",ce,aP(cf),aQ(cf),cg,ch)}}}function i(){var bo=this;bo.renderEvents=bd;bo.compileDaySegs=aN;bo.clearEvents=aJ;bo.slotSegHtml=bn;bo.bindDaySeg=aG;C.call(bo);var ba=bo.opt;var bq=bo.trigger;var a8=bo.isEventDraggable;var a9=bo.isEventResizable;var aT=bo.eventEnd;var bh=bo.reportEvents;var bf=bo.reportEventClear;var aS=bo.eventElementHandlers;var bk=bo.setHeight;var a0=bo.getDaySegmentContainer;var a4=bo.getSlotSegmentContainer;var a1=bo.getHoverListener;var a2=bo.getMaxMinute;var a3=bo.getMinMinute;var bp=bo.timePosition;var aL=bo.colContentLeft;var aM=bo.colContentRight;var bc=bo.renderDaySegs;var bi=bo.resizableDayEvent;var aY=bo.getColCnt;var aZ=bo.getColWidth;var a5=bo.getSnapHeight;var a6=bo.getSnapMinutes;var aX=bo.getBodyContent;var bg=bo.reportEventElement;var bl=bo.showEvents;var a7=bo.hideEvents;var aR=bo.eventDrop;var aU=bo.eventResize;var bb=bo.renderDayOverlay;var aK=bo.clearOverlays;var aI=bo.calendar;var aV=aI.formatDate;var aW=aI.formatDates;function bd(bs,bv){bh(bs);var bt,bu=bs.length,br=[],bw=[];for(bt=0;bt<bu;bt++){if(bs[bt].allDay){br.push(bs[bt])}else{bw.push(bs[bt])}}if(ba("allDaySlot")){bc(aN(br),bv);bk()}be(aO(bw),bv);bq("eventAfterAllRender")}function aJ(){bf();a0().empty();a4().empty()}function aN(br){var bw=ax(av(br,a.map(br,I),bo.visStart,bo.visEnd)),bs,bv=bw.length,bu,bt,bx,by=[];for(bs=0;bs<bv;bs++){bu=bw[bs];for(bt=0;bt<bu.length;bt++){bx=bu[bt];bx.row=0;bx.level=bs;by.push(bx)}}return by}function aO(bu){var bs=aY(),bA=a3(),bz=a2(),bt=e(u(bo.visStart),bA),bD=a.map(bu,bm),bv,br,bw,by,bx,bB,bC=[];for(bv=0;bv<bs;bv++){br=ax(av(bu,bD,bt,e(u(bt),bz-bA)));x(br);for(bw=0;bw<br.length;bw++){by=br[bw];for(bx=0;bx<by.length;bx++){bB=by[bx];bB.col=bv;bB.level=bw;bC.push(bB)}}d(bt,1,true)}return bC}function bm(br){if(br.end){return u(br.end)}else{return e(u(br.start),ba("defaultEventMinutes"))}}function be(bP,bK){var bF,bO=bP.length,bN,by,bt,bS,bs,bv,bJ,bB,bI,br,bL,bH,bE="",bA,bz,bT,bV={},bD={},bG,bU,bR,bC,bQ=a4(),bM,bw,bx,bu=aY();if(bM=ba("isRTL")){bw=-1;bx=bu-1}else{bw=1;bx=0}for(bF=0;bF<bO;bF++){bN=bP[bF];by=bN.event;bS=bp(bN.start,bN.start);bs=bp(bN.start,bN.end);bv=bN.col;bJ=bN.level;bB=bN.forward||0;bI=aL(bv*bw+bx);br=aM(bv*bw+bx)-bI;br=Math.min(br-6,br*0.95);if(bJ){bL=br/(bJ+bB+1)}else{if(bB){bL=((br/(bB+1))-(12/2))*2}else{bL=br}}bH=bI+(br/(bJ+bB+1)*bJ)*bw+(bM?br-bL:0);bN.top=bS;bN.left=bH;bN.outerWidth=bL;bN.outerHeight=bs-bS;bE+=bn(by,bN)}bQ[0].innerHTML=bE;bA=bQ.children();for(bF=0;bF<bO;bF++){bN=bP[bF];by=bN.event;bz=a(bA[bF]);bT=bq("eventRender",by,by,bz);if(bT===false){bz.remove()}else{if(bT&&bT!==true){bz.remove();bz=a(bT).css({position:"absolute",top:bN.top,left:bN.left}).appendTo(bQ)}bN.element=bz;if(by._id===bK){aH(by,bz,bN)}else{bz[0]._fci=bF}bg(by,bz)}}aa(bQ,bP,aH);for(bF=0;bF<bO;bF++){bN=bP[bF];if(bz=bN.element){bU=bV[bG=bN.key=y(bz[0])];bN.vsides=bU===ay?(bV[bG]=aD(bz,true)):bU;bU=bD[bG];bN.hsides=bU===ay?(bD[bG]=X(bz,true)):bU;bR=bz.find(".fc-event-title");if(bR.length){bN.contentTop=bR[0].offsetTop}}}for(bF=0;bF<bO;bF++){bN=bP[bF];if(bz=bN.element){bz[0].style.width=Math.max(0,bN.outerWidth-bN.hsides)+"px";bC=Math.max(0,bN.outerHeight-bN.vsides);bz[0].style.height=bC+"px";by=bN.event;if(bN.contentTop!==ay&&bC-bN.contentTop<10){bz.find("div.fc-event-time").text(aV(by.start,ba("timeFormat"))+" - "+by.title);bz.find("div.fc-event-title").remove()}bq("eventAfterRender",by,by,bz)}}}function bn(bs,bu){var bt="<";var bw=bs.url;var bv=P(bs,ba);var br=["fc-event","fc-event-vert"];if(a8(bs)){br.push("fc-event-draggable")}if(bu.isStart){br.push("fc-event-start")}if(bu.isEnd){br.push("fc-event-end")}br=br.concat(bs.className);if(bs.source){br=br.concat(bs.source.className||[])}if(bw){bt+="a href='"+Y(bs.url)+"'"}else{bt+="div"}bt+=" class='"+br.join(" ")+"' style='position:absolute;z-index:8;top:"+bu.top+"px;left:"+bu.left+"px;"+bv+"'><div class='fc-event-inner'><div class='fc-event-time'>"+Y(aW(bs.start,bs.end,ba("timeFormat")))+"</div><div class='fc-event-title'>"+Y(bs.title)+"</div></div><div class='fc-event-bg'></div>";if(bu.isEnd&&a9(bs)){bt+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"}bt+="</"+(bw?"a":"div")+">";return bt}function aG(br,bs,bt){if(a8(br)){aP(br,bs,bt.isStart)}if(bt.isEnd&&a9(br)){bi(br,bs,bt)}aS(br,bs)}function aH(br,bs,bt){var bu=bs.find("div.fc-event-time");if(a8(br)){aQ(br,bs,bu)}if(bt.isEnd&&a9(br)){bj(br,bs,bu)}aS(br,bs)}function aP(bv,bw,by){var bA;var bC;var br=true;var bt;var bu=ba("isRTL")?-1:1;var bx=a1();var bs=aZ();var bD=a5();var bE=a6();var bz=a3();bw.draggable({zIndex:9,opacity:ba("dragOpacity","month"),revertDuration:ba("dragRevertDuration"),start:function(bF,bG){bq("eventDragStart",bw,bv,bF,bG);a7(bv,bw);bA=bw.width();bx.start(function(bH,bJ,bK,bI){aK();if(bH){bC=false;bt=bI*bu;if(!bH.row){bb(d(u(bv.start),bt),d(I(bv),bt));bB()}else{if(by){if(br){bw.width(bs-10);aq(bw,bD*Math.round((bv.end?((bv.end-bv.start)/ac):ba("defaultEventMinutes"))/bE));bw.draggable("option","grid",[bs,1]);br=false}}else{bC=true}}bC=bC||(br&&!bt)}else{bB();bC=true}bw.draggable("option","revert",bC)},bF,"drag")},stop:function(bF,bH){bx.stop();aK();bq("eventDragStop",bw,bv,bF,bH);if(bC){bB();bw.css("filter","");bl(bv,bw)}else{var bG=0;if(!br){bG=Math.round((bw.offset().top-aX().offset().top)/bD)*bE+bz-(bv.start.getHours()*60+bv.start.getMinutes())}aR(this,bv,bt,bG,br,bF,bH)}}});function bB(){if(!br){bw.width(bA).height("").draggable("option","grid",null);br=true}}}function aQ(bw,bx,bF){var bA;var br=false;var bu;var bz;var bB;var bv=ba("isRTL")?-1:1;var by=a1();var bs=aY();var bt=aZ();var bD=a5();var bE=a6();bx.draggable({zIndex:9,scroll:false,grid:[bt,bD],axis:bs==1?"y":false,opacity:ba("dragOpacity"),revertDuration:ba("dragRevertDuration"),start:function(bH,bI){bq("eventDragStart",bx,bw,bH,bI);a7(bw,bx);bA=bx.position();bz=bB=0;by.start(function(bJ,bL,bM,bK){bx.draggable("option","revert",!bJ);aK();if(bJ){bu=bK*bv;if(ba("allDaySlot")&&!bJ.row){if(!br){br=true;bF.hide();bx.draggable("option","grid",null)}bb(d(u(bw.start),bu),d(I(bw),bu))}else{bC()}}},bH,"drag")},drag:function(bH,bI){bz=Math.round((bI.position.top-bA.top)/bD)*bE;if(bz!=bB){if(!br){bG(bz)}bB=bz}},stop:function(bI,bJ){var bH=by.stop();aK();bq("eventDragStop",bx,bw,bI,bJ);if(bH&&(bu||bz||br)){aR(this,bw,bu,br?0:bz,br,bI,bJ)}else{bC();bx.css("filter","");bx.css(bA);bG(0);bl(bw,bx)}}});function bG(bH){var bJ=e(u(bw.start),bH);var bI;if(bw.end){bI=e(u(bw.end),bH)}bF.text(aW(bJ,bI,ba("timeFormat")))}function bC(){if(br){bF.css("display","");bx.draggable("option","grid",[bt,bD]);br=false}}}function bj(br,bs,bx){var bu,bt;var bv=a5();var bw=a6();bs.resizable({handles:{s:".ui-resizable-handle"},grid:bv,start:function(by,bz){bu=bt=0;a7(br,bs);bs.css("z-index",9);bq("eventResizeStart",this,br,by,bz)},resize:function(by,bz){bu=Math.round((Math.max(bv,bs.height())-bz.originalSize.height)/bv);if(bu!=bt){bx.text(aW(br.start,(!bu&&!br.end)?null:e(aT(br),bw*bu),ba("timeFormat")));bt=bu}},stop:function(by,bz){bq("eventResizeStop",this,br,by,bz);if(bu){aU(this,br,0,bw*bu,by,bz)}else{bs.css("z-index",8);bl(br,bs)}}})}}function x(aK){var aG,aH,aI,aJ,aM,aL;for(aG=aK.length-1;aG>0;aG--){aJ=aK[aG];for(aH=0;aH<aJ.length;aH++){aM=aJ[aH];for(aI=0;aI<aK[aG-1].length;aI++){aL=aK[aG-1][aI];if(al(aM,aL)){aL.forward=Math.max(aL.forward||0,(aM.forward||0)+1)}}}}}function aA(aJ,aG,a7){var a5=this;a5.element=aJ;a5.calendar=aG;a5.name=a7;a5.opt=aY;a5.trigger=a6;a5.isEventDraggable=aT;a5.isEventResizable=aV;a5.reportEvents=a3;a5.eventEnd=aP;a5.reportEventElement=a2;a5.reportEventClear=a1;a5.eventElementHandlers=aM;a5.showEvents=a4;a5.hideEvents=aS;a5.eventDrop=aL;a5.eventResize=aQ;var aH=a5.defaultEventEnd;var aX=aG.normalizeEvent;var a0=aG.reportEventChange;var aR={};var aN=[];var aO={};var aZ=aG.options;function aY(a8,ba){var a9=aZ[a8];if(typeof a9=="object"){return aw(a9,ba||a7)}return a9}function a6(a8,a9){return aG.trigger.apply(aG,[a8,a9||a5].concat(Array.prototype.slice.call(arguments,2),[a5]))}function aT(a8){return aU(a8)&&!aY("disableDragging")}function aV(a8){return aU(a8)&&!aY("disableResizing")}function aU(a8){return L(a8.editable,(a8.source||{}).editable,aY("editable"))}function a3(a9){aR={};var ba,bb=a9.length,a8;for(ba=0;ba<bb;ba++){a8=a9[ba];if(aR[a8._id]){aR[a8._id].push(a8)}else{aR[a8._id]=[a8]}}}function aP(a8){return a8.end?u(a8.end):aH(a8)}function a2(a9,a8){aN.push(a8);if(aO[a9._id]){aO[a9._id].push(a8)}else{aO[a9._id]=[a8]}}function a1(){aN=[];aO={}}function aM(a8,a9){a9.click(function(ba){if(!a9.hasClass("ui-draggable-dragging")&&!a9.hasClass("ui-resizable-resizing")){return a6("eventClick",this,a8,ba)}}).hover(function(ba){a6("eventMouseover",this,a8,ba)},function(ba){a6("eventMouseout",this,a8,ba)})}function a4(a8,a9){aI(a8,a9,"show")}function aS(a8,a9){aI(a8,a9,"hide")}function aI(a9,ba,bb){var a8=aO[a9._id],bc,bd=a8.length;for(bc=0;bc<bd;bc++){if(!ba||a8[bc][0]!=ba[0]){a8[bc][bb]()}}}function aL(ba,bc,a9,be,a8,bb,bg){var bf=bc.allDay;var bd=bc._id;aW(aR[bd],a9,be,a8);a6("eventDrop",ba,bc,a9,be,a8,function(){aW(aR[bd],-a9,-be,bf);a0(bd)},bb,bg);a0(bd)}function aQ(a9,bb,a8,bd,ba,be){var bc=bb._id;aK(aR[bc],a8,bd);a6("eventResize",a9,bb,a8,bd,function(){aK(aR[bc],-a8,-bd);a0(bc)},ba,be);a0(bc)}function aW(bb,a9,be,a8){be=be||0;for(var ba,bd=bb.length,bc=0;bc<bd;bc++){ba=bb[bc];if(a8!==ay){ba.allDay=a8}e(d(ba.start,a9,true),be);if(ba.end){ba.end=e(d(ba.end,a9,true),be)}aX(ba,aZ)}}function aK(ba,a8,bd){bd=bd||0;for(var a9,bc=ba.length,bb=0;bb<bc;bb++){a9=ba[bb];a9.end=e(d(aP(a9),a8,true),bd);aX(a9,aZ)}}}function C(){var bh=this;bh.renderDaySegs=bc;bh.resizableDayEvent=bf;var ba=bh.opt;var bi=bh.trigger;var a8=bh.isEventDraggable;var a9=bh.isEventResizable;var aY=bh.eventEnd;var be=bh.reportEventElement;var bg=bh.showEvents;var a7=bh.hideEvents;var aZ=bh.eventResize;var a4=bh.getRowCnt;var a1=bh.getColCnt;var a2=bh.getColWidth;var aH=bh.allDayRow;var aG=bh.allDayBounds;var aL=bh.colContentLeft;var aM=bh.colContentRight;var aP=bh.dayOfWeekCol;var aO=bh.dateCell;var aN=bh.compileDaySegs;var a3=bh.getDaySegmentContainer;var aI=bh.bindDaySeg;var a0=bh.calendar.formatDates;var bb=bh.renderDayOverlay;var aJ=bh.clearOverlays;var aK=bh.clearSelection;function bc(bw,bp){var bv=a3();var br;var bq=a4();var bj=a1();var bl=0;var bs;var bo;var bk;var bm;var bu=bw.length;var bt;var bx;var bn;bv[0].innerHTML=aV(bw);aT(bw,bv.children());aS(bw);aU(bw,bv,bp);aR(bw);aX(bw);aQ(bw);br=a5();for(bs=0;bs<bq;bs++){bo=0;bk=[];for(bm=0;bm<bj;bm++){bk[bm]=0}while(bl<bu&&(bt=bw[bl]).row==bs){bx=n(bk.slice(bt.startCol,bt.endCol));bt.top=bx;bx+=bt.outerHeight;for(bn=bt.startCol;bn<bt.endCol;bn++){bk[bn]=bx}bl++}br[bs].height(n(bk))}aW(bw,a6(br))}function bd(bq,bj,bk){var br=a("<div/>");var bm;var bp=a3();var bn;var bo=bq.length;var bl;br[0].innerHTML=aV(bq);bm=br.children();bp.append(bm);aT(bq,bm);aR(bq);aX(bq);aQ(bq);aW(bq,a6(a5()));bm=[];for(bn=0;bn<bo;bn++){bl=bq[bn].element;if(bl){if(bq[bn].row===bj){bl.css("top",bk)}bm.push(bl[0])}}return a(bm)}function aV(bx){var bu=ba("isRTL");var bn;var bw=bx.length;var bv;var bl;var bz;var bk;var bj=aG();var br=bj.left;var bq=bj.right;var bp;var bt;var bo;var bs;var by;var bm="";for(bn=0;bn<bw;bn++){bv=bx[bn];bl=bv.event;bk=["fc-event","fc-event-hori"];if(a8(bl)){bk.push("fc-event-draggable")}if(bv.isStart){bk.push("fc-event-start")}if(bv.isEnd){bk.push("fc-event-end")}if(bu){bp=aP(bv.end.getDay()-1);bt=aP(bv.start.getDay());bo=bv.isEnd?aL(bp):br;bs=bv.isStart?aM(bt):bq}else{bp=aP(bv.start.getDay());bt=aP(bv.end.getDay()-1);bo=bv.isStart?aL(bp):br;bs=bv.isEnd?aM(bt):bq}bk=bk.concat(bl.className);if(bl.source){bk=bk.concat(bl.source.className||[])}bz=bl.url;by=P(bl,ba);if(bz){bm+="<a href='"+Y(bz)+"'"}else{bm+="<div"}bm+=" class='"+bk.join(" ")+"' style='position:absolute;z-index:8;left:"+bo+"px;"+by+"'><div class='fc-event-inner'>";if(!bl.allDay&&bv.isStart){bm+="<span class='fc-event-time'>"+Y(a0(bl.start,bl.end,ba("timeFormat")))+"</span>"}bm+="<span class='fc-event-title'>"+Y(bl.title)+"</span></div>";if(bv.isEnd&&a9(bl)){bm+="<div class='ui-resizable-handle ui-resizable-"+(bu?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"}bm+="</"+(bz?"a":"div")+">";bv.left=bo;bv.outerWidth=bs-bo;bv.startCol=bp;bv.endCol=bt+1}return bm}function aT(bp,bk){var bm;var bo=bp.length;var bn;var bl;var bj;var bq;for(bm=0;bm<bo;bm++){bn=bp[bm];bl=bn.event;bj=a(bk[bm]);bq=bi("eventRender",bl,bl,bj);if(bq===false){bj.remove()}else{if(bq&&bq!==true){bq=a(bq).css({position:"absolute",left:bn.left});bj.replaceWith(bq);bj=bq}bn.element=bj}}}function aS(bn){var bk;var bm=bn.length;var bl;var bj;for(bk=0;bk<bm;bk++){bl=bn[bk];bj=bl.element;if(bj){be(bl.event,bj)}}}function aU(bq,bp,bm){var bl;var bo=bq.length;var bn;var bj;var bk;for(bl=0;bl<bo;bl++){bn=bq[bl];bj=bn.element;if(bj){bk=bn.event;if(bk._id===bm){aI(bk,bj,bn)}else{bj[0]._fci=bl}}}aa(bp,bq,aI)}function aR(bp){var bl;var bo=bp.length;var bn;var bj;var bm,bq;var bk={};for(bl=0;bl<bo;bl++){bn=bp[bl];bj=bn.element;if(bj){bm=bn.key=y(bj[0]);bq=bk[bm];if(bq===ay){bq=bk[bm]=X(bj,true)}bn.hsides=bq}}}function aX(bn){var bk;var bm=bn.length;var bl;var bj;for(bk=0;bk<bm;bk++){bl=bn[bk];bj=bl.element;if(bj){bj[0].style.width=Math.max(0,bl.outerWidth-bl.hsides)+"px"}}}function aQ(bo){var bk;var bn=bo.length;var bm;var bj;var bl,bp;var bq={};for(bk=0;bk<bn;bk++){bm=bo[bk];bj=bm.element;if(bj){bl=bm.key;bp=bq[bl];if(bp===ay){bp=bq[bl]=aB(bj)}bm.outerHeight=bj[0].offsetHeight+bp}}}function a5(){var bj;var bk=a4();var bl=[];for(bj=0;bj<bk;bj++){bl[bj]=aH(bj).find("div.fc-day-content > div")}return bl}function a6(bl){var bj;var bk=bl.length;var bm=[];for(bj=0;bj<bk;bj++){bm[bj]=bl[bj][0].offsetTop}return bm}function aW(bp,bm){var bl;var bo=bp.length;var bn;var bj;var bk;for(bl=0;bl<bo;bl++){bn=bp[bl];bj=bn.element;if(bj){bj[0].style.top=bm[bn.row]+(bn.top||0)+"px";bk=bn.event;bi("eventAfterRender",bk,bk,bj)}}}function bf(bl,bk,bp){var bo=ba("isRTL");var bj=bo?"w":"e";var bm=bk.find(".ui-resizable-"+bj);var bn=false;F(bk);bk.mousedown(function(bq){bq.preventDefault()}).click(function(bq){if(bn){bq.preventDefault();bq.stopImmediatePropagation()}});bm.mousedown(function(bv){if(bv.which!=1){return}bn=true;var by=bh.getHoverListener();var bB=a4();var bq=a1();var bs=bo?-1:1;var bt=bo?bq-1:0;var bu=bk.css("top");var br;var bx;var bw=a.extend({},bl);var bz=aO(bl.start);aK();a("body").css("cursor",bj+"-resize").one("mouseup",bA);bi("eventResizeStart",this,bl,bv);by.start(function(bD,bG){if(bD){var bH=Math.max(bz.row,bD.row);var bC=bD.col;if(bB==1){bH=0}if(bH==bz.row){if(bo){bC=Math.min(bz.col,bC)}else{bC=Math.max(bz.col,bC)}}br=(bH*7+bC*bs+bt)-(bG.row*7+bG.col*bs+bt);var bE=d(aY(bl),br,true);if(br){bw.end=bE;var bF=bx;bx=bd(aN([bw]),bp.row,bu);bx.find("*").css("cursor",bj+"-resize");if(bF){bF.remove()}a7(bl)}else{if(bx){bg(bl);bx.remove();bx=null}}aJ();bb(bl.start,d(u(bE),1))}},bv);function bA(bC){bi("eventResizeStop",this,bl,bC);a("body").css("cursor","");by.stop();aJ();if(br){aZ(this,bl,br,0,bC)}setTimeout(function(){bn=false},0)}})}}function am(){var aO=this;aO.select=aM;aO.unselect=aQ;aO.reportSelection=aL;aO.daySelectionMousedown=aH;var aJ=aO.opt;var aP=aO.trigger;var aI=aO.defaultSelectionEnd;var aK=aO.renderSelection;var aG=aO.clearSelection;var aN=false;if(aJ("selectable")&&aJ("unselectAuto")){a(document).mousedown(function(aR){var aS=aJ("unselectCancel");if(aS){if(a(aR.target).parents(aS).length){return}}aQ(aR)})}function aM(aT,aS,aR){aQ();if(!aS){aS=aI(aT,aR)}aK(aT,aS,aR);aL(aT,aS,aR)}function aQ(aR){if(aN){aN=false;aG();aP("unselect",null,aR)}}function aL(aU,aS,aR,aT){aN=true;aP("select",null,aU,aS,aR,aT)}function aH(aV){var aS=aO.cellDate;var aT=aO.cellIsAllDay;var aW=aO.getHoverListener();var aX=aO.reportDayClick;if(aV.which==1&&aJ("selectable")){aQ(aV);var aR=this;var aU;aW.start(function(aY,aZ){aG();if(aY&&aT(aY)){aU=[aS(aZ),aS(aY)].sort(v);aK(aU[0],aU[1],true)}else{aU=null}},aV);a(document).one("mouseup",function(aY){aW.stop();if(aU){if(+aU[0]==+aU[1]){aX(aU[0],true,aY)}aL(aU[0],aU[1],true,aY)}})}}}function af(){var aI=this;aI.renderOverlay=aH;aI.clearOverlays=aG;var aK=[];var aJ=[];function aH(aN,aM){var aL=aJ.shift();if(!aL){aL=a("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")}if(aL[0].parentNode!=aM[0]){aL.appendTo(aM)}aK.push(aL.css(aN).show());return aL}function aG(){var aL;while(aL=aK.shift()){aJ.push(aL.hide().unbind())}}}function w(aG){var aJ=this;var aI;var aH;aJ.build=function(){aI=[];aH=[];aG(aI,aH)};aJ.cell=function(aP,aQ){var aO=aI.length;var aL=aH.length;var aM,aN=-1,aK=-1;for(aM=0;aM<aO;aM++){if(aQ>=aI[aM][0]&&aQ<aI[aM][1]){aN=aM;break}}for(aM=0;aM<aL;aM++){if(aP>=aH[aM][0]&&aP<aH[aM][1]){aK=aM;break}}return(aN>=0&&aK>=0)?{row:aN,col:aK}:null};aJ.rect=function(aO,aK,aP,aL,aN){var aM=aN.offset();return{top:aI[aO][0]-aM.top,left:aH[aK][0]-aM.left,width:aH[aL][1]-aH[aK][0],height:aI[aP][1]-aI[aO][0]}}}function V(aJ){var aM=this;var aG;var aI;var aK;var aH;aM.start=function(aO,aP,aN){aI=aO;aK=aH=null;aJ.build();aL(aP);aG=aN||"mousemove";a(document).bind(aG,aL)};function aL(aN){c(aN);var aO=aJ.cell(aN.pageX,aN.pageY);if(!aO!=!aH||aO&&(aO.row!=aH.row||aO.col!=aH.col)){if(aO){if(!aK){aK=aO}aI(aO,aK,aO.row-aK.row,aO.col-aK.col)}else{aI(aO,aK)}aH=aO}}aM.stop=function(){a(document).unbind(aG,aL);return aH}}function c(aG){if(aG.pageX===ay){aG.pageX=aG.originalEvent.pageX;aG.pageY=aG.originalEvent.pageY}}function T(aI){var aL=this,aH={},aJ={},aK={};function aG(aM){return aH[aM]=aH[aM]||aI(aM)}aL.left=function(aM){return aJ[aM]=aJ[aM]===ay?aG(aM).position().left:aJ[aM]};aL.right=function(aM){return aK[aM]=aK[aM]===ay?aL.left(aM)+aG(aM).width():aK[aM]};aL.clear=function(){aH={};aJ={};aK={}}}})(jQuery);