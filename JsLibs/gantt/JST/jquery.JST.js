$.fn.loadTemplates=function(){$.JST.loadTemplates($(this));return this};$.JST={_templates:new Object(),_decorators:new Object(),loadTemplates:function(a){a.each(function(){$(this).find(".__template__").each(function(){var f=$(this);var g=f.attr("type");if(f.get(0).firstChild.nodeType==8){var d=f.get(0).firstChild.nodeValue}else{var d=f.html()}if(!d.match(/##\w+##/)){var c="var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+d.replace(/[\r\t\n]/g," ").replace(/'(?=[^#]*#\))/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/\(#=(.+?)#\)/g,"',$1,'").split("(#").join("');").split("#)").join("p.push('")+"');}return p.join('');";try{$.JST._templates[g]=new Function("obj",c)}catch(b){console.error("JST error: "+g,b,c)}}else{try{$.JST._templates[g]=d}catch(b){console.error("JST error: "+g,b,d)}}f.remove()})})},createFromTemplate:function(f,j,l){var k=$.JST._templates;var d=new Object();if(l){for(var g in f){var m=f[g];if(typeof(m)=="string"){m=(m+"").replace(/\n/g,"<br>")}d[g]=m}}else{d=f}function c(o,e){for(var n in e){var p=e[n];o=o.replace(new RegExp("##"+n+"##","gi"),p)}o=o.replace(new RegExp("##\\w+##","gi"),"");return o}var i="";if(typeof(j)=="undefined"){alert("Template is required");i="<div>Template is required</div>"}else{if(typeof(k[j])=="function"){try{i=k[j](d)}catch(b){console.error("JST error: "+j,b.message);i="<div> ERROR: "+j+"<br>"+b.message+"</div>"}}else{i=k[j];if(!i||i.trim()==""){console.error("No template found for type '"+j+"'");return $("<div>")}else{i=c(i,d)}}}var h=$(i);h.attr("__template",j);var a=$.JST._decorators[j];if(typeof(a)=="function"){a(h,d)}return h},existsTemplate:function(a){return $.JST._templates[a]},loadDecorator:function(b,a){$.JST._decorators[b]=a},getDecorator:function(a){return $.JST._decorators[a]},decorateTemplate:function(b){var a=$.JST._decorators[b.attr("__template")];if(typeof(a)=="function"){a(editor)}},ajaxLoadAsynchTemplates:function(b,a){$.get(b,function(c){var d=$("<div>");d.html(c);$.JST.loadTemplates(d);if(typeof(a=="function")){a()}},"html")},ajaxLoadTemplates:function(a){$.ajax({async:false,url:a,dataType:"html",success:function(b){var c=$("<div>");c.html(b);$.JST.loadTemplates(c)}})}};