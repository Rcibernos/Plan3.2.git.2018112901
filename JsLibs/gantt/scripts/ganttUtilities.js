$.gridify=function(h,f){var g={resizeZoneWidth:10};$.extend(g,f);var a=$("<div>").addClass("gdfWrapper");a.append(h);var c=h.clone();c.addClass("fixHead");c.find("tbody").remove();a.append(c);a.append(h);var d=c.find(".gdfColHeader");var b=h.find(".gdfColHeader");for(var e=0;e<d.length;e++){d.eq(e).data("fTh",b.eq(e))}h.width(0);c.width(0);c.find("th.gdfColHeader.gdfResizable:not(.gdfied)").mouseover(function(){$(this).addClass("gdfColHeaderOver")}).bind("mouseout.gdf",function(){$(this).removeClass("gdfColHeaderOver");if(!$.gridify.columInResize){$("body").removeClass("gdfHResizing")}}).bind("mousemove.gdf",function(j){if(!$.gridify.columInResize){var i=$(this);var k=j.pageX-i.offset().left;if(i.width()-k<g.resizeZoneWidth){$("body").addClass("gdfHResizing")}else{$("body").removeClass("gdfHResizing")}}}).bind("mousedown.gdf",function(j){var i=$(this);var k=j.pageX-i.offset().left;if(i.width()-k<g.resizeZoneWidth){$("body").unselectable();$.gridify.columInResize=$(this);$(document).bind("mousemove.gdf",function(l){$.gridify.columInResize.width(l.pageX-$.gridify.columInResize.offset().left);$.gridify.columInResize.data("fTh").width($.gridify.columInResize.outerWidth())}).bind("mouseup.gdf",function(){$(this).unbind("mousemove.gdf").unbind("mouseup.gdf").clearUnselectable();$("body").removeClass("gdfHResizing");delete $.gridify.columInResize})}}).addClass("gdfied unselectable").attr("unselectable","true");h.find("td.gdfCell:not(.gdfied)").each(function(){var i=$(this);if(i.is(".gdfEditable")){var j=$("<input type='text'>").addClass("gdfCellInput");j.val(i.text());i.empty().append(j)}else{var k=$("<div>").addClass("gdfCellWrap");k.html(i.html());i.empty().append(k)}}).addClass("gdfied");return a};$.splittify={init:function(o,c,h,f){f=f||50;var a=$("<div>").addClass("splitterContainer");var d=$("<div>").addClass("splitElement splitBox1");var l=$("<div>").addClass("splitElement vSplitBar").attr("unselectable","on").html("|").css("padding-top",o.height()/2+"px");var i=$("<div>").addClass("splitElement splitBox2");var j=new k(a,d,i,l);j.perc=f;d.append(c);i.append(h);a.append(d).append(i).append(l);o.append(a);var n=o.innerWidth();var b=n*f/100-l.width();var g=d.get(0).scrollWidth;b=b>g?g:b;d.width(b).css({left:0});l.css({left:d.width()});i.width(n-b-l.width()).css({left:d.width()+l.width()});l.bind("mousedown.gdf",function(p){$.splittify.splitterBar=$(this);var q=d.get(0).scrollWidth;$("body").unselectable().bind("mousemove.gdf",function(r){var u=$.splittify.splitterBar;var t=r.pageX-u.parent().offset().left;var v=u.parent().width();var s=d;if(t>10&&t<q){u.css({left:t});d.width(t);i.css({left:t+u.width(),width:v-t-u.width()})}j.perc=(d.width()/j.element.width())*100}).bind("mouseup.gdf",function(){$(this).unbind("mousemove.gdf").unbind("mouseup.gdf").clearUnselectable();delete $.splittify.splitterBar})});var m=false;var e=d.add(i);e.scroll(function(p){var q=$(this);var r=q.scrollTop();if(q.is(".splitBox1")&&m!="splitBox2"){m="splitBox1";i.scrollTop(r)}else{if(q.is(".splitBox2")&&m!="splitBox1"){m="splitBox2";d.scrollTop(r)}}i.find(".fixHead").css("top",r);d.find(".fixHead").css("top",r);o.stopTime("reset").oneTime(100,"reset",function(){m=""})});function k(p,q,r,s){this.element=p;this.firstBox=q;this.secondBox=r;this.splitterBar=s;this.perc=0;this.resize=function(){var v=this.element.width();var u=this.firstBox.get(0).scrollWidth;var t=v*this.perc/100;t=t<u?t:u;this.firstBox.css({width:t});this.splitterBar.css({left:t});this.secondBox.css({left:t+this.splitterBar.width(),width:v-t-this.splitterBar.width()})}}return j}};function computeStart(a){return computeStartDate(a).getTime()}function computeStartDate(b){var a=new Date(b+3600000*12);a.setHours(0,0,0,0);while(isHoliday(a)){a.setDate(a.getDate()+1)}a.setHours(0,0,0,0);return a}function computeEnd(a){return computeEndDate(a).getTime()}function computeEndDate(b){var a=new Date(b-3600000*12);a.setHours(23,59,59,999);while(isHoliday(a)){a.setDate(a.getDate()+1)}a.setHours(23,59,59,999);return a}function computeEndByDuration(e,b){var a=new Date(e);var c=b-1;while(c>0){a.setDate(a.getDate()+1);if(!isHoliday(a)){c--}}a.setHours(23,59,59,999);return a.getTime()}function incrementDateByWorkingDays(b,c){var a=new Date(b);a.incrementDateByWorkingDays(c);return a.getTime()}function recomputeDuration(b,a){return new Date(b).distanceInWorkingDays(new Date(a))}if(!Array.prototype.filter){Array.prototype.filter=function(a){var c=this.length;if(typeof a!="function"){throw new TypeError()}var d=new Array();var e=arguments[1];for(var b=0;b<c;b++){if(b in this){var f=this[b];if(a.call(e,f,b,this)){d.push(f)}}}return d}};