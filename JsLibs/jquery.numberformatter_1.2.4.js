(function(d){var g=new Hashtable();var k=["ae","au","ca","cn","eg","gb","hk","il","in","jp","sk","th","tw","us"];var i=["at","br","de","dk","es","gr","it","nl","pt","tr","vn"];var j=["bg","cz","fi","fr","no","pl","ru","se"];var h=["ch"];var f=[[".",","],[",","."],[","," "],[".","'"]];var e=[k,i,j,h];function b(l,m,n){this.dec=l;this.group=m;this.neg=n}function c(){for(var n=0;n<e.length;n++){var m=e[n];for(var l=0;l<m.length;l++){g.put(m[l],n)}}}function a(q,p){if(g.size()==0){c()}var n=".";var o=",";var r="-";if(p==false){if(q.indexOf("_")!=-1){q=q.split("_")[1].toLowerCase()}else{if(q.indexOf("-")!=-1){q=q.split("-")[1].toLowerCase()}}}var m=g.get(q);if(m){var l=f[m];if(l){n=l[0];o=l[1]}}return new b(n,o,r)}d.fn.formatNumber=function(m,n,l){return this.each(function(){if(n==null){n=true}if(l==null){l=true}var p;if(d(this).is(":input")){p=new String(d(this).val())}else{p=new String(d(this).text())}var o=d.formatNumber(p,m);if(n){if(d(this).is(":input")){d(this).val(o)}else{d(this).text(o)}}if(l){return o}})};d.formatNumber=function(s,t){var t=d.extend({},d.fn.formatNumber.defaults,t);var m=a(t.locale.toLowerCase(),t.isFullLocale);var l=m.dec;var n=m.group;var p=m.neg;var w="0#-,.";var u="";var q=false;for(var o=0;o<t.format.length;o++){if(w.indexOf(t.format.charAt(o))==-1){u=u+t.format.charAt(o)}else{if(o==0&&t.format.charAt(o)=="-"){q=true;continue}else{break}}}var v="";for(var o=t.format.length-1;o>=0;o--){if(w.indexOf(t.format.charAt(o))==-1){v=t.format.charAt(o)+v}else{break}}t.format=t.format.substring(u.length);t.format=t.format.substring(0,t.format.length-v.length);var r=new Number(s);return d._formatNumber(r,t,v,u,q)};d._formatNumber=function(y,E,L,J,w){var E=d.extend({},d.fn.formatNumber.defaults,E);var q=a(E.locale.toLowerCase(),E.isFullLocale);var l=q.dec;var r=q.group;var v=q.neg;if(E.overrideGroupSep!=null){r=E.overrideGroupSep}if(E.overrideDecSep!=null){l=E.overrideDecSep}if(E.overrideNegSign!=null){v=E.overrideNegSign}var p=false;if(isNaN(y)){if(E.nanForceZero==true){y=0;p=true}else{return""}}if(E.isPercentage==true||(E.autoDetectPercentage&&L.charAt(L.length-1)=="%")){y=y*100}var K="";if(E.format.indexOf(".")>-1){var n=l;var m=E.format.substring(E.format.lastIndexOf(".")+1);if(E.round==true){y=new Number(y.toFixed(m.length))}else{var z=y.toString();if(z.lastIndexOf(".")>0){z=z.substring(0,z.lastIndexOf(".")+m.length+1)}y=new Number(z)}var o=new Number(y.toString().substring(y.toString().indexOf(".")));decimalString=new String(o.toFixed(m.length));decimalString=decimalString.substring(decimalString.lastIndexOf(".")+1);for(var u=0;u<m.length;u++){if(m.charAt(u)=="#"&&decimalString.charAt(u)!="0"){n+=decimalString.charAt(u);continue}else{if(m.charAt(u)=="#"&&decimalString.charAt(u)=="0"){var x=decimalString.substring(u);if(x.match("[1-9]")){n+=decimalString.charAt(u);continue}else{break}}else{if(m.charAt(u)=="0"){n+=decimalString.charAt(u)}}}}K+=n}else{y=Math.round(y)}var B=Math.floor(y);if(y<0){B=Math.ceil(y)}var C="";if(E.format.indexOf(".")==-1){C=E.format}else{C=E.format.substring(0,E.format.indexOf("."))}var A="";if(!(B==0&&C.substr(C.length-1)=="#")||p){var D=new String(Math.abs(B));var t=9999;if(C.lastIndexOf(",")!=-1){t=C.length-C.lastIndexOf(",")-1}var s=0;for(var u=D.length-1;u>-1;u--){A=D.charAt(u)+A;s++;if(s==t&&u!=0){A=r+A;s=0}}if(C.length>A.length){var H=C.indexOf("0");if(H!=-1){var G=C.length-H;var I=C.length-A.length-1;while(A.length<G){var F=C.charAt(I);if(F==","){F=r}A=F+A;I--}}}}if(!A&&C.indexOf("0",C.length-1)!==-1){A="0"}K=A+K;if(y<0&&w&&J.length>0){J=v+J}else{if(y<0){K=v+K}}if(!E.decimalSeparatorAlwaysShown){if(K.lastIndexOf(l)==K.length-1){K=K.substring(0,K.length-1)}}K=J+K+L;return K};d.fn.parseNumber=function(n,p,l){if(p==null){p=true}if(l==null){l=true}var o;if(d(this).is(":input")){o=new String(d(this).val())}else{o=new String(d(this).text())}var m=d.parseNumber(o,n);if(m){if(p){if(d(this).is(":input")){d(this).val(m.toString())}else{d(this).text(m.toString())}}if(l){return m}}};d.parseNumber=function(u,v){var v=d.extend({},d.fn.parseNumber.defaults,v);var o=a(v.locale.toLowerCase(),v.isFullLocale);var l=o.dec;var p=o.group;var s=o.neg;if(v.overrideGroupSep!=null){p=v.overrideGroupSep}if(v.overrideDecSep!=null){l=v.overrideDecSep}if(v.overrideNegSign!=null){s=v.overrideNegSign}var x="1234567890";var y=".-";var w=v.strict;while(u.indexOf(p)>-1){u=u.replace(p,"")}u=u.replace(l,".").replace(s,"-");var z="";var q=false;if(v.isPercentage==true||(v.autoDetectPercentage&&u.charAt(u.length-1)=="%")){q=true}for(var r=0;r<u.length;r++){if(x.indexOf(u.charAt(r))>-1){z=z+u.charAt(r)}else{if(y.indexOf(u.charAt(r))>-1){z=z+u.charAt(r);y=y.replace(u.charAt(r),"")}else{if(v.allowPostfix){break}else{if(w){z="NaN";break}}}}}var t=new Number(z);if(q){t=t/100;var n=z.indexOf(".");if(n!=-1){var m=z.length-n-1;t=t.toFixed(m+2)}else{t=t.toFixed(2)}}return t};d.fn.parseNumber.defaults={locale:"us",decimalSeparatorAlwaysShown:false,isPercentage:false,autoDetectPercentage:true,isFullLocale:false,strict:false,overrideGroupSep:null,overrideDecSep:null,overrideNegSign:null,allowPostfix:false};d.fn.formatNumber.defaults={format:"#,###.00",locale:"us",decimalSeparatorAlwaysShown:false,nanForceZero:true,round:true,isFullLocale:false,overrideGroupSep:null,overrideDecSep:null,overrideNegSign:null,isPercentage:false,autoDetectPercentage:true};Number.prototype.toFixed=function(l){return d._roundNumber(this,l)};d._roundNumber=function(n,l){var o=Math.pow(10,l||0);var p=String(Math.round(n*o)/o);if(l>0){var m=p.indexOf(".");if(m==-1){p+=".";m=0}else{m=p.length-(m+1)}while(m<l){p+="0";m++}}return p}})(jQuery);