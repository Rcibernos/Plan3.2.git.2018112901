<form id="cfd_tablaanexa.fase" tablaanexa="CFD_TABLAANEXA" nbcampoid="NCOL" nombreexterno="¬Fase" nbbtablaoriginal="" ayuda="" sqlcamposvista="" dynaplantilla="" triggeralter="" estilo="" modocalculo="" nombrepadreid="" omitirpadreid="0" condiferencias="0" ncol="3" version="3">
  <pa id="cfd_tablaanexa.fase|responsive" padreid="cfd_tablaanexa.fase" nombre="responsive" valor="1" sql="" />
  <pa id="cfd_tablaanexa.fase|responsivestatus" padreid="cfd_tablaanexa.fase" nombre="responsivestatus" valor="rev2pa" sql="" />
  <tab catalogformulariodesigner="cfd_tablaanexa.fase" id="2300" titulo="" cssclass="" orden="0">
    <bloque catalogformulariodesigner="cfd_tablaanexa.fase" id="2301" titulo="" cssclass="" ncol="12" primeroenlinea="1" padre="2300" visible="1" orden="1">
      <bloque catalogformulariodesigner="cfd_tablaanexa.fase" id="2302" titulo="" cssclass="" ncol="9" primeroenlinea="0" padre="2301" visible="1" orden="1">
        <campo id="cfd_tablaanexa.fase|tablaanexa" tipo="1" titulo="¬Tabla del Formulario" campo="TABLAANEXA" visible="1" sololectura="1" obligatorio="0" ancho="0" ayuda="" alto="30" etiqueta="2" longitud="50" password="" multilinea="0" tipomacro="1" orden="1" ncol="12" primeroenlinea="0">
          <calculo padreid="cfd_tablaanexa.fase|tablaanexa" tipo="1" bdtipo="1" calculo="/*[type=jscript]*/ &#xA;&#xA;$sys.trace($sys.idForm);&#xA;$sys.trace($sys.parentId);&#xA;$f.value = &quot;wf_proceso_&quot; + $sys.parentId;" orden="0" asincrono="1" />
        </campo>
        <campo id="cfd_tablaanexa.fase|catalogformulariodesigner" tipo="1" titulo="¬Nombre del Formulario" campo="CATALOGFORMULARIODESIGNER" visible="1" sololectura="0" obligatorio="1" ancho="0" ayuda="" alto="30" etiqueta="2" longitud="100" password="" multilinea="0" tipomacro="1" orden="2" ncol="12" primeroenlinea="0">
          <pa padreid="cfd_tablaanexa.fase|catalogformulariodesigner" nombre="computed" valor="1" sql="" />
        </campo>
      </bloque>
      <bloque catalogformulariodesigner="cfd_tablaanexa.fase" id="2303" titulo="" cssclass="" ncol="2" primeroenlinea="0" padre="2301" visible="1" orden="2">
        <bloque catalogformulariodesigner="cfd_tablaanexa.fase" id="2306" titulo="" cssclass="" ncol="12" primeroenlinea="0" padre="2303" visible="1" orden="1">
          <pa id="2306|min_height" padreid="2306" nombre="min_height" valor="45" sql="" />
        </bloque>
        <bloque catalogformulariodesigner="cfd_tablaanexa.fase" id="2305" titulo="" cssclass="right" ncol="12" primeroenlinea="0" padre="2303" visible="1" orden="2">
          <elementodiseno id="2988" titulo="¬Crear" catalogelementodiseno="2" ancho="7" alto="18" orden="1" ncol="1" primeroenlinea="0">
            <pa padreid="2988" nombre="cssclass" valor=" PWButton" />
            <calculo padreid="2988" tipo="2" calculo="/*[type=jscript]*/ &#xA;&#xA;var tablaAnexa = $F.getValue('tablaanexa');&#xA;var NombreExterno = $F.getValue('catalogformulariodesigner');&#xA;var nbFormulario = tablaAnexa + &quot;.&quot; + NombreExterno;&#xA;&#xA;var count = $db.executeSql(&quot;select count(CatalogFormularioDesigner) from cfd_tablaanexa where CatalogFormularioDesigner = '&quot; + nbFormulario + &quot;'&quot;).getValue(0,0);&#xA;if (count == 1) {&#xA;    formExistente(nbFormulario);&#xA;} else {&#xA;    $db.executeCommand(&quot;insert into CFD_TABLAANEXA (CatalogFormularioDesigner, TablaAnexa, NbCampoId, NombreExterno, Ncol) VALUES ('&quot; + nbFormulario + &quot;', '&quot; + tablaAnexa + &quot;', 'Agenda', '¬&quot; + NombreExterno + &quot;', 10);&quot;);&#xA;    $sys.trace('db Type: ' + $db.type);&#xA;    $sys.trace('db Version: ' + $db.version);&#xA;    if ($db.type == 'oracle' &amp;&amp; $db.version == 11) {&#xA;        var Id = $db.executeSql(&quot;select max(Id)+1 from CFD_TAB;&quot;).getValue(0,0);&#xA;        $db.executeCommand(&quot;INSERT into CFD_TAB (Id, NCol, PrimeroEnLinea, ROrden, Tipo, RFormulario) VALUES (&quot;+ Id + &quot;, 12, 1, 0, 0, '&quot; + nbFormulario + &quot;');&quot;);&#xA;        $db.executeCommand(&quot;INSERT into CFD_TAB (Id, Padre, NCol, PrimeroEnLinea, ROrden, Tipo, RFormulario) VALUES (&quot; + Id+1 + &quot;, &quot; + Id + &quot;, 12, 1, 1, 1, '&quot; + nbFormulario + &quot;');&quot;);&#xA;    } else {&#xA;        $db.executeCommand(&quot;INSERT into CFD_TAB (NCol, PrimeroEnLinea, ROrden, Tipo, RFormulario) VALUES (12, 1, 0, 0, '&quot; + nbFormulario + &quot;');&quot;);&#xA;        var idPadre = $db.executeSql(&quot;SELECT id from CFD_TAB where RFormulario = '&quot; + nbFormulario + &quot;'&quot;).getValue(0,0);&#xA;        $db.executeCommand(&quot;INSERT into CFD_TAB (Padre, NCol, PrimeroEnLinea, ROrden, Tipo, RFormulario) VALUES (&quot; + idPadre + &quot;, 12, 1, 1, 1, '&quot; + nbFormulario + &quot;');&quot;);&#xA;    }&#xA;    $db.executeCommand(&quot;INSERT into CFD_TABLAANEXA_PA (CatalogFormularioDesigner, Propiedad, valor, TpSQL) VALUES ('&quot; + nbFormulario + &quot;','responsive', 1, 1)&quot;);&#xA;    $db.executeCommand(&quot;INSERT into CFD_TABLAANEXA_PA (CatalogFormularioDesigner, Propiedad, valor, TpSQL) VALUES ('&quot; + nbFormulario + &quot;','responsivestatus', 'rev2pa', 1)&quot;);&#xA;    formExistente(nbFormulario);&#xA;}&#xA;&#xA;function formExistente(nbFormulario){&#xA;    $db.executeCommand(&quot;UPDATE WF_CTFASE set CatalogFormularioDesigner = '&quot; + nbFormulario + &quot;' where Id = &quot; + $sys.idForm);&#xA;    $this.PGS(&quot;URL&quot;,&quot;WFdisform.aspx?nbform=&quot; + nbFormulario);&#xA;    $this.PGS(&quot;CloseForm&quot;);&#xA;}" />
            <calculo padreid="2988" tipo="5" calculo="/*[type=jscript]*/ &#xA;&#xA;&#xD;&#xA;function charValid(nombre) {&#xD;&#xA;    var caractValid = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_&quot;;&#xD;&#xA;    var name = nombre;&#xD;&#xA; 	var i;&#xD;&#xA;    for (i = 0; i &lt; nombre.length; i++) { &#xD;&#xA;        var n = caractValid.indexOf(nombre.charAt(i));&#xD;&#xA;        if (n == -1) $this.err =&quot;¬El caracter &quot; + nombre.charAt(i) + &quot; es inválido&quot;;&#xD;&#xA;    }           &#xD;&#xA;}&#xD;&#xA;&#xA;&#xA;var nombre = $F.getValue(&quot;catalogformulariodesigner&quot;);&#xA;charValid(nombre);" />
          </elementodiseno>
        </bloque>
      </bloque>
    </bloque>
  </tab>
</form>